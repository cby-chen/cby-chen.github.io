
<!DOCTYPE html>
<html lang="cn" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>chenby - chenby</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="chenby,"> 
    <meta name="author" content="chenby"> 
    <link rel="alternative" href="atom.xml" title="chenby" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="chenby - chenby"/>
    <meta name="twitter:description" content="chenby,"/>
    
    
    
    
    <meta property="og:site_name" content="chenby"/>
    <meta property="og:type" content="object"/>
    <meta property="og:title" content="chenby - chenby"/>
    <meta property="og:description" content="chenby,"/>
    
<link rel="stylesheet" href="/css/diaspora.css">

<meta name="generator" content="Hexo 6.1.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">chenby</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">华为人工智能atlasA800-9000物理服务器离线安装及CANN安装和MindSpore安装和Tensorflow安装</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">华为人工智能atlasA800-9000物理服务器离线安装及CANN安装和MindSpore安装和Tensorflow安装</h1>
        <div class="stuff">
            <span>十二月 30, 2021</span>
            

        </div>
        <div class="content markdown">
            <p>目录</p>
<p>华为人工智能atlas A800-9000 物理服务器全程离线安装驱动以及CANN安装部署和MindSpore安装部署和Tensorflow安装部署</p>
<p>A800-9000 物理服务器安装驱动</p>
<p>使用镜像配置本地apt源</p>
<p>创建普通用户并设置密码</p>
<p>安装驱动以及固件</p>
<p>验证是否安装成功</p>
<p>CANN开发环境部署安装</p>
<p>安装环境以及依赖</p>
<p>安装完成后查看版本</p>
<p>安装Python3.7.5</p>
<p>使用Python3.7.5环境安装pip依赖包</p>
<p>安装开发套件包</p>
<p>CANN训练环境部署安装</p>
<p>说明</p>
<p>安装训练软件包</p>
<p>安装MindSpore</p>
<p>安装whl包</p>
<p>配置环境变量</p>
<p>测试是否可行</p>
<p>安装mindinsight</p>
<p>安装whl包</p>
<p>配置环境变量</p>
<p>启动及使用</p>
<p>安装Tensorflow</p>
<p>编译hdf5</p>
<p>配置环境变量及软连接</p>
<p>安装whl包</p>
<p>安装Pytorch</p>
<p><strong>华为人工智能atlas A800-9000 物理服务器全程离线安装驱动以及CANN安装部署和MindSpore安装部署和Tensorflow安装部署</strong></p>
<p>背景</p>
<p>Atlas 800 训练服务器（型号：9000）是基于华为鲲鹏920+昇腾910处理器的AI训练服务器，具有最强算力密度、超高能效与高速网络带宽等特点。该服务器广泛应用于深度学习模型开发和训练，适用于智慧城市、智慧医疗、天文探索、石油勘探等需要大算力的行业领域。</p>
<p>链接：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://e.huawei.com/cn/products/cloud-computing-dc/atlas/atlas-800-training-9000</span><br></pre></td></tr></table></figure>

<p>CANN (Compute Architecture for Neural Networks)</p>
<p>是华为公司针对AI场景推出的异构计算架构，通过提供多层次的编程接口，支持用户快速构建基于昇腾平台的AI应用和业务。</p>
<p>链接：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://e.huawei.com/cn/products/cloud-computing-dc/atlas/cann</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1f089f5ea12d4b2a96f1bc04c4b417d9~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>MindSpore，新一代AI开源计算框架。</p>
<p>创新编程范式，AI科学家和工程师更易使用，便于开放式创新；该计算框架可满足终端、边缘计算、云全场景需求，能更好保护数据隐私；可开源，形成广阔应用生态。</p>
<p>链接：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.mindspore.cn/</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5b21ad3d5d04fc8816abcd6a6bd80b9~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>TensorFlow最初由谷歌大脑团队开发，用于Google的研究和生产，于2015年11月9日在Apache 2.0开源许可证下发布。  </p>
<p>链接：  </p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3fcf527d2f6b47a9bdff1e349a3ee280~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.tensorflow.org/</span><br></pre></td></tr></table></figure>

<p><strong>A800-9000****物理服务器安装驱动</strong></p>
<p><strong>使用镜像配置本地apt源</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/etc/apt# mkdir/media/cdrom</span><br><span class="line">root@ubuntu:/etc/apt# mount/home/cby/ubuntu-18.04.5-server-arm64.iso /media/cdrom</span><br><span class="line">mount: /media/chrom: WARNING:device write-protected, mounted read-only.</span><br><span class="line">root@ubuntu:/etc/apt# apt-cdrom-m -d=/media/cdrom/ add</span><br><span class="line">root@ubuntu:/etc/apt# cat/etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p><strong>创建普通用户并设置密码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~#groupadd HwHiAiUser</span><br><span class="line">root@ubuntu:~#useradd -g HwHiAiUser -d /home/HwHiAiUser -m HwHiAiUser</span><br><span class="line">root@ubuntu:~#passwd HwHiAiUser</span><br><span class="line">Enter newUNIX password:</span><br><span class="line">Retype newUNIX password:</span><br><span class="line">passwd:password updated successfully</span><br></pre></td></tr></table></figure>

<p><strong>安装驱动以及固件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:~# cd /home/cby/</span><br><span class="line">root@ubuntu:/home/cby# ll</span><br><span class="line">total 98324</span><br><span class="line">drwxr-xr-x 4 cby  cby     4096 Apr 21 21:41 ./</span><br><span class="line">drwxr-xr-x 4 root root     4096 Apr 21 21:44 ../</span><br><span class="line">-rw-r--r-- 1 cby  cby 99728721 Apr 21 21:41A800-9000-npu-driver\_20.2.0\_ubuntu18.04-aarch64.run</span><br><span class="line">-rw-r--r-- 1 cby  cby   912335 Apr 21 21:41 A800-9000-npu-firmware\_1.76.22.3.220.run</span><br><span class="line">root@ubuntu:/home/cby# chmod +x\*.run</span><br><span class="line">root@ubuntu:/home/cby# ll</span><br><span class="line">total 98324</span><br><span class="line">drwxr-xr-x 4 cby  cby     4096 Apr 21 21:41 ./</span><br><span class="line">drwxr-xr-x 4 root root     4096 Apr 21 21:44 ../</span><br><span class="line">-rwxr-xr-x 1 cby  cby 99728721 Apr 21 21:41 A800-9000-npu-driver\_20.2.0\_ubuntu18.04-aarch64.run\*</span><br><span class="line">-rwxr-xr-x 1 cby  cby   912335 Apr 21 21:41 A800-9000-npu-firmware\_1.76.22.3.220.run\*</span><br><span class="line">root@ubuntu:/home/cby# aptinstall gcc</span><br><span class="line">root@ubuntu:/home/cby# aptinstall make</span><br><span class="line">root@ubuntu:/home/cby#./A800-9000-npu-driver\_20.2.0\_ubuntu18.04-aarch64.run –run</span><br><span class="line">root@ubuntu:/home/cby#./A800-9000-npu-firmware\_1.76.22.3.220.run –run</span><br></pre></td></tr></table></figure>

<p>*注意：安装完成后需要重启服务器</p>
<p><strong>验证是否安装成功</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby#npu-smi info</span><br></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1066a0a3d8d644b98b26c8196c6044fc~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p><strong>CANN****开发环境部署安装</strong>  </p>
<p><strong>安装环境以及依赖</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby# apt install g++</span><br><span class="line">root@ubuntu:/home/cby# cd cmake/</span><br><span class="line">root@ubuntu:/home/cby/cmake# ll</span><br><span class="line">total 4356</span><br><span class="line">drwxr-xr-x 2 root root    4096 Apr 21 23:48 ./</span><br><span class="line">drwxr-xr-x 7 cby  cby    4096 Apr 21 23:48 ../</span><br><span class="line">-rw-r--r-- 1 cby  cby 2971248 Apr 21 23:45 cmake\_3.10.2-1ubuntu2.18.04.1\_arm64.deb</span><br><span class="line">-rw-r--r-- 1 cby  cby 1331524 Apr 21 23:45 cmake-data\_3.10.2-1ubuntu2.18.04.1\_all.deb</span><br><span class="line">-rw-r--r-- 1 cby  cby   69166 Apr 21 23:47 libjsoncpp1\_1.7.4-3\_arm64.deb</span><br><span class="line">-rw-r--r-- 1 cby  cby   71788 Apr 21 23:48 librhash0\_1.3.6-2\_arm64.deb</span><br><span class="line">root@ubuntu:/home/cby/cmake# apt install./\*</span><br><span class="line">root@ubuntu:/home/cby/cmake# make–version</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby# apt install./zlib1g-dev\_1%3a1.2.11.dfsg-0ubuntu2\_arm64.deb</span><br><span class="line">root@ubuntu:/home/cby# apt install./libbz2-dev\_1.0.6-8.1ubuntu0.2\_arm64.deb</span><br><span class="line">root@ubuntu:/home/cby# apt install ./libsqlite3-dev\_3.22.0-1ubuntu0.4\_arm64.deb</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby# cd libssl-dev/</span><br><span class="line">root@ubuntu:/home/cby/libssl-dev#apt install ./\*</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby# cd libxslt1-dev/</span><br><span class="line">root@ubuntu:/home/cby/libxslt1-dev#ll</span><br><span class="line">total 13596</span><br><span class="line">drwxr-xr-x  2 root root   4096 Apr 22 00:37 ./</span><br><span class="line">drwxr-xr-x 10 cby  cby    4096 Apr 22 00:37 ../</span><br><span class="line">-rw-r--r--  1 cby cby    18528 Apr 22 00:30gir1.2-harfbuzz-0.0\_1.7.2-1ubuntu1\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   170204 Apr 22 00:27icu-devtools\_60.2-3ubuntu3.1\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   983364 Apr 22 00:37libglib2.0-0\_2.56.4-0ubuntu0.18.04.8\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    61832 Apr 22 00:33libglib2.0-bin\_2.56.4-0ubuntu0.18.04.8\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby  1297600 Apr 22 00:31libglib2.0-dev\_2.56.4-0ubuntu0.18.04.8\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    99676 Apr 22 00:31libglib2.0-dev-bin\_2.56.4-0ubuntu0.18.04.8\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    14528 Apr 22 00:32libgraphite2-dev\_1.3.11-2\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   280584 Apr 22 00:28libharfbuzz-dev\_1.7.2-1ubuntu1\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    12556 Apr 22 00:30libharfbuzz-gobject0\_1.7.2-1ubuntu1\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby     5348 Apr 22 00:29libharfbuzz-icu0\_1.7.2-1ubuntu1\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby  8890124 Apr 22 00:26libicu-dev\_60.2-3ubuntu3.1\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    14412 Apr 22 00:28libicu-le-hb0\_1.0.3+git161113-4\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    29760 Apr 22 00:27libicu-le-hb-dev\_1.0.3+git161113-4\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    18756 Apr 22 00:26libiculx60\_60.2-3ubuntu3.1\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   120696 Apr 22 00:35libpcre16-3\_2%3a8.39-9\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   113240 Apr 22 00:35libpcre32-3\_2%3a8.39-9\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   459316 Apr 22 00:33libpcre3-dev\_2%3a8.39-9\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    15124 Apr 22 00:35libpcrecpp0v5\_2%3a8.39-9\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   673384 Apr 22 00:25libxml2-dev\_2.9.4+dfsg1-6.1ubuntu1.3\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   395564 Apr 22 00:24libxslt1-dev\_1.1.29-5ubuntu0.2\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby    42802 Apr 22 00:33pkg-config\_0.29.1-0ubuntu2\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   144176 Apr 22 00:37python3-distutils\_3.6.9-1~18.04\_all.deb</span><br><span class="line">root@ubuntu:/home/cby/libxslt1-dev#apt install ./\*</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby# cd libffi-dev/</span><br><span class="line">root@ubuntu:/home/cby/libffi-dev#ls</span><br><span class="line">libffi-dev\_3.2.1-8\_arm64.deb</span><br><span class="line">root@ubuntu:/home/cby/libffi-dev#apt install ./\*</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby#apt install unzip</span><br><span class="line">root@ubuntu:/home/cby# apt install./libblas-dev\_3.7.1-4ubuntu1\_arm64.deb</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby# cd gfortran/</span><br><span class="line">root@ubuntu:/home/cby/gfortran#ll</span><br><span class="line">total 7844</span><br><span class="line">drwxr-xr-x  2 root root   4096 Apr 22 00:50 ./</span><br><span class="line">drwxr-xr-x 12cby  cby     4096 Apr 22 00:50 ../</span><br><span class="line">-rw-r--r--  1 cby cby     1344 Apr 22 00:48gfortran\_4%3a7.4.0-1ubuntu2.3\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby  7464740 Apr 22 00:48gfortran-7\_7.5.0-3ubuntu1~18.04\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   248176 Apr 22 00:50libgfortran4\_7.5.0-3ubuntu1~18.04\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby   300500 Apr 22 00:49libgfortran-7-dev\_7.5.0-3ubuntu1~18.04\_arm64.deb</span><br><span class="line">root@ubuntu:/home/cby/gfortran#apt install ./\*</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby# cd libblas3/</span><br><span class="line">root@ubuntu:/home/cby/libblas3#apt install ./libblas3\_3.7.1-4ubuntu1\_arm64.deb</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby# cdlibopenblas-dev/</span><br><span class="line">root@ubuntu:/home/cby/libopenblas-dev#ll</span><br><span class="line">total 3412</span><br><span class="line">drwxr-xr-x  2 root root   4096 Apr 22 00:56 ./</span><br><span class="line">drwxr-xr-x 14cby  cby     4096 Apr 22 00:56 ../</span><br><span class="line">-rw-r--r--  1 cby cby  1813748 Apr 22 00:55libopenblas-base\_0.2.20+ds-4\_arm64.deb</span><br><span class="line">-rw-r--r--  1 cby cby  1668126 Apr 22 00:54libopenblas-dev\_0.2.20+ds-4\_arm64.deb</span><br><span class="line">root@ubuntu:/home/cby/libopenblas-dev#apt install ./\*</span><br></pre></td></tr></table></figure>

<p><strong>安装完成后查看版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">gcc --version</span><br><span class="line">g++ --version</span><br><span class="line">make --version</span><br><span class="line">cmake --version</span><br><span class="line">dpkg -l zlib1g| grepzlib1g| grep ii</span><br><span class="line">dpkg -l zlib1g-dev|grep zlib1g-dev| grep ii</span><br><span class="line">dpkg -l libbz2-dev|grep libbz2-dev| grep ii</span><br><span class="line">dpkg -llibsqlite3-dev| grep libsqlite3-dev| grep ii</span><br><span class="line">dpkg -l openssl| grepopenssl| grep ii</span><br><span class="line">dpkg -l libssl-dev|grep libssl-dev| grep ii</span><br><span class="line">dpkg -l libxslt1-dev|grep libxslt1-dev| grep ii</span><br><span class="line">dpkg -l libffi-dev|grep libffi-dev| grep ii</span><br><span class="line">dpkg -l unzip| grepunzip| grep ii</span><br><span class="line">dpkg -l pciutils|grep pciutils| grep ii</span><br><span class="line">dpkg -l net-tools|grep net-tools| grep ii</span><br><span class="line">dpkg -l libblas-dev|grep libblas-dev| grep ii</span><br><span class="line">dpkg -l gfortran|grep gfortran| grep ii</span><br><span class="line">dpkg -l libblas3|grep libblas3| grep ii</span><br><span class="line">dpkg -llibopenblas-dev| grep libopenblas-dev| grep ii</span><br></pre></td></tr></table></figure>

<p><strong>安装Python3.7.5</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/python#tar xvf Python3.7.5.tar</span><br><span class="line">root@ubuntu:/home/cby/python# cdPython-3.7.5/</span><br><span class="line">root@ubuntu:/home/cby/python/Python-3.7.5#./configure --prefix=/usr/local/python3.7.5 --enable-loadable-sqlite-extensions--enable-shared</span><br><span class="line">root@ubuntu:/home/cby/python/Python-3.7.5#make</span><br><span class="line">root@ubuntu:/home/cby/python/Python-3.7.5#make install</span><br><span class="line"> </span><br><span class="line">root@ubuntu:/home/cby# sudo ln -s/usr/local/python3.7.5/bin/pip3 /usr/local/bin/pip3.7.5</span><br><span class="line">root@ubuntu:/home/cby# sudo ln-s /usr/local/python3.7.5/bin/python3 /usr/local/bin/python3.7.5</span><br><span class="line">root@ubuntu:/home/cby/cann\_xunlian#sudo ln -s /usr/local/python3.7.5/bin/python3 /usr/local/bin/python3.7</span><br><span class="line">root@ubuntu:/home/cby/cann\_xunlian#sudo ln -s /usr/local/python3.7.5/bin/pip3 /usr/local/bin/pip3.7</span><br><span class="line"> </span><br><span class="line">root@ubuntu:/home/cby# vim ~/.bashrc</span><br><span class="line">exportLD\_LIBRARY\_PATH=/usr/local/python3.7.5/lib:$LD\_LIBRARY\_PATH</span><br><span class="line">      </span><br><span class="line">root@ubuntu:/home/cby#python3.7.5 --version</span><br><span class="line">Python 3.7.5</span><br><span class="line">root@ubuntu:/home/cby# pip3.7.5--version</span><br><span class="line">pip 19.2.3 from /usr/local/python3.7.5/lib/python3.7/site-packages/pip(python 3.7)</span><br></pre></td></tr></table></figure>

<p><strong>使用Python3.7.5环境安装pip依赖包</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/pip-pack# tar xvfpip\_pack.tar</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./attrs-20.3.0-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./numpy-1.17.2-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./decorator-5.0.6-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./mpmath-1.2.1-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./sympy-1.4-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./pycparser-2.20-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./cffi-1.12.3.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./PyYAML-5.3.1.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./six-1.15.0-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./pathlib2-2.3.5-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./psutil-5.8.0.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./protobuf-3.15.8-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./scipy-1.6.0-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./chardet-3.0.4-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./idna-2.10-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./urllib3-1.25.10-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./certifi-2020.6.20-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./certifi-2020.6.20-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./requests-2.24.0-py2.py3-none-any.wh</span><br><span class="line">root@ubuntu:/home/cby/pip-pack/pip\_pack#pip3.7.5 install ./xlrd-1.2.0-py2.py3-none-any.whl</span><br></pre></td></tr></table></figure>

<p> <strong>*注意：以上pip包的安装必须以该顺序依次进行安装</strong></p>
<p><strong>安装开发套件包</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/cann#./Ascend-cann-tfplugin\_20.2.rc1\_linux-aarch64.run –install</span><br><span class="line">root@ubuntu:/home/cby/cann#./Ascend-cann-toolkit\_20.2.rc1\_linux-aarch64.run –install</span><br></pre></td></tr></table></figure>

<p>    出现install success后表示安装成功。  </p>
<p><strong>CANN****训练环境部署安装</strong></p>
<p><strong>说明</strong></p>
<p>       训练环境的Python3.7.5和环境以及依赖，和开发环境下的安装方式一样，可参考《CANN开发环境部署安装》文档进行安装。在已经搭建好的开发环境中，进行安装训练环境仅需安装一下训练软件包和实用工具包即可。</p>
<p><strong>安装训练软件包</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/cann\_xunlian# chmod+x ./\*.run</span><br><span class="line">root@ubuntu:/home/cby/cann\_xunlian# ./Ascend-cann-nnae\_20.2.rc1\_linux-aarch64.run–install</span><br><span class="line">root@ubuntu:/home/cby/cann\_xunlian#./Ascend-cann-toolbox\_20.2.rc1\_linux-aarch64.run –install</span><br></pre></td></tr></table></figure>

<p>       出现install success后表示安装成功。</p>
<p><strong>安装MindSpore</strong></p>
<p><strong>安装whl包</strong></p>
<p>        安装Ascend 910 AI处理器配套软件包提供的whl包，whl包随配套软件包发布，升级配套软件包之后需要重新安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/mindspore\_ascend#pip3.7.5 install /usr/local/Ascend/ascend-toolkit/latest/fwkacllib/lib64/hccl-0.1.0-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend#pip3.7.5 install /usr/local/Ascend/ascend-toolkit/latest/fwkacllib/lib64/te-0.4.0-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend#pip3.7.5 install /usr/local/Ascend/ascend-toolkit/latest/fwkacllib/lib64/topi-0.4.0-py3-none-any.whl</span><br><span class="line"> </span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install easydict-1.9.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install ./wheel-0.36.2-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install ./astunparse-1.6.3-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install ./Pillow-8.2.0-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install ./asttokens-2.0.4-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install ./cffi-1.14.5-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install ./pyparsing-2.4.7-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install ./packaging-20.9-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindspore\_ascend/pip#pip3.7.5 install ../mindspore\_ascend-1.1.1-cp37-cp37m-linux\_aarch64.whl</span><br></pre></td></tr></table></figure>

<p><strong>*注意：安装时必须以此顺序进行安装</strong></p>
<p><strong>配置环境变量</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">\# control log level.0-DEBUG, 1-INFO, 2-WARNING, 3-ERROR, default level is WARNING.</span><br><span class="line"> </span><br><span class="line">export GLOG\_v=2</span><br><span class="line"> </span><br><span class="line"># Conda environmentaloptions</span><br><span class="line"> </span><br><span class="line">LOCAL\_ASCEND=/usr/local/Ascend</span><br><span class="line"> </span><br><span class="line"># the root directoryof run package</span><br><span class="line"> </span><br><span class="line"># lib libraries thatthe run package depends on</span><br><span class="line"> </span><br><span class="line">exportLD\_LIBRARY\_PATH=$&#123;LOCAL\_ASCEND&#125;/add-ons/:$&#123;LOCAL\_ASCEND&#125;/ascend-toolkit/latest/fwkacllib/lib64:$&#123;LOCAL\_ASCEND&#125;/driver/lib64:$&#123;LOCAL\_ASCEND&#125;/opp/op\_impl/built-in/ai\_core/tbe/op\_tiling:$&#123;LD\_LIBRARY\_PATH&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"># Environmentvariables that must be configured</span><br><span class="line"> </span><br><span class="line">exportTBE\_IMPL\_PATH=$&#123;LOCAL\_ASCEND&#125;/ascend-toolkit/latest/opp/op\_impl/built-in/ai\_core/tbe</span><br><span class="line"> </span><br><span class="line"># TBE operatorimplementation tool path</span><br><span class="line"> </span><br><span class="line">exportASCEND\_OPP\_PATH=$&#123;LOCAL\_ASCEND&#125;/ascend-toolkit/latest/opp</span><br><span class="line"> </span><br><span class="line"># OPP path</span><br><span class="line"> </span><br><span class="line">exportPATH=$&#123;LOCAL\_ASCEND&#125;/ascend-toolkit/latest/fwkacllib/ccec\_compiler/bin/:$&#123;PATH&#125;</span><br><span class="line"> </span><br><span class="line"># TBE operatorcompilation tool path</span><br><span class="line"> </span><br><span class="line">exportPYTHONPATH=$&#123;TBE\_IMPL\_PATH&#125;:$&#123;PYTHONPATH&#125;</span><br><span class="line"> </span><br><span class="line"># Python library thatTBE implementation depends on</span><br></pre></td></tr></table></figure>

<p><strong>测试是否可行</strong></p>
<p>Python代码内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">from mindspore importTensor</span><br><span class="line">import mindspore.opsas ops</span><br><span class="line">importmindspore.context as context</span><br><span class="line"> </span><br><span class="line">context.set\_context(device\_target=&quot;Ascend&quot;)</span><br><span class="line"> </span><br><span class="line">x =Tensor(np.ones(\[1,3,3,4\]).astype(np.float32))</span><br><span class="line">y =Tensor(np.ones(\[1,3,3,4\]).astype(np.float32))</span><br><span class="line">print(ops.tensor\_add(x,y))</span><br></pre></td></tr></table></figure>

<p>出现此结果即是安装部署完成</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">\[\[\[\[2. 2. 2. 2.\]</span><br><span class="line">   \[2. 2. 2. 2.\]</span><br><span class="line">   \[2. 2. 2. 2.\]\]</span><br><span class="line"> </span><br><span class="line">  \[\[2. 2. 2. 2.\]</span><br><span class="line">   \[2. 2. 2. 2.\]</span><br><span class="line">   \[2. 2. 2. 2.\]\]</span><br><span class="line"> </span><br><span class="line">  \[\[2. 2. 2. 2.\]</span><br><span class="line">   \[2. 2. 2. 2.\]</span><br><span class="line">   \[2. 2. 2. 2.\]\]\]\]</span><br></pre></td></tr></table></figure>

<p><strong>安装mindinsight</strong></p>
<p><strong>安装whl包</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./itsdangerous-1.1.0-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./Werkzeug-1.0.1-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./MarkupSafe-1.1.1-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./Jinja2-2.11.3-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./click-7.1.2-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./Flask-1.1.2-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./Flask\_Cors-3.0.10-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./yapf-0.31.0-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./future-0.18.2.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./treelib-1.6.1.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./grpcio-1.37.0-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./google\_pasta-0.2.0-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./pytz-2021.1-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./python\_dateutil-2.8.1-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./pandas-1.2.3-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./gunicorn-20.1.0.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./marshmallow-3.11.1-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./threadpoolctl-2.1.0-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./joblib-1.0.1-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./scikit\_learn-0.24.1-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/mindinsight/Mindinsight#pip3.7.5 install ./mindinsight-1.1.1-cp37-cp37m-linux\_aarch64.whl</span><br></pre></td></tr></table></figure>

<p><strong>*注意：安装必须以此顺序进安装</strong></p>
<p><strong>配置环境变量</strong></p>
<p>在配置文件中配置如下变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PATH=$PATH:/usr/local/python3.7.5/bin/</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby#source /etc/profile</span><br></pre></td></tr></table></figure>

<p><strong>启动及使用</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby#mindinsight start</span><br><span class="line">Workspace:/root/mindinsight</span><br><span class="line">Webaddress: http://127.0.0.1:8080</span><br><span class="line">servicestart state: success</span><br></pre></td></tr></table></figure>

<p>    出现该消息后，说明可视化已经启动成功，若需要外机访问的话，需要进行反向代理到0.0.0.0上面即可，比如frp工具即可实现该操作</p>
<p>    在训练完成的Python代码目录下，使以下命令即可启动并展示该目录下的训练数据，debugger的参数可使用false或者true</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mindinsightstart --summary-base-dir . --port 8080 --enable-debugger True --debugger-port50051</span><br></pre></td></tr></table></figure>

<p>使用如下命令即可启动训练</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/lenet/lenet#python3.7.5 lenet.py --device_target=Ascend</span><br></pre></td></tr></table></figure>

<p><strong>安装Tensorflow</strong></p>
<p><strong>编译hdf5</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#cd hdf5-1.10.5/</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow/hdf5-1.10.5#./configure --prefix=/usr/include/hdf5</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow/hdf5-1.10.5#make</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow/hdf5-1.10.5#make install</span><br></pre></td></tr></table></figure>

<p><strong>配置环境变量及软连接</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exportCPATH=&quot;/usr/include/hdf5/include/:/usr/include/hdf5/lib/&quot;</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow/hdf5-1.10.5#ln -s /usr/include/hdf5/lib/libhdf5.so /usr/lib/libhdf5.so</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow/hdf5-1.10.5#ln -s /usr/include/hdf5/lib/libhdf5\_hl.so /usr/lib/libhdf5\_hl.so</span><br></pre></td></tr></table></figure>

<p><strong>安装whl包</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./Cython-0.29.21-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./h5py-2.10.0-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./grpcio-1.30.0.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./gast-0.2.2.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./opt\_einsum-3.3.0-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./Keras\_Applications-1.0.8-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./Keras\_Preprocessing-1.1.2-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./astor-0.8.1-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./typing\_extensions-3.7.4.3-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./zipp-3.4.1-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./importlib\_metadata-3.10.1-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./Markdown-3.2.2-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./tensorboard-1.15.0-py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./wrapt-1.12.1.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./tensorflow\_estimator-1.15.1-py2.py3-none-any.whl</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./termcolor-1.1.0.tar.gz</span><br><span class="line">root@ubuntu:/home/cby/Tensorflow/Tensorflow#pip3.7.5 install ./tensorflow-1.15.0-cp37-cp37m-linux\_aarch64.whl</span><br></pre></td></tr></table></figure>

<p><strong>注意：必须依次安装</strong></p>
<p><strong>安装Pytorch</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@ubuntu:/home/cby/pytorch/Pytorch#pip3.7.5 install ./apex-0.1+ascend-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/pytorch/Pytorch#pip3.7.5 install ./torch-1.5.0+ascend.post2-cp37-cp37m-linux\_aarch64.whl</span><br><span class="line">root@ubuntu:/home/cby/pytorch/Pytorch#pip3.7.5 install ./future-0.18.2.tar.gz</span><br></pre></td></tr></table></figure>

<p>该文章所配套的软件包关注微信公众号回复 ai 即可获取所需要的所有软件包  </p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/77094ff7a2294266a68d51827856684e~tplv-k3u1fbpfcp-zoom-1.image" alt="Linux运维交流社区"></p>
<p><strong>Linux运维交流社区</strong></p>
<p>Linux运维交流社区，互联网新闻以及技术交流。</p>
<p>20篇原创内容</p>
<p>公众号</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2db21b727fad415d83915de139e7faa1~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                        
                            <li title="1" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link"
		data-enable="false"
        data-ae="false"
        data-ci=""
        data-cs=""
        data-r=""
        data-o=""
        data-a=""
        data-d="false"
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
