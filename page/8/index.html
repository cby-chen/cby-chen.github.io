<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>小陈运维 - 小陈运维</title><meta name="author" content="chenby"><meta name="copyright" content="chenby"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="小陈运维">
<meta property="og:type" content="website">
<meta property="og:title" content="小陈运维">
<meta property="og:url" content="http://www.chenby.cn/page/8/index.html">
<meta property="og:site_name" content="小陈运维">
<meta property="og:description" content="小陈运维">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="chenby">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.chenby.cn/page/8/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小陈运维',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-05-06 14:18:15'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">103</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://www.oiox.cn/images/wallhaven-g7m7xe.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小陈运维</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">小陈运维</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-kubernetes%EF%BC%88k8s%EF%BC%89%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E5%8A%9F%E8%83%BD/" title="kubernetes（k8s）安装命令行自动补全功能"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-72kwpo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes（k8s）安装命令行自动补全功能"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%EF%BC%88k8s%EF%BC%89%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8%E5%8A%9F%E8%83%BD/" title="kubernetes（k8s）安装命令行自动补全功能">kubernetes（k8s）安装命令行自动补全功能</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:08:00.000Z" title="发表于 2021-12-30 17:08:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">
Ubuntu下安装命令
123456root@master1:~# apt install -y bash-completionReading package lists... DoneBuilding dependency tree      Reading state information... Donebash-completion is already the newest version (1:2.10-1ubuntu1).0 upgraded, 0 newly installed, 0 to remove and 29 not upgraded.

centos下安装命令
1234567[root@dss ~]# yum install bash-completion -yLoaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * epel: mirrors.tuna.tsinghua.edu.cnPackage 1:bash-completion-2.1-8. ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_deepface_%E6%8D%A2%E8%84%B8%E6%8A%80%E6%9C%AF_%E5%AD%A6%E4%B9%A0/" title="人工智能 deepface 换脸技术 学习"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-72kwpo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="人工智能 deepface 换脸技术 学习"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_deepface_%E6%8D%A2%E8%84%B8%E6%8A%80%E6%9C%AF_%E5%AD%A6%E4%B9%A0/" title="人工智能 deepface 换脸技术 学习">人工智能 deepface 换脸技术 学习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:07:56.000Z" title="发表于 2021-12-30 17:07:56">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">
介绍  
Deepface是一个轻量级的python人脸识别和人脸属性分析（年龄、性别、情感和种族）框架。它是一种混合人脸识别框架缠绕状态的最先进的模型：VGG-Face，Google FaceNet，OpenFace，Facebook DeepFace，DeepID，ArcFace和Dlib。那些模型已经达到并通过了人类水平的准确性。该库主要基于 TensorFlow 和 Keras。
环境准备与安装
项目地址：
https://github.com/serengil/deepface
pycharm环境下载：
https://www.jetbrains.com/pycharm/download/#section=windows
conda虚拟环境：
https://www.anaconda.com/products/individual
数据集：
https://github.com/serengil/deepface\_models/releases/download/v1.0/vgg\_face\_weights.h5
https://github.com/serengil/ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-KubeSphere_%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA%E5%B9%B6%E5%90%AF%E7%94%A8%E6%89%80%E6%9C%89%E6%8F%92%E4%BB%B6/" title="KubeSphere 高可用集群搭建并启用所有插件"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-3z72w9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="KubeSphere 高可用集群搭建并启用所有插件"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-KubeSphere_%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA%E5%B9%B6%E5%90%AF%E7%94%A8%E6%89%80%E6%9C%89%E6%8F%92%E4%BB%B6/" title="KubeSphere 高可用集群搭建并启用所有插件">KubeSphere 高可用集群搭建并启用所有插件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:07:33.000Z" title="发表于 2021-12-30 17:07:33">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">介绍
大多数情况下，单主节点集群大致足以供开发和测试环境使用。但是，对于生产环境，您需要考虑集群的高可用性。如果关键组件（例如 kube-apiserver、kube-scheduler 和 kube-controller-manager）都在同一个主节点上运行，一旦主节点宕机，Kubernetes 和 KubeSphere 都将不可用。因此，您需要为多个主节点配置负载均衡器，以创建高可用集群。您可以使用任意云负载均衡器或者任意硬件负载均衡器（例如 F5）。此外，也可以使用 Keepalived 和 HAproxy，或者 Nginx 来创建高可用集群。
架构
在您开始操作前，请确保准备了 6 台 Linux 机器，其中 3 台充当主节点，另外 3 台充当工作节点。下图展示了这些机器的详情，包括它们的私有 IP 地址和角色。
配置负载均衡器
您必须在您的环境中创建一个负载均衡器来监听（在某些云平台也称作监听器）关键端口。建议监听下表中的端口。
服务  协议  端口
apiserver TCP 6443
ks-console  TCP 30880
http  TCP 80
https TC ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-Ansible_%E5%AE%89%E8%A3%85%E5%B9%B6%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="Ansible 安装并简单使用"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-o393e7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ansible 安装并简单使用"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-Ansible_%E5%AE%89%E8%A3%85%E5%B9%B6%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" title="Ansible 安装并简单使用">Ansible 安装并简单使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:07:00.000Z" title="发表于 2021-12-30 17:07:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">Ansible 简介
Ansible 是一款 IT 自动化工具。主要应用场景有配置系统、软件部署、持续发布及不停服平滑滚动更新的高级任务编排。

Ansible 本身非常简单易用，同时注重安全和可靠性，以最小化变动为特色，使用 OpenSSH 实现数据传输 ( 如果有需要的话也可以使用其它传输模式或者 pull 模式 )，其语言设计非常利于人类阅读，即使是针对不刚接触 Ansible 的新手来讲亦是如此。
我们坚信无论什么范围的环境，简单都是必须的，所以我们的设计尽可能满足各类型的繁忙人群：开发人员、系统管理员、发布工程师、IT 管理员等所有类型的人。同时， Ansible 适用于各种环境，小到几台多到成千上万台的企业实际环境都完全满足。
Ansible 不使用C&#x2F;S架构管理节点，即没有 Agent 。这样的架构使得 Ansible 不会存在如何升级远程 Agent 管理进程或者因为没有安装 Agent 而无法管理系统。因为 OpenSSH 是非常流行的开源组件，安全问题也非常少 。Ansible 的 去中心化 管理方式深受业内认可， 即它只依赖 OS 的 KEY 认证访问远 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-kubernetes(k8s)_%E5%AD%98%E5%82%A8%E5%8A%A8%E6%80%81%E6%8C%82%E8%BD%BD/" title="kubernetes(k8s) 存储动态挂载"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-72kwpo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes(k8s) 存储动态挂载"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes(k8s)_%E5%AD%98%E5%82%A8%E5%8A%A8%E6%80%81%E6%8C%82%E8%BD%BD/" title="kubernetes(k8s) 存储动态挂载">kubernetes(k8s) 存储动态挂载</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:07:00.000Z" title="发表于 2021-12-30 17:07:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">使用 nfs 文件系统 实现kubernetes存储动态挂载

1. 安装服务端和客户端
&#96;&#96;&#96;shellroot@hello:~# apt install nfs-kernel-server nfs-common
&#96;&#96;&#96;shell
其中 nfs-kernel-server 为服务端，　nfs-common 为客户端。
2. 配置 nfs 共享目录
&#96;&#96;&#96;shellroot@hello:# mkdir &#x2F;nfsroot@hello:# sudo vim &#x2F;etc&#x2F;exports&#x2F;nfs *(rw,sync,no_root_squash,no_subtree_check)
&#96;&#96;&#96;shell
&#96;&#96;&#96;shell各字段解析如下：&#x2F;nfs: 要共享的目录：指定可以访问共享目录的用户 ip, * 代表所有用户。192.168.3.　指定网段。192.168.3.29 指定 ip。rw：可读可写。如果想要只读的话，可以指定 ro。s ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-%E5%AD%A6%E4%B9%A0docker%E7%9C%8B%E6%AD%A4%E6%96%87%E8%B6%B3%E4%BB%A5/" title="学习docker看此文足以"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-8o3g1y.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="学习docker看此文足以"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-%E5%AD%A6%E4%B9%A0docker%E7%9C%8B%E6%AD%A4%E6%96%87%E8%B6%B3%E4%BB%A5/" title="学习docker看此文足以">学习docker看此文足以</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:07:00.000Z" title="发表于 2021-12-30 17:07:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">什么是 DockerDocker 最初是 dotCloud 公司创始人  在法国期间发起的一个公司内部项目，它是基于 dotCloud 公司多年云服务技术的一次革新，并于 ，主要项目代码在  上进行维护。Docker 项目后来还加入了 Linux 基金会，并成立推动 。
Docker 自开源后受到广泛的关注和讨论，至今其  已经超过 5 万 7 千个星标和一万多个 fork。甚至由于 Docker 项目的火爆，在 2013 年底，。Docker 最初是在 Ubuntu 12.04 上开发实现的；Red Hat 则从 RHEL 6.5 开始对 Docker 进行支持；Google 也在其 PaaS 产品中广泛应用 Docker。
  
为什么要用 Docker作为一种新兴的虚拟化方式，Docker 跟传统的虚拟化方式相比具有众多的优势。
更高效的利用系统资源
由于容器不需要进行硬件虚拟以及运行完整操作系统等额外开销，Docker 对系统资源的利用率更高。无论是应用执行速度、内存损耗或者文件存储速度，都要比传统虚拟机技术更高效。因此，相比虚拟机技术，一个相同配置的主机，往往可以运行更多数量 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-PVE%E5%BC%80%E5%90%AF%E7%A1%AC%E4%BB%B6%E6%98%BE%E5%8D%A1%E7%9B%B4%E9%80%9A%E5%8A%9F%E8%83%BD/" title="PVE开启硬件显卡直通功能"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-6o7md7.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PVE开启硬件显卡直通功能"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-PVE%E5%BC%80%E5%90%AF%E7%A1%AC%E4%BB%B6%E6%98%BE%E5%8D%A1%E7%9B%B4%E9%80%9A%E5%8A%9F%E8%83%BD/" title="PVE开启硬件显卡直通功能">PVE开启硬件显卡直通功能</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:06:00.000Z" title="发表于 2021-12-30 17:06:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">首先编辑GRUB配置文件：
&#96;&#96;&#96;shellroot@pve:# vim &#x2F;etc&#x2F;default&#x2F;grubroot@pve:#root@pve:~# cat &#x2F;etc&#x2F;default&#x2F;grub
If you change this file, run ‘update-grub’ afterwards to update&#x2F;boot&#x2F;grub&#x2F;grub.cfg.For full documentation of the options in this file, see:info -f grub -n ‘Simple configuration’GRUB_DEFAULT&#x3D;0GRUB_TIMEOUT&#x3D;5GRUB_DISTRIBUTOR&#x3D;lsb_release -i -s 2&gt; /dev/null || echo DebianGRUB_CMDLINE_LINUX_DEFAULT&#x3D;”quiet intel_iommu&#x3D;on v ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-SELinux%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/" title="SELinux入门学习总结"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-o393e7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SELinux入门学习总结"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-SELinux%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/" title="SELinux入门学习总结">SELinux入门学习总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:04:23.000Z" title="发表于 2021-12-30 17:04:23">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">前言
安全增强型 Linux（Security-Enhanced Linux）简称 SELinux，它是一个 Linux 内核模块，也是 Linux 的一个安全子系统。
SELinux 主要由美国国家安全局开发。2.6 及以上版本的 Linux 内核都已经集成了 SELinux 模块。
SELinux 的结构及配置非常复杂，而且有大量概念性的东西，要学精难度较大。很多 Linux 系统管理员嫌麻烦都把 SELinux 关闭了。
如果可以熟练掌握 SELinux 并正确运用，我觉得整个系统基本上可以到达“坚不可摧”的地步了（请永远记住没有绝对的安全）。
掌握 SELinux 的基本概念以及简单的配置方法是每个 Linux 系统管理员的必修课。

一、基本概念
1、TE模型的安全上下文
所有的操作系统访问控制都基于主体、客体，以及与他们相关的访问控制属性。
在selinux中，访问控制属性叫做安全上下文。所有对象(文件、进程间通信通道、套接字、网络主机等)和主体(进程)都有一个与之关联的安全上下文。
一个安全上下文包含三个元素：用户（user）、角色（role）和类型标识符（type id ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-%E4%BD%BF%E7%94%A8frp%E8%BF%9B%E8%A1%8C%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" title="使用frp进行内网穿透"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-dp3l2o.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用frp进行内网穿透"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-%E4%BD%BF%E7%94%A8frp%E8%BF%9B%E8%A1%8C%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" title="使用frp进行内网穿透">使用frp进行内网穿透</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:04:00.000Z" title="发表于 2021-12-30 17:04:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">    frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。
    **frp is a high-performance reverse proxy application focusing on intranet penetration, supporting multiple protocols such as TCP, UDP, HTTP, and HTTPS. Intranet services can be exposed to the public network through a relay with public network IP nodes in a safe and convenient way.**

为什么使用 frp ？
Why use frp?
    通过在具有公网 IP 的节点上部署 frp 服务端，可以轻松地将内网服务穿透到公网，同时提供诸多专业的功能特性，这包括：
    By deploying the frp ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-%E5%8D%8E%E4%B8%BA_A800-9000_%E6%9C%8D%E5%8A%A1%E5%99%A8_%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85MindX_DL_%E5%8F%AF%E8%A7%86%E5%8C%96%E7%8E%AF%E5%A2%83+%E7%9B%91%E6%8E%A7/" title="华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-wq5qk6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-%E5%8D%8E%E4%B8%BA_A800-9000_%E6%9C%8D%E5%8A%A1%E5%99%A8_%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85MindX_DL_%E5%8F%AF%E8%A7%86%E5%8C%96%E7%8E%AF%E5%A2%83+%E7%9B%91%E6%8E%A7/" title="华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控">华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:04:00.000Z" title="发表于 2021-12-30 17:04:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">    MindX DL Sample主要应用于企业的数据中心或超算中心机房中，针对不同的应用场景为客户提供AI深度学习端到端解决方案。
    传统行业：用户无自建深度学习平台，希望能够提供简单易用、软硬件一体化的深度学习平台。
    互联网和安防行业：用户有自建深度学习平台，希望提供适配客户深度学习平台的开源插件，快速上线昇腾系列AI处理器的深度学习。
    超算中心和公有云行业：用户无AI深度学习集群，希望提供大规模AI深度学习集群、支持超高密部署、整柜交付，缩短项目交付周期，加速业务上线，节省安装部署及调测成本。

    说明：此文档需要先将基础kubernetes环境下的DL搭建完成，参考《华为 A800-9000 服务器 离线安装MindX DL》  
一、 修改ansible配置文件  
&#96;&#96;&#96;shellroot@ubuntu:&#x2F;etc&#x2F;ansible# vim hostsroot@ubuntu:&#x2F;etc&#x2F;ansible#root@ubuntu:&#x2F;etc&#x2F;ansible#root@u ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/7/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/#content-inner">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/#content-inner">11</a><a class="extend next" rel="next" href="/page/9/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">chenby</div><div class="author-info__description">小陈运维</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">103</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/cby-chen/"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">这是我的博客,欢迎访问小陈运维,订阅消息即关注微信公众号,微信公众号《Linux运维交流社区》</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/05/05/2022-05-05-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85Kubernetes%EF%BC%88k8s%EF%BC%89_v1.24.0_IPv4_IPv6%E5%8F%8C%E6%A0%88/" title="二进制安装Kubernetes（k8s） v1.24.0 IPv4/IPv6双栈"><img src="https://www.oiox.cn/images/wallhaven-rdwjj7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="二进制安装Kubernetes（k8s） v1.24.0 IPv4/IPv6双栈"/></a><div class="content"><a class="title" href="/2022/05/05/2022-05-05-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85Kubernetes%EF%BC%88k8s%EF%BC%89_v1.24.0_IPv4_IPv6%E5%8F%8C%E6%A0%88/" title="二进制安装Kubernetes（k8s） v1.24.0 IPv4/IPv6双栈">二进制安装Kubernetes（k8s） v1.24.0 IPv4/IPv6双栈</a><time datetime="2022-05-05T10:41:46.000Z" title="发表于 2022-05-05 18:41:46">2022-05-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/29/2022-04-29-Kubernetes%EF%BC%88k8s%EF%BC%89%E5%AE%9E%E7%8E%B0IPv4_IPv6%E7%BD%91%E7%BB%9C%E5%8F%8C%E6%A0%88/" title="Kubernetes（k8s）实现IPv4/IPv6网络双栈"><img src="https://www.oiox.cn/images/wallhaven-x86583.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes（k8s）实现IPv4/IPv6网络双栈"/></a><div class="content"><a class="title" href="/2022/04/29/2022-04-29-Kubernetes%EF%BC%88k8s%EF%BC%89%E5%AE%9E%E7%8E%B0IPv4_IPv6%E7%BD%91%E7%BB%9C%E5%8F%8C%E6%A0%88/" title="Kubernetes（k8s）实现IPv4/IPv6网络双栈">Kubernetes（k8s）实现IPv4/IPv6网络双栈</a><time datetime="2022-04-29T08:04:57.000Z" title="发表于 2022-04-29 16:04:57">2022-04-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/28/2022-04-28-%E4%BD%BF%E7%94%A8Kubernetes%E5%BF%AB%E9%80%9F%E5%90%AF%E7%94%A8%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2/" title="使用Kubernetes快速启用一个静态页面"><img src="https://www.oiox.cn/images/wallhaven-rdwjj7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Kubernetes快速启用一个静态页面"/></a><div class="content"><a class="title" href="/2022/04/28/2022-04-28-%E4%BD%BF%E7%94%A8Kubernetes%E5%BF%AB%E9%80%9F%E5%90%AF%E7%94%A8%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2/" title="使用Kubernetes快速启用一个静态页面">使用Kubernetes快速启用一个静态页面</a><time datetime="2022-04-28T01:39:00.000Z" title="发表于 2022-04-28 09:39:00">2022-04-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/24/2022-04-24-kubernetes%EF%BC%88k8s%EF%BC%89_%E5%AE%89%E8%A3%85_Prometheus_+_Grafana/" title="kubernetes（k8s） 安装 Prometheus + Grafana"><img src="https://www.oiox.cn/images/wallhaven-x86583.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes（k8s） 安装 Prometheus + Grafana"/></a><div class="content"><a class="title" href="/2022/04/24/2022-04-24-kubernetes%EF%BC%88k8s%EF%BC%89_%E5%AE%89%E8%A3%85_Prometheus_+_Grafana/" title="kubernetes（k8s） 安装 Prometheus + Grafana">kubernetes（k8s） 安装 Prometheus + Grafana</a><time datetime="2022-04-24T02:01:26.000Z" title="发表于 2022-04-24 10:01:26">2022-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/21/2022-04-21-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85Kubernetes%EF%BC%88k8s%EF%BC%89_v1.23.6/" title="二进制安装Kubernetes（k8s） v1.23.6"><img src="https://www.oiox.cn/images/wallhaven-x86583.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="二进制安装Kubernetes（k8s） v1.23.6"/></a><div class="content"><a class="title" href="/2022/04/21/2022-04-21-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85Kubernetes%EF%BC%88k8s%EF%BC%89_v1.23.6/" title="二进制安装Kubernetes（k8s） v1.23.6">二进制安装Kubernetes（k8s） v1.23.6</a><time datetime="2022-04-21T08:44:13.000Z" title="发表于 2022-04-21 16:44:13">2022-04-21</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/"><span class="card-category-list-name">默认分类</span><span class="card-category-list-count">103</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">14</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">66</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">103</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2017-12-31T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-05-06T06:18:14.795Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By chenby</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>