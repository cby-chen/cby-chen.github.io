<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>小陈运维 - 小陈运维</title><meta name="author" content="chenby"><meta name="copyright" content="chenby"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="小陈运维">
<meta property="og:type" content="website">
<meta property="og:title" content="小陈运维">
<meta property="og:url" content="http://example.com/page/6/index.html">
<meta property="og:site_name" content="小陈运维">
<meta property="og:description" content="小陈运维">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="chenby">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/page/6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小陈运维',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-04-27 15:38:34'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">100</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://www.oiox.cn/images/wallhaven-g7m7xe.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小陈运维</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">小陈运维</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%B8%89%EF%BC%89---_ReplicationController/" title="kubernetes核心实战（三）--- ReplicationController"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-wq5qk6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（三）--- ReplicationController"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%B8%89%EF%BC%89---_ReplicationController/" title="kubernetes核心实战（三）--- ReplicationController">kubernetes核心实战（三）--- ReplicationController</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:12:17.000Z" title="发表于 2021-12-30 17:12:17">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">5、ReplicationControllerReplicationController 确保在任何时候都有特定数量的 Pod 副本处于运行状态。换句话说，ReplicationController 确保一个 Pod 或一组同类的 Pod 总是可用的。

ReplicationController 如何工作当 Pod 数量过多时，ReplicationController 会终止多余的 Pod。当 Pod 数量太少时，ReplicationController 将会启动新的 Pod。与手动创建的 Pod 不同，由 ReplicationController 创建的 Pod 在失败、被删除或被终止时会被自动替换。例如，在中断性维护（如内核升级）之后，你的 Pod 会在节点上重新创建。因此，即使你的应用程序只需要一个 Pod，你也应该使用 ReplicationController 创建 Pod。ReplicationController 类似于进程管理器，但是 ReplicationController 不是监控单个节点上的单个进程，而是监控跨多个节点的多个 Pod。
在讨论中，Repl ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%BA%8C%EF%BC%89---Pod+ReplicaSet/" title="kubernetes核心实战（二）---Pod+ReplicaSet"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-g7m7xe.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（二）---Pod+ReplicaSet"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%BA%8C%EF%BC%89---Pod+ReplicaSet/" title="kubernetes核心实战（二）---Pod+ReplicaSet">kubernetes核心实战（二）---Pod+ReplicaSet</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:12:04.000Z" title="发表于 2021-12-30 17:12:04">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">3、podPod 是可以在 Kubernetes 中创建和管理的、最小的可部署的计算单元。

Pod （就像在鲸鱼荚或者豌豆荚中）是一组（一个或多个） 容器；这些容器共享存储、网络、以及怎样运行这些容器的声明。Pod 中的内容总是并置（colocated）的并且一同调度，在共享的上下文中运行。Pod 所建模的是特定于应用的“逻辑主机”，其中包含一个或多个应用容器， 这些容器是相对紧密的耦合在一起的。在非云环境中，在相同的物理机或虚拟机上运行的应用类似于 在同一逻辑主机上运行的云应用。
除了应用容器，Pod 还可以包含在 Pod 启动期间运行的 Init 容器。你也可以在集群中支持临时性容器 的情况外，为调试的目的注入临时性容器。
使用 Pod通常你不需要直接创建 Pod，甚至单实例 Pod。相反，你会使用诸如 Deployment 或 Job 这类工作负载资源 来创建 Pod。如果 Pod 需要跟踪状态， 可以考虑 StatefulSet 资源。
Kubernetes 集群中的 Pod 主要有两种用法：
运行单个容器的 Pod。”每个 Pod 一个容器”模型是最常见的 Kubernet ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%B8%80%EF%BC%89---_namespace/" title="kubernetes核心实战（一）--- namespace"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-x86583.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（一）--- namespace"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%B8%80%EF%BC%89---_namespace/" title="kubernetes核心实战（一）--- namespace">kubernetes核心实战（一）--- namespace</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:11:52.000Z" title="发表于 2021-12-30 17:11:52">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">kubernetes核心实战
1、资源创建方式命令行创建
yaml文件创建
2、namespace命名空间（namespace）是Kubernetes提供的组织机制，用于给集群中的任何对象组进行分类、筛选和管理。每一个添加到Kubernetes集群的工作负载必须放在一个命名空间中。
命名空间为集群中的对象名称赋予作用域。虽然在命名空间中名称必须是唯一的，但是相同的名称可以在不同的命名空间中使用。这对于某些场景来说可能帮助很大。例如，如果使用命名空间来划分应用程序生命周期环境（如开发、staging、生产），则可以在每个环境中维护利用同样的名称维护相同对象的副本。
命名空间还可以让用户轻松地将策略应用到集群的具体部分。你可以通过定义ResourceQuota对象来控制资源的使用，该对象在每个命名空间的基础上设置了使用资源的限制。类似地，当在集群上使用支持网络策略的CNI（容器网络接口）时，比如Calico或Canal（calico用于策略，flannel用于网络）。你可以将NetworkPolicy应用到命名空间，其中的规则定义了pod之间如何彼此通信。不同的命名空间可以有不同的策略。
 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-Kubernetes%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/" title="Kubernetes基础概念"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-wq5qk6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes基础概念"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-Kubernetes%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/" title="Kubernetes基础概念">Kubernetes基础概念</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:11:40.000Z" title="发表于 2021-12-30 17:11:40">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">Kubernetes基础概念
kubernetes特性：- 服务发现和负载均衡
Kubernetes 可以使用 DNS 名称或自己的 IP 地址公开容器，如果进入容器的流量很大， Kubernetes 可以负载均衡并分配网络流量，从而使部署稳定。
- 存储编排
Kubernetes 允许你自动挂载你选择的存储系统，例如本地存储、公共云提供商等。
- 自动部署和回滚
你可以使用 Kubernetes 描述已部署容器的所需状态，它可以以受控的速率将实际状态 更改为期望状态。例如，你可以自动化 Kubernetes 来为你的部署创建新容器， 删除现有容器并将它们的所有资源用于新容器。
- 自动完成装箱计算
Kubernetes 允许你指定每个容器所需 CPU 和内存（RAM）。当容器指定了资源请求时，Kubernetes 可以做出更好的决策来管理容器的资源。
- 自我修复
Kubernetes 重新启动失败的容器、替换容器、杀死不响应用户定义的 运行状况检查的容器，并且在准备好服务之前不将其通告给客户端。
- 密钥与配置管理
Kubernetes 允许你存储和管理敏感信息，例如密码、OAut ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-%E5%9C%A8_Linux_%E4%B8%8A%E4%BB%A5_All-in-One_%E6%A8%A1%E5%BC%8F%E5%AE%89%E8%A3%85_KubeSphere/" title="在 Linux 上以 All-in-One 模式安装 KubeSphere"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-o393e7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在 Linux 上以 All-in-One 模式安装 KubeSphere"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-%E5%9C%A8_Linux_%E4%B8%8A%E4%BB%A5_All-in-One_%E6%A8%A1%E5%BC%8F%E5%AE%89%E8%A3%85_KubeSphere/" title="在 Linux 上以 All-in-One 模式安装 KubeSphere">在 Linux 上以 All-in-One 模式安装 KubeSphere</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:10:03.000Z" title="发表于 2021-12-30 17:10:03">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">在 Linux 上以 All-in-One 模式安装 KubeSphere
Install KubeSphere in All-in-One mode on Linux
背景
KubeSphere 是在Kubernetes 之上构建的面向云原生应用的分布式操作系统，完全开源，支持多云与多集群管理，提供全栈的IT 自动化运维能力，简化公司的DevOps 工作流。… 作为全栈的多租户容器平台，KubeSphere 提供了运维友好的向导式操作界面，帮助公司快速构建一个强大和功能丰富的容器云平台。
KubeSphere is a distributed operating system for cloud-native applications built on Kubernetes. It is fully open source, supports multi-cloud and multi-cluster management, provides full-stack IT automated operation and maintenance capabilities, and sim ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-Ubuntu_%E9%80%9A%E8%BF%87_Netplan_%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%95%99%E7%A8%8B/" title="Ubuntu 通过 Netplan 配置网络教程"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-28x8pg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ubuntu 通过 Netplan 配置网络教程"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-Ubuntu_%E9%80%9A%E8%BF%87_Netplan_%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%95%99%E7%A8%8B/" title="Ubuntu 通过 Netplan 配置网络教程">Ubuntu 通过 Netplan 配置网络教程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:10:00.000Z" title="发表于 2021-12-30 17:10:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">Ubuntu 通过 Netplan 配置网络教程
Ubuntu through Netplan configuration network tutorial

一、Netplan 配置流程
1. Netplan configuration process
1、Netplan默认配置文件在&#x2F;etc&#x2F;netplan目录下。您可以使用以下命令找到：
1. The default configuration file of Netplan is in the &#x2F;etc&#x2F;netplan directory. You can find it with the following command:
1ls /etc/netplan/

就可以看到配置文件名称。
You can see the configuration file name.
2、查看Netplan网络配置文件的内容，执行以下命令：
2. View the contents of the Netplan network configuration file and execute the fol ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-kubernetes_%E5%AE%89%E8%A3%85_Prometheus_+_Grafana/" title="kubernetes 安装 Prometheus + Grafana"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-9my3o8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes 安装 Prometheus + Grafana"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes_%E5%AE%89%E8%A3%85_Prometheus_+_Grafana/" title="kubernetes 安装 Prometheus + Grafana">kubernetes 安装 Prometheus + Grafana</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:10:00.000Z" title="发表于 2021-12-30 17:10:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">kubernetes 安装 Prometheus + Grafana
kubernetes install Prometheus + Grafana
官网
Official website
1https://prometheus.io/

GitHub
GitHub
1https://github.com/coreos/kube-prometheus

组件说明
Component description
MetricServer：是kubernetes集群资源使用情况的聚合器，收集数据给kubernetes集群内使用，如 kubectl,hpa,scheduler等。
PrometheusOperator：是一个系统监测和警报工具箱，用来存储监控数据。
NodeExporter：用于各node的关键度量指标状态数据。
KubeStateMetrics：收集kubernetes集群内资源对象数 据，制定告警规则。
Prometheus：采用pull方式收集apiserver，scheduler，controller-manager，kubelet组件数 据，通过http协议传输。
Gr ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-%E6%9C%80%E6%96%B0%E7%89%88_Harbor_%E5%9C%A8ubuntu%E7%B3%BB%E7%BB%9F%E4%B8%8A%E5%AE%89%E8%A3%85/" title="最新版 Harbor 在ubuntu系统上安装"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-x86583.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="最新版 Harbor 在ubuntu系统上安装"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-%E6%9C%80%E6%96%B0%E7%89%88_Harbor_%E5%9C%A8ubuntu%E7%B3%BB%E7%BB%9F%E4%B8%8A%E5%AE%89%E8%A3%85/" title="最新版 Harbor 在ubuntu系统上安装">最新版 Harbor 在ubuntu系统上安装</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:10:00.000Z" title="发表于 2021-12-30 17:10:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">最新版 Harbor 在ubuntu系统上安装
The latest version of Harbor is installed on the ubuntu system

安装docker  
Install docker
12root@hello:~# curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyunroot@hello:~#

配置Docker Compose
Configure Docker Compose
12345678910root@hello:~# sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose  % Total    % Received % Xferd  Average Speed   Time    Time     T ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-HaProxy_%E5%AE%89%E8%A3%85%E6%90%AD%E5%BB%BA%E9%85%8D%E7%BD%AE/" title="HaProxy 安装搭建配置"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-q2o1ol.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HaProxy 安装搭建配置"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-HaProxy_%E5%AE%89%E8%A3%85%E6%90%AD%E5%BB%BA%E9%85%8D%E7%BD%AE/" title="HaProxy 安装搭建配置">HaProxy 安装搭建配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:09:53.000Z" title="发表于 2021-12-30 17:09:53">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">HaProxy简介

    HAProxy是一个免费的负载均衡软件，可以运行于大部分主流的Linux操作系统上。
    HAProxy提供了L4(TCP)和L7(HTTP)两种负载均衡能力，具备丰富的功能。HAProxy的社区非常活跃，版本更新快速。最关键的是，HAProxy具备媲美商用负载均衡器的性能和稳定性。
HaProxy的核心功能
    负载均衡：L4和L7两种模式，支持RR&#x2F;静态RR&#x2F;LC&#x2F;IP Hash&#x2F;URI Hash&#x2F;URL_PARAM Hash&#x2F;HTTP_HEADER Hash等丰富的负载均衡算法
    健康检查：支持TCP和HTTP两种健康检查模式
    会话保持：对于未实现会话共享的应用集群，可通过Insert Cookie&#x2F;Rewrite Cookie&#x2F;Prefix Cookie，以及上述的多种Hash方式实现会话保持
    SSL：HAProxy可以解析HTTPS协议，并能够将请求解密为HTTP后向后端传输
    HTTP请求重写与重定向
    监控与统计：HAPr ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-KVM_WEB%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7_WebVirtMgr/" title="KVM WEB管理工具 WebVirtMgr"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-28x8pg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="KVM WEB管理工具 WebVirtMgr"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-KVM_WEB%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7_WebVirtMgr/" title="KVM WEB管理工具 WebVirtMgr">KVM WEB管理工具 WebVirtMgr</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:09:18.000Z" title="发表于 2021-12-30 17:09:18">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">一、webvirtmgr介绍及环境说明
温馨提示：安装KVM是需要2台都操作的，因为我们是打算将2台都设置为宿主机所有都需要安装KVM相关组件
github地址https://github.com/retspen/webvirtmgr
WebVirtMgr是一个基于libvirt的Web界面，用于管理虚拟机。它允许您创建和配置新域，并调整域的资源分配。VNC查看器为来宾域提供完整的图形控制台。KVM是目前唯一支持的虚拟机管理程序。

查看服务器版本号
12[root@webc ~]# cat /etc/redhat-releaseCentOS Linux release 7.9.2009 (Core)

内核版本
12[root@webc ~]# uname -r3.10.0-1160.42.2.el7.x86_64

关闭Selinux &amp; 防火墙
12345[root@webc ~]# systemctl stop firewalld[root@webc ~]# systemctl disable firewalld[root@webc ~]# setenforce 0se ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/5/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/#content-inner">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/#content-inner">10</a><a class="extend next" rel="next" href="/page/7/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">chenby</div><div class="author-info__description">小陈运维</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">100</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/04/24/2022-04-24-kubernetes%EF%BC%88k8s%EF%BC%89_%E5%AE%89%E8%A3%85_Prometheus_+_Grafana/" title="kubernetes（k8s） 安装 Prometheus + Grafana"><img src="https://www.oiox.cn/images/wallhaven-o3exq5.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes（k8s） 安装 Prometheus + Grafana"/></a><div class="content"><a class="title" href="/2022/04/24/2022-04-24-kubernetes%EF%BC%88k8s%EF%BC%89_%E5%AE%89%E8%A3%85_Prometheus_+_Grafana/" title="kubernetes（k8s） 安装 Prometheus + Grafana">kubernetes（k8s） 安装 Prometheus + Grafana</a><time datetime="2022-04-24T02:01:29.000Z" title="发表于 2022-04-24 10:01:29">2022-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/21/2022-04-21-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85Kubernetes%EF%BC%88k8s%EF%BC%89_v1.23.6/" title="二进制安装Kubernetes（k8s） v1.23.6"><img src="https://www.oiox.cn/images/wallhaven-x86583.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="二进制安装Kubernetes（k8s） v1.23.6"/></a><div class="content"><a class="title" href="/2022/04/21/2022-04-21-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85Kubernetes%EF%BC%88k8s%EF%BC%89_v1.23.6/" title="二进制安装Kubernetes（k8s） v1.23.6">二进制安装Kubernetes（k8s） v1.23.6</a><time datetime="2022-04-21T08:44:13.000Z" title="发表于 2022-04-21 16:44:13">2022-04-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/21/2022-04-21-%E5%9C%A8k8s%EF%BC%88kubernetes%EF%BC%89%E4%B8%8A%E5%AE%89%E8%A3%85_ingress_V1.1.3/" title="在k8s（kubernetes）上安装 ingress V1.1.3"><img src="https://www.oiox.cn/images/wallhaven-q2o1ol.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在k8s（kubernetes）上安装 ingress V1.1.3"/></a><div class="content"><a class="title" href="/2022/04/21/2022-04-21-%E5%9C%A8k8s%EF%BC%88kubernetes%EF%BC%89%E4%B8%8A%E5%AE%89%E8%A3%85_ingress_V1.1.3/" title="在k8s（kubernetes）上安装 ingress V1.1.3">在k8s（kubernetes）上安装 ingress V1.1.3</a><time datetime="2022-04-21T01:20:00.000Z" title="发表于 2022-04-21 09:20:00">2022-04-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/20/2022-04-20-%E5%9C%A8Kubernetes%E4%B8%8A%E5%AE%89%E8%A3%85Netdata%E7%9A%84%E6%96%B9%E6%B3%95/" title="在Kubernetes上安装Netdata的方法"><img src="https://www.oiox.cn/images/wallhaven-dp3l2o.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在Kubernetes上安装Netdata的方法"/></a><div class="content"><a class="title" href="/2022/04/20/2022-04-20-%E5%9C%A8Kubernetes%E4%B8%8A%E5%AE%89%E8%A3%85Netdata%E7%9A%84%E6%96%B9%E6%B3%95/" title="在Kubernetes上安装Netdata的方法">在Kubernetes上安装Netdata的方法</a><time datetime="2022-04-20T02:40:05.000Z" title="发表于 2022-04-20 10:40:05">2022-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/19/2022-04-19-%E7%BB%8FGitHub%E5%B0%86kubernetes%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/" title="经GitHub将kubernetes镜像推送到阿里云"><img src="https://www.oiox.cn/images/wallhaven-3z72w9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="经GitHub将kubernetes镜像推送到阿里云"/></a><div class="content"><a class="title" href="/2022/04/19/2022-04-19-%E7%BB%8FGitHub%E5%B0%86kubernetes%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/" title="经GitHub将kubernetes镜像推送到阿里云">经GitHub将kubernetes镜像推送到阿里云</a><time datetime="2022-04-19T07:36:07.000Z" title="发表于 2022-04-19 15:36:07">2022-04-19</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/"><span class="card-category-list-name">默认分类</span><span class="card-category-list-count">100</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">66</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">100</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2017-12-31T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-04-27T07:38:33.633Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By chenby</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>