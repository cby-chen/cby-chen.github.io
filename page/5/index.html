<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>小陈运维 - 小陈运维</title><meta name="author" content="chenby"><meta name="copyright" content="chenby"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="小陈运维">
<meta property="og:type" content="website">
<meta property="og:title" content="小陈运维">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="小陈运维">
<meta property="og:description" content="小陈运维">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="chenby">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/page/5/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小陈运维',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-04-27 15:38:34'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">100</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://www.oiox.cn/images/wallhaven-g7m7xe.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小陈运维</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">小陈运维</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-Centos9%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE/" title="Centos9网卡配置"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-wq5qk6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Centos9网卡配置"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-Centos9%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE/" title="Centos9网卡配置">Centos9网卡配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:14:00.000Z" title="发表于 2021-12-30 17:14:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">
Centos9 网卡配置文件已修改，如下
1234567891011121314151617181920212223242526[root@bogon ~]# cat /etc/NetworkManager/system-connections/ens18.nmconnection [connection]id=ens18uuid=8d1ece55-d999-3c97-866b-d2e23832a324type=ethernetautoconnect-priority=-999interface-name=ens18permissions=timestamp=1639473429[ethernet]mac-address-blacklist=[ipv4]address1=192.168.1.92/24,192.168.1.1dns=8.8.8.8;dns-search=method=manual[ipv6]addr-gen-mode=eui64dns-search=method=auto[proxy][root@bogon ~]#

命令语法：
# nmcli connection  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%B9%9D%EF%BC%89_---_Ingress/" title="kubernetes核心实战（九） --- Ingress"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-e76y7l.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（九） --- Ingress"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%B9%9D%EF%BC%89_---_Ingress/" title="kubernetes核心实战（九） --- Ingress">kubernetes核心实战（九） --- Ingress</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:13:23.000Z" title="发表于 2021-12-30 17:13:23">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">14、Ingress
检查是否有安装12345678910[root@k8s-master-node1 ~/yaml/test]# kubectl get pod,svc -n ingress-nginxNAME                                           READY   STATUS      RESTARTS   AGEpod/ingress-nginx-admission-create--1-74mtg    0/1     Completed   0          172mpod/ingress-nginx-admission-patch--1-5qrct     0/1     Completed   0          172mpod/ingress-nginx-controller-f97bd58b5-vr8c2   1/1     Running     0          172mNAME                                         TYPE        CLUSTER-IP     ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E5%85%AB%EF%BC%89---_service/" title="kubernetes核心实战（八）--- service"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-m9olo8.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（八）--- service"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E5%85%AB%EF%BC%89---_service/" title="kubernetes核心实战（八）--- service">kubernetes核心实战（八）--- service</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:13:13.000Z" title="发表于 2021-12-30 17:13:13">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">13、service四层网络负载

创建1234567891011121314151617181920212223242526272829303132[root@k8s-master-node1 ~/yaml/test]# [root@k8s-master-node1 ~/yaml/test]# vim my-app.yaml[root@k8s-master-node1 ~/yaml/test]# cat my-app.yamlapiVersion: apps/v1kind: Deploymentmetadata:  labels:    app: my-dep  name: my-depspec:  replicas: 3  selector:    matchLabels:      app: my-dep  template:    metadata:      labels:        app: my-dep    spec:      containers:      - image: nginx        name: nginx[root@k8s-master-no ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-Docker%E5%AE%B9%E5%99%A8%E4%B8%AD%E4%BD%BF%E7%94%A8GPU/" title="Docker容器中使用GPU"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-8o3g1y.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker容器中使用GPU"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-Docker%E5%AE%B9%E5%99%A8%E4%B8%AD%E4%BD%BF%E7%94%A8GPU/" title="Docker容器中使用GPU">Docker容器中使用GPU</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:13:00.000Z" title="发表于 2021-12-30 17:13:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">背景
容器封装了应用程序的依赖项，以提供可重复和可靠的应用程序和服务执行，而无需整个虚拟机的开销。如果您曾经花了一天的时间为一个科学或 深度学习 应用程序提供一个包含大量软件包的服务器，或者已经花费数周的时间来确保您的应用程序可以在多个 linux 环境中构建和部署，那么 Docker 容器非常值得您花费时间。

安装添加docker源
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778[root@localhost ~]# sudo yum-config-manager --add-repo=https://download.docker.com/linux/centos/docker-ce.repoLoaded plugins: fastestmirror, langpacksadding repo from: https://downloa ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-Kubernetes%EF%BC%88k8s%EF%BC%89%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85JupyterHub%E4%BB%A5%E5%8F%8ALab/" title="Kubernetes（k8s）集群安装JupyterHub以及Lab"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-rdwjj7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes（k8s）集群安装JupyterHub以及Lab"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-Kubernetes%EF%BC%88k8s%EF%BC%89%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85JupyterHub%E4%BB%A5%E5%8F%8ALab/" title="Kubernetes（k8s）集群安装JupyterHub以及Lab">Kubernetes（k8s）集群安装JupyterHub以及Lab</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:13:00.000Z" title="发表于 2021-12-30 17:13:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">背景
JupyterHub 为用户组带来了笔记本的强大功能。它使用户能够访问计算环境和资源，而不会给用户带来安装和维护任务的负担。用户——包括学生、研究人员和数据科学家——可以在他们自己的工作空间中完成他们的工作，共享资源可以由系统管理员有效管理。
JupyterHub 在云端或您自己的硬件上运行，可以为世界上的任何用户提供预先配置的数据科学环境。它是可定制和可扩展的，适用于小型和大型团队、学术课程和大型基础设施。
第一步、参考：https://cloud.tencent.com/developer/article/1902519 创建动态挂载存储
第二步、安装helm
12345root@hello:~# curl https://baltocdn.com/helm/signing.asc | sudo apt-key add -root@hello:~# sudo apt-get install apt-transport-https --yesroot@hello:~# echo &quot;deb https://baltocdn.com/helm/stable/debian/ ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-%E5%9C%A8Kubernetes%EF%BC%88k8s%EF%BC%89%E4%B8%AD%E4%BD%BF%E7%94%A8GPU/" title="在Kubernetes（k8s）中使用GPU"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-xlo73z.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在Kubernetes（k8s）中使用GPU"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-%E5%9C%A8Kubernetes%EF%BC%88k8s%EF%BC%89%E4%B8%AD%E4%BD%BF%E7%94%A8GPU/" title="在Kubernetes（k8s）中使用GPU">在Kubernetes（k8s）中使用GPU</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:13:00.000Z" title="发表于 2021-12-30 17:13:00">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">介绍
Kubernetes 支持对节点上的 AMD 和 NVIDIA GPU （图形处理单元）进行管理，目前处于实验状态。

修改docker配置文件
123456789101112131415161718192021222324252627282930313233root@hello:~# cat /etc/docker/daemon.json&#123;    &quot;default-runtime&quot;: &quot;nvidia&quot;,    &quot;runtimes&quot;: &#123;        &quot;nvidia&quot;: &#123;            &quot;path&quot;: &quot;/usr/bin/nvidia-container-runtime&quot;,            &quot;runtimeArgs&quot;: []        &#125;    &#125;,  &quot;data-root&quot;: &quot;/var/lib/docker&quot;,  &quot;e ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%B8%83%EF%BC%89---_job%E3%80%81CronJob%E3%80%81Secret/" title="kubernetes核心实战（七）--- job、CronJob、Secret"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-9my3o8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（七）--- job、CronJob、Secret"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%B8%83%EF%BC%89---_job%E3%80%81CronJob%E3%80%81Secret/" title="kubernetes核心实战（七）--- job、CronJob、Secret">kubernetes核心实战（七）--- job、CronJob、Secret</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:12:59.000Z" title="发表于 2021-12-30 17:12:59">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">10、job任务
使用perl，做pi的圆周率计算12345678910111213141516171819[root@k8s-master-node1 ~/yaml/test]# vim job.yaml [root@k8s-master-node1 ~/yaml/test]# cat job.yaml apiVersion: batch/v1kind: Jobmetadata:  name: pispec:  template:    spec:      containers:      - name: pi        image: perl        command: [&quot;perl&quot;,  &quot;-Mbignum=bpi&quot;, &quot;-wle&quot;, &quot;print bpi(2000)&quot;]      restartPolicy: Never  backoffLimit: 4[root@k8s-master-node1 ~/yaml/test]# [root@k8s-master-node1 ~/yaml/te ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E5%85%AD%EF%BC%89---_ConfigMap/" title="kubernetes核心实战（六）--- ConfigMap"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-dp3l2o.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（六）--- ConfigMap"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E5%85%AD%EF%BC%89---_ConfigMap/" title="kubernetes核心实战（六）--- ConfigMap">kubernetes核心实战（六）--- ConfigMap</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:12:47.000Z" title="发表于 2021-12-30 17:12:47">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">8、ConfigMap抽取应用配置，并且可以自动更新
创建配置文件1234567891011121314[root@k8s-master-node1 ~/yaml/test]# vim configmap.yaml[root@k8s-master-node1 ~/yaml/test]# cat configmap.yaml apiVersion: v1data:     redis.conf: |    appendonly yeskind: ConfigMapmetadata:  name: redis-conf  namespace: default[root@k8s-master-node1 ~/yaml/test]# [root@k8s-master-node1 ~/yaml/test]# kubectl apply -f configmap.yaml configmap/redis-conf created[root@k8s-master-node1 ~/yaml/test]#

1

查看配置12345[root@k8s-master-node1 ~/yaml/test]# ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%BA%94%EF%BC%89---_StatefulSets/" title="kubernetes核心实战（五）--- StatefulSets"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-x86583.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（五）--- StatefulSets"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E4%BA%94%EF%BC%89---_StatefulSets/" title="kubernetes核心实战（五）--- StatefulSets">kubernetes核心实战（五）--- StatefulSets</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:12:38.000Z" title="发表于 2021-12-30 17:12:38">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">7、StatefulSetsStatefulSet 是用来管理有状态应用的工作负载 API 对象。
StatefulSet 用来管理 Deployment 和扩展一组 Pod，并且能为这些 Pod 提供序号和唯一性保证。
和 Deployment 相同的是，StatefulSet 管理了基于相同容器定义的一组 Pod。但和 Deployment 不同的是，StatefulSet 为它们的每个 Pod 维护了一个固定的 ID。这些 Pod 是基于相同的声明来创建的，但是不能相互替换：无论怎么调度，每个 Pod 都有一个永久不变的 ID。
StatefulSet 和其他控制器使用相同的工作模式。你在 StatefulSet 对象 中定义你期望的状态，然后 StatefulSet 的 控制器 就会通过各种更新来达到那种你想要的状态。

使用 StatefulSetsStatefulSets 对于需要满足以下一个或多个需求的应用程序很有价值：
稳定的、唯一的网络标识符。稳定的、持久的存储。有序的、优雅的部署和缩放。有序的、自动的滚动更新。在上面，稳定意味着 Pod 调度或重调度的整个过程是有持 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E5%9B%9B%EF%BC%89---_Deployments/" title="kubernetes核心实战（四）--- Deployments"><img class="post_bg" src="https://www.oiox.cn/images/wallhaven-9my82x.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes核心实战（四）--- Deployments"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/30/2021-12-30-kubernetes%E6%A0%B8%E5%BF%83%E5%AE%9E%E6%88%98%EF%BC%88%E5%9B%9B%EF%BC%89---_Deployments/" title="kubernetes核心实战（四）--- Deployments">kubernetes核心实战（四）--- Deployments</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-30T09:12:27.000Z" title="发表于 2021-12-30 17:12:27">2021-12-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="content">6、Deployments（重点）一个 Deployment 控制器为 Pods和 ReplicaSets提供描述性的更新方式。

描述 Deployment 中的 desired state，并且 Deployment 控制器以受控速率更改实际状态，以达到期望状态。可以定义 Deployments 以创建新的 ReplicaSets ，或删除现有 Deployments ，并通过新的 Deployments 使用其所有资源。
用例
以下是典型的 Deployments 用例：
创建 Deployment 以展开 ReplicaSet 。ReplicaSet 在后台创建 Pods。检查 ReplicaSet 展开的状态，查看其是否成功。
声明 Pod 的新状态 通过更新 Deployment 的 PodTemplateSpec。将创建新的 ReplicaSet ，并且 Deployment 管理器以受控速率将 Pod 从旧 ReplicaSet 移动到新 ReplicaSet 。每个新的 ReplicaSet 都会更新 Deployment 的修改历史。
回滚到较早的 Deployme ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/#content-inner">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/#content-inner">10</a><a class="extend next" rel="next" href="/page/6/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">chenby</div><div class="author-info__description">小陈运维</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">100</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/04/24/2022-04-24-kubernetes%EF%BC%88k8s%EF%BC%89_%E5%AE%89%E8%A3%85_Prometheus_+_Grafana/" title="kubernetes（k8s） 安装 Prometheus + Grafana"><img src="https://www.oiox.cn/images/wallhaven-o3exq5.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes（k8s） 安装 Prometheus + Grafana"/></a><div class="content"><a class="title" href="/2022/04/24/2022-04-24-kubernetes%EF%BC%88k8s%EF%BC%89_%E5%AE%89%E8%A3%85_Prometheus_+_Grafana/" title="kubernetes（k8s） 安装 Prometheus + Grafana">kubernetes（k8s） 安装 Prometheus + Grafana</a><time datetime="2022-04-24T02:01:29.000Z" title="发表于 2022-04-24 10:01:29">2022-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/21/2022-04-21-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85Kubernetes%EF%BC%88k8s%EF%BC%89_v1.23.6/" title="二进制安装Kubernetes（k8s） v1.23.6"><img src="https://www.oiox.cn/images/wallhaven-x86583.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="二进制安装Kubernetes（k8s） v1.23.6"/></a><div class="content"><a class="title" href="/2022/04/21/2022-04-21-%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85Kubernetes%EF%BC%88k8s%EF%BC%89_v1.23.6/" title="二进制安装Kubernetes（k8s） v1.23.6">二进制安装Kubernetes（k8s） v1.23.6</a><time datetime="2022-04-21T08:44:13.000Z" title="发表于 2022-04-21 16:44:13">2022-04-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/21/2022-04-21-%E5%9C%A8k8s%EF%BC%88kubernetes%EF%BC%89%E4%B8%8A%E5%AE%89%E8%A3%85_ingress_V1.1.3/" title="在k8s（kubernetes）上安装 ingress V1.1.3"><img src="https://www.oiox.cn/images/wallhaven-q2o1ol.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在k8s（kubernetes）上安装 ingress V1.1.3"/></a><div class="content"><a class="title" href="/2022/04/21/2022-04-21-%E5%9C%A8k8s%EF%BC%88kubernetes%EF%BC%89%E4%B8%8A%E5%AE%89%E8%A3%85_ingress_V1.1.3/" title="在k8s（kubernetes）上安装 ingress V1.1.3">在k8s（kubernetes）上安装 ingress V1.1.3</a><time datetime="2022-04-21T01:20:00.000Z" title="发表于 2022-04-21 09:20:00">2022-04-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/20/2022-04-20-%E5%9C%A8Kubernetes%E4%B8%8A%E5%AE%89%E8%A3%85Netdata%E7%9A%84%E6%96%B9%E6%B3%95/" title="在Kubernetes上安装Netdata的方法"><img src="https://www.oiox.cn/images/wallhaven-dp3l2o.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在Kubernetes上安装Netdata的方法"/></a><div class="content"><a class="title" href="/2022/04/20/2022-04-20-%E5%9C%A8Kubernetes%E4%B8%8A%E5%AE%89%E8%A3%85Netdata%E7%9A%84%E6%96%B9%E6%B3%95/" title="在Kubernetes上安装Netdata的方法">在Kubernetes上安装Netdata的方法</a><time datetime="2022-04-20T02:40:05.000Z" title="发表于 2022-04-20 10:40:05">2022-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/19/2022-04-19-%E7%BB%8FGitHub%E5%B0%86kubernetes%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/" title="经GitHub将kubernetes镜像推送到阿里云"><img src="https://www.oiox.cn/images/wallhaven-3z72w9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="经GitHub将kubernetes镜像推送到阿里云"/></a><div class="content"><a class="title" href="/2022/04/19/2022-04-19-%E7%BB%8FGitHub%E5%B0%86kubernetes%E9%95%9C%E5%83%8F%E6%8E%A8%E9%80%81%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/" title="经GitHub将kubernetes镜像推送到阿里云">经GitHub将kubernetes镜像推送到阿里云</a><time datetime="2022-04-19T07:36:07.000Z" title="发表于 2022-04-19 15:36:07">2022-04-19</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/"><span class="card-category-list-name">默认分类</span><span class="card-category-list-count">100</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">66</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">100</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2017-12-31T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-04-27T07:38:33.633Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By chenby</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>