<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>使用frp进行内网穿透 | 小陈运维</title><meta name="author" content="chenby"><meta name="copyright" content="chenby"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。     **frp is a high-performance reverse proxy application focusing on intranet penetration, supporting m">
<meta property="og:type" content="article">
<meta property="og:title" content="使用frp进行内网穿透">
<meta property="og:url" content="http://www.chenby.cn/2021/12/30/fdd885c81e9f/index.html">
<meta property="og:site_name" content="小陈运维">
<meta property="og:description" content="frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。     **frp is a high-performance reverse proxy application focusing on intranet penetration, supporting m">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.oiox.cn/images/wallhaven-q2o1ol.jpeg">
<meta property="article:published_time" content="2021-12-30T09:04:00.000Z">
<meta property="article:modified_time" content="2022-03-25T07:50:45.000Z">
<meta property="article:author" content="chenby">
<meta property="article:tag" content="小陈运维,运维,linux,kubernetes,docker,k8s,容器,博客,文档,技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.oiox.cn/images/wallhaven-q2o1ol.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.chenby.cn/2021/12/30/fdd885c81e9f/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '使用frp进行内网穿透',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-03-25 15:50:45'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://www.oiox.cn/1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">148</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.oiox.cn/images/wallhaven-q2o1ol.jpeg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小陈运维</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">使用frp进行内网穿透</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-12-30T09:04:00.000Z" title="发表于 2021-12-30 17:04:00">2021-12-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-25T07:50:45.000Z" title="更新于 2022-03-25 15:50:45">2022-03-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="使用frp进行内网穿透"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>    frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。</p>
<p>    **frp is a high-performance reverse proxy application focusing on intranet penetration, supporting multiple protocols such as TCP, UDP, HTTP, and HTTPS. Intranet services can be exposed to the public network through a relay with public network IP nodes in a safe and convenient way.<br>**</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c43d130b17f0466cb879fde903b9b75f~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p><strong>为什么使用 frp ？</strong></p>
<p><strong>Why use frp?</strong></p>
<p>    通过在具有公网 IP 的节点上部署 frp 服务端，可以轻松地将内网服务穿透到公网，同时提供诸多专业的功能特性，这包括：</p>
<p>    <strong>By deploying the frp server on a node with a public network IP, you can easily penetrate the internal network service to the public network, while providing many professional features, including:</strong>  </p>
<p>    客户端服务端通信支持 TCP、KCP 以及 Websocket 等多种协议。</p>
<p>    <strong>The client-server communication supports multiple protocols such as TCP, KCP, and Websocket.</strong>  </p>
<p>    采用 TCP 连接流式复用，在单个连接间承载更多请求，节省连接建立时间。</p>
<p>    <strong>Use TCP connection streaming multiplexing to carry more requests between a single connection, saving connection establishment time.</strong>  </p>
<p>    代理组间的负载均衡。</p>
<p>    <strong>Load balancing between proxy groups.</strong>  </p>
<p>    端口复用，多个服务通过同一个服务端端口暴露。</p>
<p>    <strong>Port reuse, multiple services are exposed through the same server port.</strong>  </p>
<p>    多个原生支持的客户端插件（静态文件查看，HTTP、SOCK5 代理等）便于独立使用 frp 客户端完成某些工作。</p>
<p>    <strong>Multiple natively supported client plug-ins (static file viewing, HTTP, SOCK5 proxy, etc.) facilitate independent use of frp client to complete certain tasks.</strong>  </p>
<p>    高度扩展性的服务端插件系统，方便结合自身需求进行功能扩展。</p>
<p>    <strong>The highly extensible server-side plug-in system facilitates functional expansion according to your own needs.</strong>  </p>
<p>    服务端和客户端 UI 页面。</p>
<p>     <strong>Server and client UI pages.</strong>  </p>
<p>    简单来说，frp是一个反向代理软件，他的体积小巧功能强大，讲内网IP进行frp反向代理后，即可使用代理IP进行访问内网机器的服务，例如远程桌面，虽然远程桌面有第三方软件来代替，例如向日葵，teamviewer，等一些软件进行远程，这些软件都有一些诟病，向日葵没有会员会限速，而tv登录远程连接会比较慢。所以可以考虑到使用内网穿透或者反向代理。</p>
<p>  <strong>To put it simply, frp is a reverse proxy software, its size is small and powerful, after talking about the intranet IP for frp reverse proxy, you can use the proxy IP to access the services of the intranet machine, such as remote desktop, although remote desktop There are third-party software to replace, such as Sunflower, teamviewer, and other software for remote. These softwares have some criticisms. Sunflower does not have a membership rate limit, and the tv login remote connection will be slow. So you can consider using intranet penetration or reverse proxy.</strong></p>
<p>    内网穿透可参考：<a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzI0MzA4NTM2NQ==&mid=2247483964&idx=1&sn=2b857cb34f7b678c1d1a5492cfee7efd&chksm=e9733b66de04b27024387be235f680f85165e69b5152960a08fc45f653d397a10381e71a5ebb&scene=21#wechat_redirect">有一个公网IP地址</a> </p>
<p> <strong>Intranet penetration can refer to: there is a public IP address</strong></p>
<p>使用端口进行访问时，原理如下  </p>
<p><strong>When using the port for access, the principle is as follows</strong>  </p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/addffe28d90e4e76a54d1ef079971a16~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p><strong>准备工作：</strong></p>
<p><strong>Ready to work:</strong>  </p>
<p>    1、首先得有一台云服务器进行提供网络带宽，frp代理带宽一般受限于该服务器带宽  </p>
<p>    2、一台目标机器，也就是需要反向代理的机器</p>
<p> **  1. First, there must be a cloud server to provide network bandwidth, and the frp proxy bandwidth is generally limited by the server bandwidth**</p>
<p> <strong>2. A target machine, that is, a machine that needs a reverse proxy</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/755f0bc472fb46608a89945de95ad5b6~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p><strong>云服务器端配置：</strong>  </p>
<p>**Cloud server configuration:<br>**</p>
<p>    使用命令查看云服务器的架构，一般云服务器架构为x86</p>
<p> <strong>Use commands to view the architecture of the cloud server, the general cloud server architecture is x86</strong></p>
<p>&#96;&#96;&#96;shell<br>[root@cby ~]# arch<br>x86_64</p>
<p>&#96;&#96;&#96;shell</p>
<p>    使用命令下载frp软件包  </p>
<p> <strong>Use command to download frp package</strong>  </p>
<p>&#96;&#96;&#96;shell<br>[root@cby ~]# wget <a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/releases/download/v0.35.1/frp_0.35.1_linux_amd64.tar.gz">https://github.com/fatedier/frp/releases/download/v0.35.1/frp_0.35.1_linux_amd64.tar.gz</a></p>
<p>&#96;&#96;&#96;shell</p>
<p>    下载完成后进行解压</p>
<p> <strong>Unzip after downloading</strong>  </p>
<p>&#96;&#96;&#96;shell<br>[root@cby ~]# tar -xvf frp_0.35.1_linux_amd64.tar.gz<br>frp_0.35.1_linux_amd64&#x2F;<br>frp_0.35.1_linux_amd64&#x2F;frps.ini<br>frp_0.35.1_linux_amd64&#x2F;frps_full.ini<br>frp_0.35.1_linux_amd64&#x2F;systemd&#x2F;<br>frp_0.35.1_linux_amd64&#x2F;systemd&#x2F;frpc@.service<br>frp_0.35.1_linux_amd64&#x2F;systemd&#x2F;frpc.service<br>frp_0.35.1_linux_amd64&#x2F;systemd&#x2F;frps.service<br>frp_0.35.1_linux_amd64&#x2F;systemd&#x2F;frps@.service<br>frp_0.35.1_linux_amd64&#x2F;frpc<br>frp_0.35.1_linux_amd64&#x2F;frpc_full.ini<br>frp_0.35.1_linux_amd64&#x2F;frps<br>frp_0.35.1_linux_amd64&#x2F;frpc.ini<br>frp_0.35.1_linux_amd64&#x2F;LICENSE</p>
<p>&#96;&#96;&#96;shell</p>
<p>    修改文件夹名称  </p>
<p>    <strong>Modify folder name</strong>  </p>
<p>&#96;&#96;&#96;shell<br>[root@cby ~]# cp -r frp_0.35.1_linux_amd64 frp</p>
<p>[root@cby ~]#<br>[root@cby ~]# ll<br>total 8508<br>drwxr-xr-x 3 root  root    4096 Feb 19 22:13 frp<br>drwxr-xr-x 3 mysql  116    4096 Jan 25 16:25 frp_0.35.1_linux_amd64<br>-rw-r–r– 1 root  root 8695632 Jan 25 16:25 frp_0.35.1_linux_amd64.tar.gz</p>
<p>&#96;&#96;&#96;shell</p>
<p>‍</p>
<p>    只需要关注如下几个文件</p>
<p>    <strong>Only need to pay attention to the following files</strong>  </p>
<p>&#96;&#96;&#96;shell<br>frps<br>frps.ini<br>frpc<br>frpc.ini</p>
<p>&#96;&#96;&#96;shell</p>
<p>    frps 、frps.ini 这俩个文件是服务端的配置文件和启动程序</p>
<p>    frpc、frpc.ini 这俩个文件是客户端的配置文件和启动程序</p>
<p> <strong>The two files frps and frps.ini are the configuration files and startup programs of the server</strong></p>
<p> <strong>The two files frpc and frpc.ini are the configuration files and startup programs of the client</strong></p>
<p>    编辑并添加以下内容  </p>
<p>    <strong>Edit and add the following</strong>  </p>
<p>&#96;&#96;&#96;shell<br>[root@cby frp]# vim frps.ini<br>[root@cby frp]# cat frps.ini<br>[common]<br>bind_port &#x3D; 7000<br>dashboard_port &#x3D; 7500<br>token &#x3D; 12345678<br>dashboard_user &#x3D; admin<br>dashboard_pwd &#x3D; admin<br>vhost_http_port &#x3D; 10080<br>vhost_https_port &#x3D; 10443</p>
<p>&#96;&#96;&#96;shell</p>
<p>    解释如下  </p>
<p>    <strong>Explain as follows</strong>  </p>
<p>&#96;&#96;&#96;shell<br>“bind_port”表示用于客户端和服务端连接的端口，这个端口号我们之后在配置客户端的时候要用到。<br>“dashboard_port”是服务端仪表板的端口，若使用7500端口，在配置完成服务启动后可以通过浏览器访问 x.x.x.x:7500 （其中x.x.x.x为VPS的IP）查看frp服务运行信息。<br>“token”是用于客户端和服务端连接的口令，请自行设置并记录，稍后会用到。<br>“dashboard_user”和“dashboard_pwd”表示打开仪表板页面登录的用户名和密码，自行设置即可。<br>“vhost_http_port”和“vhost_https_port”用于反向代理HTTP主机时使用，本文不涉及HTTP协议，因而照抄或者删除这两条均可。</p>
<p>&#96;&#96;&#96;shell</p>
<p>    文件修改完成后即可使用该命令进行启动  </p>
<p>    <strong>After the file is modified, you can use this command to start</strong>  </p>
<p>&#96;&#96;&#96;shell<br>[root@cby frp]# .&#x2F;frps -c frps.ini<br>2021&#x2F;02&#x2F;19 22:18:45 [I] [root.go:108] frps uses config file: frps.ini<br>2021&#x2F;02&#x2F;19 22:18:45 [I] [service.go:190] frps tcp listen on 0.0.0.0:7000<br>2021&#x2F;02&#x2F;19 22:18:45 [I] [service.go:232] http service listen on 0.0.0.0:10080<br>2021&#x2F;02&#x2F;19 22:18:45 [I] [service.go:253] https service listen on 0.0.0.0:10443<br>2021&#x2F;02&#x2F;19 22:18:45 [I] [service.go:289] Dashboard listen on 0.0.0.0:7500<br>2021&#x2F;02&#x2F;19 22:18:45 [I] [root.go:217] frps started successfully</p>
<p>&#96;&#96;&#96;shell</p>
<p>    若使用云服务器记得需要放行所需端口  </p>
<p>    <strong>If you use cloud server, remember to release the required port</strong>  </p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae9842ca26144c09874396b07dd3f9ca~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>    此时访问 x.x.x.x:7500 并使用自己设置的用户名密码登录，即可看到仪表板界面</p>
<p>    <strong>At this time, visit x.x.x.x:7500 and log in with the username and password you set, you can see the dashboard interface</strong>  </p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/838bf4d05d234ce08f08a50dd7ef67c7~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>    把服务在后台运行即可  </p>
<p>    <strong>Just run the service in the background</strong>  </p>
<p>&#96;&#96;&#96;shell<br>[root@cby frp]# nohup .&#x2F;frps -c frps.ini &amp;<br>[1] 4852<br>[root@cby frp]# jobs<br>[1]+  Running                 nohup .&#x2F;frps -c frps.ini &amp;</p>
<p>&#96;&#96;&#96;shell</p>
<p><strong>客户端配置</strong>  </p>
<p><strong>Client configuration</strong>  </p>
<p>    Windows系统下即可下载这个：  </p>
<p>    You can download this under Windows system:  </p>
<p>&#96;&#96;&#96;shell<br><a target="_blank" rel="noopener" href="https://github.com/fatedier/frp/releases/download/v0.35.1/frp_0.35.1_windows_amd64.zip">https://github.com/fatedier/frp/releases/download/v0.35.1/frp_0.35.1_windows_amd64.zip</a></p>
<p>&#96;&#96;&#96;shell</p>
<p>    frpc.ini文件内容为  </p>
<p>    <strong>The content of the frpc.ini file is</strong>  </p>
<p>&#96;&#96;&#96;shell<br>[common]<br>server_addr &#x3D; 123.56.237.11<br>server_port &#x3D; 7000<br>token &#x3D; 12345678<br>[rdp]<br>type &#x3D; tcp<br>local_ip &#x3D; 127.0.0.1<br>local_port &#x3D; 3389<br>remote_port &#x3D; 7001<br>[smb]<br>type &#x3D; tcp<br>local_ip &#x3D; 127.0.0.1<br>local_port &#x3D; 445<br>remote_port &#x3D; 7002</p>
<p>&#96;&#96;&#96;shell</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/308ee32d14064e239254b7605de5e1d4~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>    含义解释  </p>
<p>    <strong>Meaning interpretation</strong>  </p>
<p>&#96;&#96;&#96;shell<br>“server_addr”为服务端IP地址，填入即可。<br>“server_port”为服务器端口，填入你设置的端口号即可，如果未改变就是7000<br>“token”是你在服务器上设置的连接口令，原样填入即可。</p>
<p>&#96;&#96;&#96;shell</p>
<p>    自定义规则如下  </p>
<p>    <strong>The custom rules are as follows</strong>  </p>
<p>&#96;&#96;&#96;shell<br>“[xxx]”表示一个规则名称，自己定义，便于查询即可。<br>“type”表示转发的协议类型，有TCP和UDP等选项可以选择，如有需要请自行查询frp手册。<br>“local_port”是本地应用的端口号，按照实际应用工作在本机的端口号填写即可。<br>“remote_port”是该条规则在服务端开放的端口号，自己填写并记录即可。</p>
<p>&#96;&#96;&#96;shell</p>
<p>    客户端的启动是需要使用命令行进行启动的， 无法使用双击EXE进行启动。</p>
<p>    <strong>The startup of the client needs to use the command line to start, it cannot be started by double-clicking the EXE.</strong>  </p>
<p>&#96;&#96;&#96;shell<br>C:\Users\Administrator&gt;cd c:<br>c:&gt;cd frp<br>c:\frp&gt;frpc.exe -c frpc.ini<br>2021&#x2F;02&#x2F;19 22:35:49 [I] [service.go:290] [bf2998700defd7c5] login to server success, get run id [bf2998700defd7c5], server udp port [0]<br>2021&#x2F;02&#x2F;19 22:35:49 [I] [proxy_manager.go:144] [bf2998700defd7c5] proxy added: [rdp smb]<br>2021&#x2F;02&#x2F;19 22:35:49 [I] [control.go:180] [bf2998700defd7c5] [rdp] start proxy success<br>2021&#x2F;02&#x2F;19 22:35:49 [I] [control.go:180] [bf2998700defd7c5] [smb] start proxy success</p>
<p>&#96;&#96;&#96;shell</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1483ad6cb9f4f8aab81a4c718983ad8~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>    配置完成后即可在面板上看到该规则  </p>
<p>    <strong>After the configuration is complete, you can see the rule on the panel</strong>  </p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/265c7819ce534820be45b97dabe1572c~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>    同时使用远程连接工具使用IP或者域名即可进行连接</p>
<p>    但是Windows客户端的cmd是无法关闭的，关闭后就无法使用了，所以需要设置开机自启，使用bat脚本即可做到</p>
<p> <strong>At the same time, use the remote connection tool to connect using IP or domain name</strong></p>
<p> <strong>However, the cmd of the Windows client cannot be closed, and it cannot be used after it is closed, so you need to set the boot to start automatically, and you can use the bat script</strong></p>
<p>&#96;&#96;&#96;shell<br>@echo off<br>if “%1” &#x3D;&#x3D; “h” goto begin<br>mshta vbscript:createobject(“wscript.shell”).run(“””%~nx0”” h”,0)(window.close)&amp;&amp;exit<br>:begin<br>REM<br>cd C:\frp<br>frpc.exe -c frpc.ini<br>exit</p>
<p>&#96;&#96;&#96;shell</p>
<p>写完之后直接把文件扔到Windows的开机启动文件夹即可</p>
<p><strong>After writing, throw the file directly into the Windows startup folder.</strong>  </p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5a8bc24841a44df6b5cdd0912485a6d0~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/092306b1ce9e41d69ecbbc9a2987570a~tplv-k3u1fbpfcp-zoom-1.image">Linux运维交流社区推荐搜索关键词列表：Linuxfrp</p>
<p>汉威国际</p>
<p>位置：</p>
<p>北京市丰台区丰科西路|九号路</p>
<blockquote>
<p>本文使用 <a target="_blank" rel="noopener" href="https://juejin.cn/post/6940875049587097631">文章同步助手</a> 同步</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://www.chenby.cn">chenby</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.chenby.cn/2021/12/30/fdd885c81e9f/">http://www.chenby.cn/2021/12/30/fdd885c81e9f/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.chenby.cn" target="_blank">小陈运维</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://www.oiox.cn/images/wallhaven-q2o1ol.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/12/30/ab4c56714d19/"><img class="prev-cover" src="https://www.oiox.cn/images/wallhaven-l3v8rl.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SELinux入门学习总结</div></div></a></div><div class="next-post pull-right"><a href="/2021/12/30/530edba3f150/"><img class="next-cover" src="https://www.oiox.cn/images/wallhaven-g7m7xe.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://www.oiox.cn/1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">chenby</div><div class="author-info__description">小陈运维，致力于Kubernetes（k8s）与传统运维技术博客文档分享。互相学习，互相进步。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">148</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/11/27/95aa82e98174/" title="镜像搬运工 skopeo"><img src="https://www.oiox.cn/images/wallhaven-q2k2w7.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="镜像搬运工 skopeo"/></a><div class="content"><a class="title" href="/2022/11/27/95aa82e98174/" title="镜像搬运工 skopeo">镜像搬运工 skopeo</a><time datetime="2022-11-27T13:38:50.000Z" title="发表于 2022-11-27 21:38:50">2022-11-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/23/376987efd3b7/" title="在k8s上安装Harbor"><img src="https://www.oiox.cn/images/wallhaven-e79v1r.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在k8s上安装Harbor"/></a><div class="content"><a class="title" href="/2022/11/23/376987efd3b7/" title="在k8s上安装Harbor">在k8s上安装Harbor</a><time datetime="2022-11-22T16:21:49.000Z" title="发表于 2022-11-23 00:21:49">2022-11-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/16/d9240dc51b85/" title="安装Harbor"><img src="https://www.oiox.cn/images/wallhaven-72kwpo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安装Harbor"/></a><div class="content"><a class="title" href="/2022/11/16/d9240dc51b85/" title="安装Harbor">安装Harbor</a><time datetime="2022-11-16T07:18:03.000Z" title="发表于 2022-11-16 15:18:03">2022-11-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/12/752114e7fe6b/" title="Grafana Prometheus Altermanager"><img src="https://www.oiox.cn/images/wallhaven-m91d79.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Grafana Prometheus Altermanager"/></a><div class="content"><a class="title" href="/2022/11/12/752114e7fe6b/" title="Grafana Prometheus Altermanager">Grafana Prometheus Altermanager</a><time datetime="2022-11-12T03:59:09.000Z" title="发表于 2022-11-12 11:59:09">2022-11-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/09/05f3ddcc5772/" title="在Ubuntu中安装Samba文件服务"><img src="https://www.oiox.cn/images/wallhaven-m9kely.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在Ubuntu中安装Samba文件服务"/></a><div class="content"><a class="title" href="/2022/11/09/05f3ddcc5772/" title="在Ubuntu中安装Samba文件服务">在Ubuntu中安装Samba文件服务</a><time datetime="2022-11-09T10:48:03.000Z" title="发表于 2022-11-09 18:48:03">2022-11-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By chenby</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>