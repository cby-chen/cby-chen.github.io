
<!DOCTYPE html>
<html lang="cn" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>学习docker看此文足以 - chenby</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="chenby,什么是 DockerDocker 最初是 dotCloud 公司创始人  在法国期间发起的一个公司内部项目，它是基于 dotCloud 公司多年云服务技术的一次革新，并于 ，主要项目代码在  上进行,"> 
    <meta name="author" content="chenby"> 
    <link rel="alternative" href="atom.xml" title="chenby" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
    
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="学习docker看此文足以 - chenby"/>
    <meta name="twitter:description" content="chenby,什么是 DockerDocker 最初是 dotCloud 公司创始人  在法国期间发起的一个公司内部项目，它是基于 dotCloud 公司多年云服务技术的一次革新，并于 ，主要项目代码在  上进行,"/>
    
    
    
    
    <meta property="og:site_name" content="chenby"/>
    <meta property="og:type" content="object"/>
    <meta property="og:title" content="学习docker看此文足以 - chenby"/>
    <meta property="og:description" content="chenby,什么是 DockerDocker 最初是 dotCloud 公司创始人  在法国期间发起的一个公司内部项目，它是基于 dotCloud 公司多年云服务技术的一次革新，并于 ，主要项目代码在  上进行,"/>
    
<link rel="stylesheet" href="/css/diaspora.css">

<meta name="generator" content="Hexo 6.1.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">chenby</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">学习docker看此文足以</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">学习docker看此文足以</h1>
        <div class="stuff">
            <span>十二月 30, 2021</span>
            

        </div>
        <div class="content markdown">
            <h3 id="什么是-Docker"><a href="#什么是-Docker" class="headerlink" title="什么是 Docker"></a>什么是 Docker</h3><p>Docker 最初是 dotCloud 公司创始人  在法国期间发起的一个公司内部项目，它是基于 dotCloud 公司多年云服务技术的一次革新，并于 ，主要项目代码在  上进行维护。Docker 项目后来还加入了 Linux 基金会，并成立推动 。</p>
<p>Docker 自开源后受到广泛的关注和讨论，至今其  已经超过 5 万 7 千个星标和一万多个 fork。甚至由于 Docker 项目的火爆，在 2013 年底，。Docker 最初是在 Ubuntu 12.04 上开发实现的；Red Hat 则从 RHEL 6.5 开始对 Docker 进行支持；Google 也在其 PaaS 产品中广泛应用 Docker。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d8004eb674b46c4a7d0f62143504ea4~tplv-k3u1fbpfcp-zoom-1.image" alt="图片">  </p>
<h3 id="为什么要用-Docker"><a href="#为什么要用-Docker" class="headerlink" title="为什么要用 Docker"></a>为什么要用 Docker</h3><p>作为一种新兴的虚拟化方式，Docker 跟传统的虚拟化方式相比具有众多的优势。</p>
<p><strong>更高效的利用系统资源</strong></p>
<p>由于容器不需要进行硬件虚拟以及运行完整操作系统等额外开销，Docker 对系统资源的利用率更高。无论是应用执行速度、内存损耗或者文件存储速度，都要比传统虚拟机技术更高效。因此，相比虚拟机技术，一个相同配置的主机，往往可以运行更多数量的应用。</p>
<p><strong>更快速的启动时间</strong></p>
<p>传统的虚拟机技术启动应用服务往往需要数分钟，而 Docker 容器应用，由于直接运行于宿主内核，无需启动完整的操作系统，因此可以做到秒级、甚至毫秒级的启动时间。大大的节约了开发、测试、部署的时间。</p>
<p><strong>一致的运行环境</strong></p>
<p>开发过程中一个常见的问题是环境一致性问题。由于开发环境、测试环境、生产环境不一致，导致有些 bug 并未在开发过程中被发现。而 Docker 的镜像提供了除内核外完整的运行时环境，确保了应用运行环境一致性，从而不会再出现 「这段代码在我机器上没问题啊」 这类问题。</p>
<p><strong>持续交付和部署</strong></p>
<p>对开发和运维（）人员来说，最希望的就是一次创建或配置，可以在任意地方正常运行。</p>
<p>使用 Docker 可以通过定制应用镜像来实现持续集成、持续交付、部署。开发人员可以通过  来进行镜像构建，并结合  系统进行集成测试，而运维人员则可以直接在生产环境中快速部署该镜像，甚至结合  系统进行自动部署。</p>
<p>而且使用  使镜像构建透明化，不仅仅开发团队可以理解应用运行环境，也方便运维团队理解应用运行所需条件，帮助更好的生产环境中部署该镜像。</p>
<p><strong>更轻松的迁移</strong></p>
<p>由于 Docker 确保了执行环境的一致性，使得应用的迁移更加容易。Docker 可以在很多平台上运行，无论是物理机、虚拟机、公有云、私有云，甚至是笔记本，其运行结果是一致的。因此用户可以很轻易的将在一个平台上运行的应用，迁移到另一个平台上，而不用担心运行环境的变化导致应用无法正常运行的情况。</p>
<p><strong>更轻松的维护和扩展</strong></p>
<p>Docker 使用的分层存储以及镜像的技术，使得应用重复部分的复用更为容易，也使得应用的维护更新更加简单，基于基础镜像进一步扩展镜像也变得非常简单。此外，Docker 团队同各个开源项目团队一起维护了一大批高质量的 ，既可以直接在生产环境使用，又可以作为基础进一步定制，大大的降低了应用服务的镜像制作成本。</p>
<h3 id="docker一键安装"><a href="#docker一键安装" class="headerlink" title="docker一键安装"></a>docker一键安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</span><br></pre></td></tr></table></figure>

<h3 id="Docker命令实战"><a href="#Docker命令实战" class="headerlink" title="Docker命令实战"></a>Docker命令实战</h3><h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><h3 id="基础实战"><a href="#基础实战" class="headerlink" title="基础实战"></a>基础实战</h3><h4 id="1、镜像"><a href="#1、镜像" class="headerlink" title="1、镜像"></a>1、镜像</h4><h5 id="下载最新版镜像"><a href="#下载最新版镜像" class="headerlink" title="下载最新版镜像"></a>下载最新版镜像</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker pull nginx</span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/nginx</span><br><span class="line">7d63c13d9b9b: Pull complete </span><br><span class="line">5cb019b641b5: Pull complete </span><br><span class="line">d477de77abf8: Pull complete </span><br><span class="line">c60e7d4c1c30: Pull complete </span><br><span class="line">365a49996569: Pull complete </span><br><span class="line">039c6e901970: Pull complete </span><br><span class="line">Digest: sha256:168a6a2be5c65d4aafa7a78ca98ff8b110fe44c6ca41e7ccb4314ed481e32288</span><br><span class="line">Status: Downloaded newer image for nginx:latest</span><br><span class="line">docker.io/library/nginx:latest</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="查看本地镜像"><a href="#查看本地镜像" class="headerlink" title="查看本地镜像"></a>查看本地镜像</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker images</span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</span><br><span class="line">nginx       latest   e9ce56a96f8e   8 hours ago   141MB</span><br><span class="line">root@hello:~</span><br></pre></td></tr></table></figure>

<h5 id="删除镜像"><a href="#删除镜像" class="headerlink" title="删除镜像"></a>删除镜像</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker images</span><br><span class="line"></span><br><span class="line">REPOSITORY  TAG    IMAGE ID    CREATED    SIZE</span><br><span class="line"></span><br><span class="line">nginx     latest   e9ce56a96f8e  8 hours ago  141MB</span><br><span class="line"></span><br><span class="line">root@hello:~# </span><br><span class="line"></span><br><span class="line">root@hello:~# docker rmi e9ce56a96f8e</span><br><span class="line"></span><br><span class="line">Untagged: nginx:latest</span><br><span class="line"></span><br><span class="line">Untagged: nginx@sha256:168a6a2be5c65d4aafa7a78ca98ff8b110fe44c6ca41e7ccb4314ed481e32288</span><br><span class="line"></span><br><span class="line">Deleted: sha256:e9ce56a96f8e0e9f75051f258a595d1257bd6bb91913b79455ea77e67e686c5c</span><br><span class="line"></span><br><span class="line">Deleted: sha256:6e5a463ea9608e4712465e1c575b2932dde96f99fa2c2fc31a5bacbe69c725cb</span><br><span class="line"></span><br><span class="line">Deleted: sha256:a12cc243b903b34c8137e57160d206d6c1ee76a1ab6011a1cebdceb8b6ff8768</span><br><span class="line"></span><br><span class="line">Deleted: sha256:a562e4589c72b0706526e13eed9c4f037ab5d1f50eb4529b38670abe353248f2</span><br><span class="line"></span><br><span class="line">Deleted: sha256:fd67efaafabe1a0b146e9f7d958de79ec8fcec9aa6ee13ca3052b4acd8a3b81a</span><br><span class="line"></span><br><span class="line">Deleted: sha256:c3967df88e47f739c3048492985aafaafecd5806de6c6870cbd76997fc0c68b0</span><br><span class="line"></span><br><span class="line">Deleted: sha256:e8b689711f21f9301c40bf2131ce1a1905c3aa09def1de5ec43cf0adf652576e</span><br><span class="line"></span><br><span class="line">root@hello:~# </span><br><span class="line"></span><br><span class="line">root@hello:~# docker images</span><br><span class="line"></span><br><span class="line">REPOSITORY  TAG    IMAGE ID  CREATED  SIZE</span><br><span class="line"></span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="下载指定版本镜像"><a href="#下载指定版本镜像" class="headerlink" title="下载指定版本镜像"></a>下载指定版本镜像</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker pull nginx:1.20.1</span><br><span class="line">1.20.1: Pulling from library/nginx</span><br><span class="line">b380bbd43752: Pull complete </span><br><span class="line">83acae5e2daa: Pull complete </span><br><span class="line">33715b419f9b: Pull complete </span><br><span class="line">eb08b4d557d8: Pull complete </span><br><span class="line">74d5bdecd955: Pull complete </span><br><span class="line">0820d7f25141: Pull complete </span><br><span class="line">Digest: sha256:a98c2360dcfe44e9987ed09d59421bb654cb6c4abe50a92ec9c912f252461483</span><br><span class="line">Status: Downloaded newer image for nginx:1.20.1</span><br><span class="line">docker.io/library/nginx:1.20.1</span><br><span class="line">root@hello:~# docker images</span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</span><br><span class="line">nginx        1.20.1    c8d03f6b8b91   5 weeks ago   133MB</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2、容器"><a href="#2、容器" class="headerlink" title="2、容器"></a>2、容器</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span><br><span class="line"></span><br><span class="line">【docker run  设置项  镜像名  】 镜像启动运行的命令（镜像里面默认有的，一般不会写）</span><br><span class="line"></span><br><span class="line"># -d：后台运行</span><br><span class="line"></span><br><span class="line"># --restart=always: 开机自启</span><br><span class="line"></span><br><span class="line"># -p 主机端口：容器端口</span><br><span class="line"></span><br><span class="line">root@hello:~# docker run --name=myningx -d --restart=always -p 88:80 nginx </span><br><span class="line">Unable to find image &#x27;nginx:latest&#x27; locally</span><br><span class="line">latest: Pulling from library/nginx</span><br><span class="line">7d63c13d9b9b: Pull complete </span><br><span class="line">5cb019b641b5: Pull complete </span><br><span class="line">d477de77abf8: Pull complete </span><br><span class="line">c60e7d4c1c30: Pull complete </span><br><span class="line">365a49996569: Pull complete </span><br><span class="line">039c6e901970: Pull complete </span><br><span class="line">Digest: sha256:168a6a2be5c65d4aafa7a78ca98ff8b110fe44c6ca41e7ccb4314ed481e32288</span><br><span class="line">Status: Downloaded newer image for nginx:latest</span><br><span class="line">15db0ba492cf2b86714e3e29723d413b97e64cc2ee361d4109f4216b2e0cba60</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# curl -I 127.0.0.1:88</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Server: nginx/1.21.4</span><br><span class="line">Date: Wed, 17 Nov 2021 02:03:13 GMT</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Content-Length: 615</span><br><span class="line">Last-Modified: Tue, 02 Nov 2021 14:49:22 GMT</span><br><span class="line">Connection: keep-alive</span><br><span class="line">ETag: &quot;61814ff2-267&quot;</span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line"></span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="查看当前运行的容器"><a href="#查看当前运行的容器" class="headerlink" title="查看当前运行的容器"></a>查看当前运行的容器</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED              STATUS              PORTS                               NAMES</span><br><span class="line">15db0ba492cf   nginx     &quot;/docker-entrypoint.…&quot;   About a minute ago   Up About a minute   0.0.0.0:88-&gt;80/tcp, :::88-&gt;80/tcp   myningx</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="停止容器"><a href="#停止容器" class="headerlink" title="停止容器"></a>停止容器</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker stop 15db0ba492cf</span><br><span class="line">15db0ba492cf</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker  ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="查看所有容器"><a href="#查看所有容器" class="headerlink" title="查看所有容器"></a>查看所有容器</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker  ps -a</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS                      PORTS     NAMES</span><br><span class="line">15db0ba492cf   nginx     &quot;/docker-entrypoint.…&quot;   2 minutes ago   Exited (0) 12 seconds ago             myningx</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="启动容器"><a href="#启动容器" class="headerlink" title="启动容器"></a>启动容器</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker start 15db0ba492cf</span><br><span class="line">15db0ba492cf</span><br><span class="line">root@hello:~# docker  ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                               NAMES</span><br><span class="line">15db0ba492cf   nginx     &quot;/docker-entrypoint.…&quot;   2 minutes ago   Up 3 seconds   0.0.0.0:88-&gt;80/tcp, :::88-&gt;80/tcp   myningx</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="删除容器，在运行中无法删除"><a href="#删除容器，在运行中无法删除" class="headerlink" title="删除容器，在运行中无法删除"></a>删除容器，在运行中无法删除</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker rm 15db0ba492cf</span><br><span class="line">Error response from daemon: You cannot remove a running container 15db0ba492cf2b86714e3e29723d413b97e64cc2ee361d4109f4216b2e0cba60. Stop the container before attempting removal or force remove</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="强制删除容器"><a href="#强制删除容器" class="headerlink" title="强制删除容器"></a>强制删除容器</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker rm -f 15db0ba492cf</span><br><span class="line">15db0ba492cf</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3、进入容器操作容器"><a href="#3、进入容器操作容器" class="headerlink" title="3、进入容器操作容器"></a>3、进入容器操作容器</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker exec -it b1d72657b /bin/bash</span><br><span class="line">root@b1d72657b272:/# </span><br><span class="line">root@b1d72657b272:/#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4、修改容器内容"><a href="#4、修改容器内容" class="headerlink" title="4、修改容器内容"></a>4、修改容器内容</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker exec -it b1d72657b /bin/bash</span><br><span class="line">root@b1d72657b272:/# echo &quot;123&quot; &gt; /usr/share/nginx/html/index.html </span><br><span class="line">root@b1d72657b272:/# </span><br><span class="line">root@b1d72657b272:/# echo &quot;cby&quot; &gt; /usr/share/nginx/html/index.html </span><br><span class="line"></span><br><span class="line">root@hello:~# curl 127.0.0.1:88</span><br><span class="line">123</span><br><span class="line">root@hello:~# </span><br><span class="line"></span><br><span class="line">root@hello:~# docker exec -it b1d72657b /bin/bash</span><br><span class="line">root@b1d72657b272:/# echo &quot;cby&quot; &gt; /usr/share/nginx/html/index.html </span><br><span class="line"></span><br><span class="line">root@hello:~# curl 127.0.0.1:88</span><br><span class="line">cby</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="5、挂载外部数据"><a href="#5、挂载外部数据" class="headerlink" title="5、挂载外部数据"></a>5、挂载外部数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker run --name=myningx -d --restart=always -p 88:80 -v /data/html:/usr/share/nginx/html/ nginx  </span><br><span class="line"></span><br><span class="line">e3788cdd7be695fe9a1bebd7306c131d6380da215a416d19c162c609b8f108ae</span><br><span class="line"></span><br><span class="line">root@hello:~# </span><br><span class="line"></span><br><span class="line">root@hello:~# </span><br><span class="line"></span><br><span class="line">root@hello:~# curl 127.0.0.1:88</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;&lt;center&gt;nginx/1.21.4&lt;/center&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">root@hello:~# </span><br><span class="line"></span><br><span class="line">root@hello:~# echo &quot;cby&quot; &gt; /data/html/index.html</span><br><span class="line"></span><br><span class="line">root@hello:~# </span><br><span class="line"></span><br><span class="line">root@hello:~# </span><br><span class="line"></span><br><span class="line">root@hello:~# curl 127.0.0.1:88</span><br><span class="line"></span><br><span class="line">cby</span><br><span class="line"></span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="6、将运行中的容器构建为镜像"><a href="#6、将运行中的容器构建为镜像" class="headerlink" title="6、将运行中的容器构建为镜像"></a>6、将运行中的容器构建为镜像</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker ps </span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                               NAMES</span><br><span class="line">e3788cdd7be6   nginx     &quot;/docker-entrypoint.…&quot;   4 minutes ago   Up 4 minutes   0.0.0.0:88-&gt;80/tcp, :::88-&gt;80/tcp   myningx</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker commit -a &quot;cby&quot; -m &quot;my app&quot; e3788cdd7be6 myapp:v1.0</span><br><span class="line">sha256:07a7b54c914c79dfbd402029a3d144201235eca72a4f26c92e2ec7780c485226</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker images</span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">myapp        v1.0      07a7b54c914c   4 seconds ago   141MB</span><br><span class="line">nginx        latest    e9ce56a96f8e   8 hours ago     141MB</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="7、镜像保存与导入"><a href="#7、镜像保存与导入" class="headerlink" title="7、镜像保存与导入"></a>7、镜像保存与导入</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker save -o cby.tar myapp:v1.0</span><br><span class="line">root@hello:~# ll cby.tar </span><br><span class="line">-rw------- 1 root root 145910784 Nov 17 02:21 cby.tar</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker load -i cby.tar </span><br><span class="line">Loaded image: myapp:v1.0</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker images</span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">myapp        v1.0      07a7b54c914c   3 minutes ago   141MB</span><br><span class="line">nginx        latest    e9ce56a96f8e   8 hours ago     141MB</span><br><span class="line">nginx        1.20.1    c8d03f6b8b91   5 weeks ago     133MB</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="8、推送到DockerHub，并在其他主机上可拉去该镜像"><a href="#8、推送到DockerHub，并在其他主机上可拉去该镜像" class="headerlink" title="8、推送到DockerHub，并在其他主机上可拉去该镜像"></a>8、推送到DockerHub，并在其他主机上可拉去该镜像</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">root@hello:~# docker tag myapp:v1.0 chenbuyun/myapp:v1.0</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker login</span><br><span class="line">Login with your Docker ID to push and pull images from Docker Hub. If you don&#x27;t have a Docker ID, head over to https://hub.docker.com to create one.</span><br><span class="line">Username: chenbuyun</span><br><span class="line">Password: </span><br><span class="line">WARNING! Your password will be stored unencrypted in /root/.docker/config.json.</span><br><span class="line">Configure a credential helper to remove this warning. See</span><br><span class="line">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</span><br><span class="line"></span><br><span class="line">Login Succeeded</span><br><span class="line">root@hello:~# docker push chenbuyun/myapp:v1.0</span><br><span class="line">The push refers to repository [docker.io/chenbuyun/myapp]</span><br><span class="line">799aefeaf6b1: Pushed </span><br><span class="line">fd688ba2259e: Mounted from library/nginx </span><br><span class="line">c731fe3d8126: Mounted from library/nginx </span><br><span class="line">3b1690d8cd86: Mounted from library/nginx </span><br><span class="line">03f105433dc8: Mounted from library/nginx </span><br><span class="line">bd7b2912e0ab: Mounted from library/nginx </span><br><span class="line">e8b689711f21: Mounted from library/nginx </span><br><span class="line">v1.0: digest: sha256:f085a533e36cccd27a21fe4de7c87f652fe9346e1ed86e3d82856d5d4434c0a0 size: 1777</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker logout</span><br><span class="line">Removing login credentials for https://index.docker.io/v1/</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker pull chenbuyun/myapp:v1.0 </span><br><span class="line">v1.0: Pulling from chenbuyun/myapp</span><br><span class="line">Digest: sha256:f085a533e36cccd27a21fe4de7c87f652fe9346e1ed86e3d82856d5d4434c0a0</span><br><span class="line">Status: Downloaded newer image for chenbuyun/myapp:v1.0</span><br><span class="line">docker.io/chenbuyun/myapp:v1.0</span><br><span class="line">root@hello:~# </span><br><span class="line">root@hello:~# docker images</span><br><span class="line">REPOSITORY        TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">chenbuyun/myapp   v1.0      07a7b54c914c   9 minutes ago   141MB</span><br><span class="line">myapp             v1.0      07a7b54c914c   9 minutes ago   141MB</span><br><span class="line">nginx             latest    e9ce56a96f8e   8 hours ago     141MB</span><br><span class="line">nginx             1.20.1    c8d03f6b8b91   5 weeks ago     133MB</span><br><span class="line">root@hello:~#</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>以上仅为常用命令，更多docker相关知识可在：<a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-tutorial.html">https://www.runoob.com/docker/docker-tutorial.html</a></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bb60b2788966407595c25096531fe639~tplv-k3u1fbpfcp-zoom-1.image"></p>
<p><strong>Linux运维交流社区</strong></p>
<p>Linux运维交流社区，互联网新闻以及技术交流。</p>
<p>55篇原创内容</p>
<p>公众号</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a71a46d98cd74dc19af67b43b6de547a~tplv-k3u1fbpfcp-zoom-1.image" alt="图片">  </p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq/_33921750">https://blog.csdn.net/qq\_33921750</a></p>
<p><a target="_blank" rel="noopener" href="https://my.oschina.net/u/3981543">https://my.oschina.net/u/3981543</a></p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/people/chen-bu-yun-2">https://www.zhihu.com/people/chen-bu-yun-2</a></p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/u/hppyvyv6/articles">https://segmentfault.com/u/hppyvyv6/articles</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/user/3315782802482007">https://juejin.cn/user/3315782802482007</a></p>
<p><a target="_blank" rel="noopener" href="https://space.bilibili.com/352476552/article">https://space.bilibili.com/352476552/article</a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/column/93230">https://cloud.tencent.com/developer/column/93230</a></p>
<p>知乎、CSDN、开源中国、思否、掘金、哔哩哔哩、腾讯云</p>
<blockquote>
<p>本文使用 <a target="_blank" rel="noopener" href="https://juejin.cn/post/6940875049587097631">文章同步助手</a> 同步</p>
</blockquote>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                        
                            <li title="1" data-url="http://link.hhtjim.com/163/425570952.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link"
		data-enable="false"
        data-ae="false"
        data-ci=""
        data-cs=""
        data-r=""
        data-o=""
        data-a=""
        data-d="false"
    >查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
