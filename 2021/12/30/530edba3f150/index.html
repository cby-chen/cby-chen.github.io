<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控 | 小陈运维</title><meta name="author" content="chenby"><meta name="copyright" content="chenby"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MindX DL Sample主要应用于企业的数据中心或超算中心机房中，针对不同的应用场景为客户提供AI深度学习端到端解决方案。     传统行业：用户无自建深度学习平台，希望能够提供简单易用、软硬件一体化的深度学习平台。     互联网和安防行业：用户有自建深度学习平台，希望提供适配客户深度学习平台的开源插件，快速上线昇腾系列AI处理器的深度学习。     超算中心和公有云行业：用户无A">
<meta property="og:type" content="article">
<meta property="og:title" content="华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控">
<meta property="og:url" content="http://www.chenby.cn/2021/12/30/530edba3f150/index.html">
<meta property="og:site_name" content="小陈运维">
<meta property="og:description" content="MindX DL Sample主要应用于企业的数据中心或超算中心机房中，针对不同的应用场景为客户提供AI深度学习端到端解决方案。     传统行业：用户无自建深度学习平台，希望能够提供简单易用、软硬件一体化的深度学习平台。     互联网和安防行业：用户有自建深度学习平台，希望提供适配客户深度学习平台的开源插件，快速上线昇腾系列AI处理器的深度学习。     超算中心和公有云行业：用户无A">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.oiox.cn/images/wallhaven-72g2qo.jpg">
<meta property="article:published_time" content="2021-12-30T09:04:00.000Z">
<meta property="article:modified_time" content="2022-03-25T07:50:11.000Z">
<meta property="article:author" content="chenby">
<meta property="article:tag" content="小陈运维,运维,linux,kubernetes,docker,k8s,容器,博客,文档,技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.oiox.cn/images/wallhaven-72g2qo.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.chenby.cn/2021/12/30/530edba3f150/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-25 15:50:11'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://www.oiox.cn/1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">167</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.oiox.cn/images/wallhaven-72g2qo.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小陈运维</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-12-30T09:04:00.000Z" title="发表于 2021-12-30 17:04:00">2021-12-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-25T07:50:11.000Z" title="更新于 2022-03-25 15:50:11">2022-03-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="华为 A800-9000 服务器 离线安装MindX DL 可视化环境+监控"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>    MindX DL Sample主要应用于企业的数据中心或超算中心机房中，针对不同的应用场景为客户提供AI深度学习端到端解决方案。</p>
<p>    传统行业：用户无自建深度学习平台，希望能够提供简单易用、软硬件一体化的深度学习平台。</p>
<p>    互联网和安防行业：用户有自建深度学习平台，希望提供适配客户深度学习平台的开源插件，快速上线昇腾系列AI处理器的深度学习。</p>
<p>    超算中心和公有云行业：用户无AI深度学习集群，希望提供大规模AI深度学习集群、支持超高密部署、整柜交付，缩短项目交付周期，加速业务上线，节省安装部署及调测成本。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b9e7276bdb94153a970476da4185a75~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>    说明：此文档需要先将基础kubernetes环境下的DL搭建完成，参考《华为 A800-9000 服务器 离线安装MindX DL》  </p>
<p>一、 修改ansible配置文件  </p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:&#x2F;etc&#x2F;ansible# vim hosts<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible# cat &#x2F;etc&#x2F;ansible&#x2F;hosts<br>[all:vars]</p>
<h1 id="NFS-service-IP"><a href="#NFS-service-IP" class="headerlink" title="NFS service IP"></a>NFS service IP</h1><p>nfs_service_ip&#x3D;192.168.1.99</p>
<h1 id="Master-IP"><a href="#Master-IP" class="headerlink" title="Master IP"></a>Master IP</h1><p>master_ip&#x3D;192.168.1.99</p>
<p>[workers]<br>localnode ansible_host&#x3D;192.168.1.99 ansible_ssh_user&#x3D;root ansible_ssh_pass&#x3D;123123</p>
<p>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible# vi &#x2F;etc&#x2F;ansible&#x2F;ansible.cfg</p>
<h1 id="取消以下两行内容的注释并更改deprecation-warnings为“False”。"><a href="#取消以下两行内容的注释并更改deprecation-warnings为“False”。" class="headerlink" title="取消以下两行内容的注释并更改deprecation_warnings为“False”。"></a>取消以下两行内容的注释并更改deprecation_warnings为“False”。</h1><p>host_key_checking &#x3D; False<br>deprecation_warnings &#x3D; False</p>
<p>&#96;&#96;&#96;shell</p>
<p>二、下载基础镜像  </p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:&#x2F;etc&#x2F;ansible# docker pull redis:5.0.8<br>5.0.8: Pulling from library&#x2F;redis<br>3d48095d71a3: Pull complete<br>773882920678: Pull complete<br>b04905edf724: Pull complete<br>90e236b4682b: Pull complete<br>fb7d8181d1c6: Pull complete<br>532c81fe8c61: Pull complete<br>Digest: sha256:96bdb5e2984b15e3cf4de74077f650c911cb26ec0981e0772df35a1a5cb19798<br>Status: Downloaded newer image for redis:5.0.8<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible# docker pull prom&#x2F;prometheus:v2.10.0<br>v2.10.0: Pulling from prom&#x2F;prometheus<br>596fa44d463e: Pull complete<br>ae7a0e9c5457: Pull complete<br>3e3e880277a4: Pull complete<br>d884b32e16d7: Pull complete<br>6f45dfbc8251: Pull complete<br>e7275b596775: Pull complete<br>d3c1f1d7d1d1: Pull complete<br>f040a278aa08: Pull complete<br>403fefd2b7ea: Pull complete<br>Digest: sha256:b89e9c7ffbfbc8efebd6d8ff89b33175625bb2c7ae2751fbcd89f0884cfbdcab<br>Status: Downloaded newer image for prom&#x2F;prometheus:v2.10.0<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible# docker pull mysql&#x2F;mysql-server:8.0.13<br>8.0.13: Pulling from mysql&#x2F;mysql-server<br>5530262403b2: Pull complete<br>01c05f6b9ab3: Pull complete<br>f521094e248f: Pull complete<br>495eb6103d23: Pull complete<br>Digest: sha256:59a5854dca16488305aee60c8dea4d88b68d816aee627de022b19d9bead48d04<br>Status: Downloaded newer image for mysql&#x2F;mysql-server:8.0.13<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible# docker pull grafana&#x2F;grafana:7.0.2<br>7.0.2: Pulling from grafana&#x2F;grafana<br>29e5d40040c1: Pull complete<br>c33923c8c811: Pull complete<br>3fd85f7a4ab6: Pull complete<br>987cf1afe976: Pull complete<br>a27d86f46de8: Pull complete<br>285316502f38: Pull complete<br>Digest: sha256:5b9c9e18a8279a818144d90431ac0631bc17f520aa5c2fd6dd70bf767b48e632<br>Status: Downloaded newer image for grafana&#x2F;grafana:7.0.2<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible# docker pull python:3.7.5<br>3.7.5: Pulling from library&#x2F;python<br>af4800279257: Pull complete<br>8fae2ec46cd5: Pull complete<br>8a8718b9412e: Pull complete<br>4908f8b44725: Pull complete<br>54e0fac9e6c6: Pull complete<br>2b1da11f97bb: Pull complete<br>d93a637093d0: Pull complete<br>c79746565cc4: Pull complete<br>3dfacccebd97: Pull complete<br>Digest: sha256:88d11783cbbfa06f1c12ca50c73c340b0bff34bf599c6e1dd27fb836a8de506d<br>Status: Downloaded newer image for python:3.7.5<br>root@ubuntu:&#x2F;etc&#x2F;ansible#<br>root@ubuntu:&#x2F;etc&#x2F;ansible# docker pull ubuntu:18.04<br>18.04: Pulling from library&#x2F;ubuntu<br>fda1cca7a3cc: Pull complete<br>Digest: sha256:7bd7a9ca99f868bf69c4b6212f64f2af8e243f97ba13abb3e641e03a7ceb59e8<br>Status: Downloaded newer image for ubuntu:18.04<br>root@ubuntu:&#x2F;etc&#x2F;ansible#</p>
<p>&#96;&#96;&#96;shell</p>
<p>三、配置NGINX镜像配置  </p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;nginx# vim Dockerfile<br>FROM ubuntu:18.04</p>
<p>#(可选Part1)如用户环境需要配置代理连接网络，此处需要按如下示例配置代理，可直接取消注释并填写相应字段（大括号不保留）。</p>
<h1 id="ENV-http-proxy-http-x2F-x2F-username-password-IP-port"><a href="#ENV-http-proxy-http-x2F-x2F-username-password-IP-port" class="headerlink" title="ENV http_proxy http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}"></a>ENV http_proxy http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}</h1><h1 id="ENV-https-proxy-http-x2F-x2F-username-password-IP-port"><a href="#ENV-https-proxy-http-x2F-x2F-username-password-IP-port" class="headerlink" title="ENV https_proxy http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}"></a>ENV https_proxy http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}</h1><p>#(可选Part2)如用户环境需要配置代理连接网络，此处需要按如下示例配置代理，可直接取消注释并填写相应字段（大括号不保留）。</p>
<h1 id="RUN-echo-‘Acquire-http-Proxy-“http-x2F-x2F-username-password-IP-port-”-Acquire-https-Proxy-“http-x2F-x2F-username-password-IP-port-”-’-gt-x2F-etc-x2F-apt-x2F-apt-conf-d-x2F-80proxy"><a href="#RUN-echo-‘Acquire-http-Proxy-“http-x2F-x2F-username-password-IP-port-”-Acquire-https-Proxy-“http-x2F-x2F-username-password-IP-port-”-’-gt-x2F-etc-x2F-apt-x2F-apt-conf-d-x2F-80proxy" class="headerlink" title="RUN echo ‘Acquire::http::Proxy “http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}”; Acquire::https::Proxy “http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}”;’ &gt; &#x2F;etc&#x2F;apt&#x2F;apt.conf.d&#x2F;80proxy"></a>RUN echo ‘Acquire::http::Proxy “http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}”; Acquire::https::Proxy “http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}”;’ &gt; &#x2F;etc&#x2F;apt&#x2F;apt.conf.d&#x2F;80proxy</h1><p>##(可选Part3)配置apt源，ARM环境示例，请根据环境架构在Part3和Part4中二选一<br>#RUN echo ‘deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic main restricted universe multiverse \n<br>#deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic-security main restricted universe multiverse \n<br>#deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic-updates main restricted universe multiverse \n<br>#deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic-proposed main restricted universe multiverse \n<br>#deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic-backports main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic-security main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic-updates main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic-proposed main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu-ports/">http://mirrors.aliyun.com/ubuntu-ports/</a> bionic-backports main restricted universe multiverse’  &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</p>
<p>##(可选Part4)配置apt源，x86环境示例，请根据环境架构在Part3和Part4中二选一<br>#RUN echo ‘deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic main restricted universe multiverse \n<br>#deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic-security main restricted universe multiverse \n<br>#deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic-updates main restricted universe multiverse \n<br>#deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic-proposed main restricted universe multiverse \n<br>#deb <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic-backports main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic-security main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic-updates main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic-proposed main restricted universe multiverse \n<br>#deb-src <a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/ubuntu/">http://mirrors.aliyun.com/ubuntu/</a> bionic-backports main restricted universe multiverse’  &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</p>
<p>RUN echo ‘deb <a target="_blank" rel="noopener" href="http://cn.ports.ubuntu.com/ubuntu-ports/">http://cn.ports.ubuntu.com/ubuntu-ports/</a> bionic main restricted \n<br>deb <a target="_blank" rel="noopener" href="http://cn.ports.ubuntu.com/ubuntu-ports/">http://cn.ports.ubuntu.com/ubuntu-ports/</a> bionic-updates main restricted \n<br>deb <a target="_blank" rel="noopener" href="http://cn.ports.ubuntu.com/ubuntu-ports/">http://cn.ports.ubuntu.com/ubuntu-ports/</a> bionic universe \n<br>deb <a target="_blank" rel="noopener" href="http://cn.ports.ubuntu.com/ubuntu-ports/">http://cn.ports.ubuntu.com/ubuntu-ports/</a> bionic-updates universe \n<br>deb <a target="_blank" rel="noopener" href="http://cn.ports.ubuntu.com/ubuntu-ports/">http://cn.ports.ubuntu.com/ubuntu-ports/</a> bionic multiverse \n<br>deb <a target="_blank" rel="noopener" href="http://cn.ports.ubuntu.com/ubuntu-ports/">http://cn.ports.ubuntu.com/ubuntu-ports/</a> bionic-updates multiverse \n<br>deb <a target="_blank" rel="noopener" href="http://cn.ports.ubuntu.com/ubuntu-ports/">http://cn.ports.ubuntu.com/ubuntu-ports/</a> bionic-backports main restricted universe multiverse \n<br>deb <a target="_blank" rel="noopener" href="http://ports.ubuntu.com/ubuntu-ports">http://ports.ubuntu.com/ubuntu-ports</a> bionic-security main restricted \n\<br>deb <a target="_blank" rel="noopener" href="http://ports.ubuntu.com/ubuntu-ports">http://ports.ubuntu.com/ubuntu-ports</a> bionic-security universe \n<br>deb <a target="_blank" rel="noopener" href="http://ports.ubuntu.com/ubuntu-ports">http://ports.ubuntu.com/ubuntu-ports</a> bionic-security multiverse’ &gt; &#x2F;etc&#x2F;apt&#x2F;sources.list</p>
<p>RUN apt-get update &amp;&amp; <br>    apt-get install -y build-essential &amp;&amp; <br>    apt-get install -y libtool &amp;&amp; <br>    apt-get install -y libpcre3 libpcre3-dev &amp;&amp; <br>    apt-get install -y zlib1g-dev &amp;&amp; <br>    apt-get install -y openssl &amp;&amp; <br>    apt-get install libssl-dev &amp;&amp; <br>    apt-get install -y wget &amp;&amp; <br>    apt-get install -y git</p>
<p>RUN export GIT_SSL_NO_VERIFY&#x3D;1 &amp;&amp; <br>    git clone <a target="_blank" rel="noopener" href="https://github.com/masterzen/nginx-upload-progress-module.git">https://github.com/masterzen/nginx-upload-progress-module.git</a> &amp;&amp; <br>    git clone <a target="_blank" rel="noopener" href="https://github.com/fdintino/nginx-upload-module.git">https://github.com/fdintino/nginx-upload-module.git</a> &amp;&amp; <br>    wget –no-check-certificate <a target="_blank" rel="noopener" href="http://nginx.org/download/nginx-1.17.3.tar.gz">http://nginx.org/download/nginx-1.17.3.tar.gz</a> &amp;&amp; <br>    tar -zxvf nginx-1.17.3.tar.gz &amp;&amp; <br>    cd nginx-1.17.3 &amp;&amp; <br>    .&#x2F;configure –add-module&#x3D;..&#x2F;nginx-upload-module&#x2F; –add-module&#x3D;..&#x2F;nginx-upload-progress-module&#x2F; –prefix&#x3D;&#x2F;etc&#x2F;nginx –sbin-path&#x3D;&#x2F;usr&#x2F;sbin&#x2F;nginx –modules-path&#x3D;&#x2F;usr&#x2F;lib&#x2F;nginx&#x2F;modules –conf-path&#x3D;&#x2F;etc&#x2F;nginx&#x2F;nginx.conf –error-log-path&#x3D;&#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log –http-log-path&#x3D;&#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log –pid-path&#x3D;&#x2F;var&#x2F;run&#x2F;nginx.pid –lock-path&#x3D;&#x2F;var&#x2F;run&#x2F;nginx.lock –http-client-body-temp-path&#x3D;&#x2F;var&#x2F;cache&#x2F;nginx&#x2F;client_temp –http-proxy-temp-path&#x3D;&#x2F;var&#x2F;cache&#x2F;nginx&#x2F;proxy_temp –http-fastcgi-temp-path&#x3D;&#x2F;var&#x2F;cache&#x2F;nginx&#x2F;fastcgi_temp –http-uwsgi-temp-path&#x3D;&#x2F;var&#x2F;cache&#x2F;nginx&#x2F;uwsgi_temp –http-scgi-temp-path&#x3D;&#x2F;var&#x2F;cache&#x2F;nginx&#x2F;scgi_temp –user&#x3D;nginx –group&#x3D;nginx –with-compat –with-file-aio –with-threads –with-http_addition_module –with-http_auth_request_module –with-http_dav_module –with-http_flv_module –with-http_gunzip_module –with-http_gzip_static_module –with-http_mp4_module –with-http_random_index_module –with-http_realip_module –with-http_secure_link_module –with-http_slice_module –with-http_ssl_module –with-http_stub_status_module –with-http_sub_module –with-http_v2_module –with-mail –with-mail_ssl_module –with-stream –with-stream_realip_module –with-stream_ssl_module –with-stream_ssl_preread_module –with-cc-opt&#x3D;’-g -O2 -fdebug-prefix-map&#x3D;&#x2F;tmp&#x2F;tmp.UI0oSlj34i&#x2F;nginx-1.17.10&#x3D;. -fstack-protector-strong -Wformat -Werror&#x3D;format-security -Wp,-D_FORTIFY_SOURCE&#x3D;2 -fPIC’ –with-ld-opt&#x3D;’-Wl,-z,relro -Wl,-z,now -Wl,–as-needed -pie’ &amp;&amp; <br>    make &amp;&amp; make install &amp;&amp; ln -s &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx &#x2F;usr&#x2F;bin&#x2F;nginx &amp;&amp; <br>    mkdir -pv &#x2F;var&#x2F;cache&#x2F;nginx&#x2F;client_temp  &amp;&amp; <br>    cd ..</p>
<p>#RUN rm &#x2F;etc&#x2F;apt&#x2F;apt.conf.d&#x2F;80proxy &#x2F;etc&#x2F;apt&#x2F;sources.list &amp;&amp; \</p>
<h1 id="rm-nginx-1-17-3-tar-gz-amp-amp"><a href="#rm-nginx-1-17-3-tar-gz-amp-amp" class="headerlink" title="rm nginx-1.17.3.tar.gz &amp;&amp; \"></a>rm nginx-1.17.3.tar.gz &amp;&amp; \</h1><h1 id="rm-rf-nginx-1-17-3-nginx-upload-module-nginx-upload-progress-module"><a href="#rm-rf-nginx-1-17-3-nginx-upload-module-nginx-upload-progress-module" class="headerlink" title="rm -rf nginx-1.17.3 nginx-upload-module nginx-upload-progress-module"></a>rm -rf nginx-1.17.3 nginx-upload-module nginx-upload-progress-module</h1><p>#(可选Part5)如在Part1中配置了代理，需要取消下面两行注释取消对应代理配置。<br>#ENV http_proxy “”<br>#ENV https_proxy “”</p>
<p>#(可选Part6)如在Part2中配置了代理，需要取消下面一行注释取消对应代理配置。<br>#RUN echo “” &gt; &#x2F;etc&#x2F;apt&#x2F;apt.conf.d&#x2F;80proxy</p>
<p>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;nginx# docker build -t nginx-upload:v1 .</p>
<p>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;nginx# docker images | grep ng<br>nginx-upload                          v1                  15bbdc3677d7        4 minutes ago       372MB</p>
<p>&#96;&#96;&#96;shell</p>
<p>四、安装前端所需工具，并编译前端代码  </p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# curl -o- <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh">https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh</a> | bash<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# nvm install node<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# apt install -y npm<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# apt install -y node<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# wget -qO- <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/creationix/nvm/v0.33.6/install.sh">https://raw.githubusercontent.com/creationix/nvm/v0.33.6/install.sh</a> | bash<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# nvm install node<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# npm config set registry <a target="_blank" rel="noopener" href="http://r.cnpmjs.org/">http://r.cnpmjs.org/</a>;<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# npm install –global vue-cli;<br>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;src&#x2F;webgui# npm install webpack -g;</p>
<p>&#96;&#96;&#96;shell</p>
<p>五、修改TJM配置文件</p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls# vim tjm.yaml<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls#<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls#<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls#<br>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls# cat tjm.yaml<br>apiVersion: apps&#x2F;v1<br>kind: Deployment<br>metadata:<br>  name: tjm<br>  namespace: default<br>  labels:<br>    app: tjm<br>spec:<br>  replicas: 1<br>  selector:<br>    matchLabels:<br>      app: tjm<br>  template:<br>    metadata:<br>      labels:<br>        app: tjm<br>    spec:<br>      nodeSelector:<br>        masterselector: dls-master-node<br>      containers:<br>        - image: tjm:v0.0.1<br>          name: tjm-core<br>          imagePullPolicy: IfNotPresent<br>          command:<br>            - “&#x2F;bin&#x2F;bash”<br>            - “-c”<br>            - “&#x2F;bin&#x2F;bash &#x2F;tjm&#x2F;start.sh”<br>          env:<br>            # The following env variables set up basic auth twith the default admin user and admin password.<br>            - name: NFS_IP<br>              value: 192.168.1.99<br>            - name: NFS_ROOT_DIR<br>              value: “&#x2F;data&#x2F;atlas_dls”<br>            - name: INCLUSTER_FLAG<br>              value: “TRUE”<br>            - name: SERVICE_DOMAIN_NAME<br>              value: 192.168.1.99<br>            - name: CONTAINER_ROOT_DIR<br>              value: “&#x2F;datanfs”<br>            - name: TENSORBOARD_IMAGE<br>              value: “tensorboard:latest”<br>            - name: TENSORBOARD_CPU<br>              value: “190”<br>            - name: TENSORBOARD_MEMORY<br>              value: “200Mi”<br>            - name: MINDINSIGHT_IMAGE<br>              value: “mindinsight:latest”<br>            - name: MINDINSIGHT_CPU<br>              value: “190”<br>            - name: MINDINSIGHT_MEMORY<br>              value: “2048Mi”<br>            - name: TIMEZONE<br>              value: “8”<br>          volumeMounts:<br>            - name: dls-data<br>              mountPath: &#x2F;datanfs<br>            - name: localtime<br>              mountPath: &#x2F;etc&#x2F;localtime<br>            - name: dls-log<br>              mountPath: &#x2F;var&#x2F;log&#x2F;atlas_dls&#x2F;tjm<br>          resources:<br>            requests:<br>              cpu: “500m”<br>              memory: “100Mi”<br>            limits:<br>              cpu: “5000m”<br>              memory: “50000Mi”<br>      volumes:<br>        - name: dls-data<br>          nfs:<br>            server: 192.168.1.99<br>            path: &#x2F;data&#x2F;atlas_dls<br>        - name: localtime<br>          hostPath:<br>            path: &#x2F;etc&#x2F;localtime<br>        - name: dls-log<br>          hostPath:<br>            path: &#x2F;var&#x2F;log&#x2F;atlas_dls&#x2F;tjm</p>
<hr>
<p>kind: Service<br>apiVersion: v1<br>metadata:<br>  labels:<br>    app: tjm<br>  name: tjm<br>  namespace: default<br>spec:<br>  ports:<br>    - port: 5003<br>      targetPort: 5003<br>  selector:<br>    app: tjm<br>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls# </p>
<p>tjm.yaml</p>
<p>修改env字段中以下参数配置：</p>
<ul>
<li>name: TENSORBOARD_IMAGE<br>value: “tensorboard:latest”  #Tensorboard镜像名和版本。</li>
<li>name: TENSORBOARD_CPU<br>value: “1”  #Tensorboard任务运行所需CPU，建议≥1。</li>
<li>name: TENSORBOARD_MEMORY<br>value: “200Mi”  #Tensorboard任务运行所需内存，建议≥100Mi。</li>
<li>name: MINDINSIGHT_IMAGE<br>value: “mindinsight:latest”  #Mindinsight镜像名和版本。</li>
<li>name: MINDINSIGHT_CPU<br>value: “4”  #Mindinsight任务运行所需CPU，建议≥4。</li>
<li>name: MINDINSIGHT_MEMORY<br>value: “2048Mi”  #Mindinsight任务运行所需内存，建议≥2048Mi。</li>
<li>name: TIMEZONE<br>value: “8”   #默认为8（东八区），根据实际配置时区。</li>
</ul>
<p>&#96;&#96;&#96;shell</p>
<p>六、修改MMS配置文件  </p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls# vim mms.yaml<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls# cat mms.yaml<br>apiVersion: apps&#x2F;v1<br>kind: Deployment<br>metadata:<br>  name: dls-mms-deploy<br>  namespace: default<br>spec:<br>  replicas: 1<br>  selector:<br>    matchLabels:<br>      app: dls-mms<br>  template:<br>    metadata:<br>      labels:<br>        app: dls-mms<br>    spec:<br>      nodeSelector:<br>        masterselector: dls-master-node<br>      containers:<br>        - name: dls-mms<br>          image: mms:v0.0.1<br>          imagePullPolicy: IfNotPresent<br>          command: [ “&#x2F;bin&#x2F;bash”, “-c”, “–” ]<br>          args: [ “chmod 550 &#x2F;data&#x2F;mms&#x2F;start.sh;&#x2F;data&#x2F;mms&#x2F;start.sh” ]<br>          ports:<br>            - containerPort: 5000<br>          env:<br>            - name: NFS_IP<br>              value: 192.168.1.99<br>            - name: NFS_ROOT_DIR<br>              value: “&#x2F;data&#x2F;atlas_dls”<br>            - name: INCLUSTER_FLAG<br>              value: “TRUE”<br>            - name: CONTAINER_ROOT_DIR<br>              value: “&#x2F;datanfs”<br>            - name: MODEL_CONVERT_IMAGE<br>              value: “tf-c73:b033-with-atc”<br>          volumeMounts:<br>            - name: dls-data<br>              mountPath: &#x2F;datanfs<br>            - name: dls-log<br>              mountPath: &#x2F;var&#x2F;log&#x2F;atlas_dls&#x2F;mms<br>            - name: localtime<br>              mountPath: &#x2F;etc&#x2F;localtime<br>          resources:<br>            requests:<br>              cpu: “500m”<br>              memory: “100Mi”<br>            limits:<br>              cpu: “5000m”<br>              memory: “50000Mi”</p>
<pre><code>  volumes:
    - name: dls-data
      nfs:
        server: 192.168.1.99
        path: &quot;/data/atlas_dls&quot;
    - name: dls-log
      hostPath:
        path: /var/log/atlas_dls/mms
    - name: localtime
      hostPath:
        path: /etc/localtime
</code></pre>
<hr>
<p>apiVersion: v1<br>kind: Service<br>metadata:<br>  name: dls-mms<br>  namespace: default<br>  labels:<br>    app: atlas-dls<br>spec:<br>  ports:<br>    - name: dls-mms<br>      port: 5002<br>      protocol: TCP<br>      targetPort: 5002<br>  selector:<br>    app:  dls-mms<br>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;yamls# </p>
<p>mms.yaml</p>
<p>修改env字段中以下参数配置：</p>
<ul>
<li>name: MODEL_CONVERT_IMAGE<br>value: “tf-c73:b033-with-atc”  #模型转换镜像名<br>&#96;&#96;&#96;shell</li>
</ul>
<p>七、自动化安装，SHELL回显略</p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;playbooks# ansible-playbook deploy.yaml</p>
<p>&#96;&#96;&#96;shell</p>
<p>八、拉去训练镜像  </p>
<p><a target="_blank" rel="noopener" href="https://ascendhub.huawei.com/#/index">https://ascendhub.huawei.com/#/index</a></p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;playbooks# docker login -u 15648907522 -p tDYqC45NFQ2VVb1Wk48C0AK4PC02SBjBpoUDOjo7oqIpdjBSaPzZyR112lzbzBWve ascendhub.huawei.com<br>WARNING! Using –password via the CLI is insecure. Use –password-stdin.<br>WARNING! Your password will be stored unencrypted in &#x2F;root&#x2F;.docker&#x2F;config.json.<br>Configure a credential helper to remove this warning. See<br><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/commandline/login/#credentials-store">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</a></p>
<p>Login Succeeded<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;playbooks# docker pull ascendhub.huawei.com&#x2F;public-ascendhub&#x2F;ascend-mindspore-arm:21.0.1.spc001<br>21.0.1.spc001: Pulling from public-ascendhub&#x2F;ascend-mindspore-arm<br>fda1cca7a3cc: Already exists<br>11c90fde7ae4: Pull complete<br>7253b5e27781: Pull complete<br>bbd60ae31b0e: Pull complete<br>5ff0775b62ee: Pull complete<br>4bd7bd3ffee1: Pull complete<br>8f7e244558aa: Pull complete<br>2782e4575e5b: Pull complete<br>6082e54e59ee: Pull complete<br>bd1b2e5f115e: Pull complete<br>53142cd42310: Pull complete<br>d746749ab006: Pull complete<br>691a8a68558b: Pull complete<br>ecbb81572dc3: Pull complete<br>65d85230814c: Pull complete<br>Digest: sha256:29069b29542554d5ac8f79c2be3ba78ace77751546bfad24b480acf782e39fa7<br>Status: Downloaded newer image for ascendhub.huawei.com&#x2F;public-ascendhub&#x2F;ascend-mindspore-arm:21.0.1.spc001<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;playbooks# docker pull ascendhub.huawei.com&#x2F;public-ascendhub&#x2F;ascend-tensorflow-arm:21.0.1<br>21.0.1: Pulling from public-ascendhub&#x2F;ascend-tensorflow-arm<br>04da93b342eb: Pull complete<br>b235194751de: Pull complete<br>606a67bb8db9: Pull complete<br>4af9b0a6671e: Pull complete<br>aa86c517c858: Pull complete<br>7d232de65c7f: Pull complete<br>396a8ab7f029: Pull complete<br>bc0d0369a1f9: Pull complete<br>86f265d63edf: Pull complete<br>0cef5083e917: Pull complete<br>360419151a16: Pull complete<br>06436a96fc81: Pull complete<br>13611bc87943: Pull complete<br>2127513261ef: Pull complete<br>Digest: sha256:0e6fac7ec1cb09bb57bbd076d6b6054f44f91afe6dfadfca2270a51ba2fc53e0<br>Status: Downloaded newer image for ascendhub.huawei.com&#x2F;public-ascendhub&#x2F;ascend-tensorflow-arm:21.0.1<br>root@ubuntu:<del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;playbooks# docker pull ascendhub.huawei.com&#x2F;public-ascendhub&#x2F;ascend-pytorch-arm:21.0.1<br>21.0.1: Pulling from public-ascendhub&#x2F;ascend-pytorch-arm<br>04da93b342eb: Already exists<br>b235194751de: Already exists<br>606a67bb8db9: Already exists<br>e93c757bff45: Pull complete<br>3cf04b2262e0: Pull complete<br>b747b6b075df: Pull complete<br>9d1ca426ec5d: Pull complete<br>6709e46dffeb: Pull complete<br>c9a5fa495f7c: Pull complete<br>88232903df71: Pull complete<br>ef57b6fb083b: Pull complete<br>ea40e63aedc6: Pull complete<br>fb00b3f33bf9: Pull complete<br>7fa0e069227a: Pull complete<br>c875eb36de84: Pull complete<br>Digest: sha256:57f724d4b938753102d09d0ffbab5b0c0697cf3e37b1e8ac948bb8a8df356958<br>Status: Downloaded newer image for ascendhub.huawei.com&#x2F;public-ascendhub&#x2F;ascend-pytorch-arm:21.0.1<br>root@ubuntu:</del>&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;playbooks#<br>root@ubuntu:~&#x2F;123&#x2F;mindxdl-sample-20210715-V2.0.2&#x2F;deploy&#x2F;playbooks#</p>
<p>&#96;&#96;&#96;shell</p>
<p>九、构建jupyter-notebook镜像  </p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:<del>&#x2F;123# mkdir jupyter-notebook<br>root@ubuntu:</del>&#x2F;123#<br>root@ubuntu:<del>&#x2F;123# cd jupyter-notebook&#x2F;<br>root@ubuntu:</del>&#x2F;123&#x2F;jupyter-notebook# ls<br>root@ubuntu:<del>&#x2F;123&#x2F;jupyter-notebook#<br>root@ubuntu:</del>&#x2F;123&#x2F;jupyter-notebook#<br>root@ubuntu:<del>&#x2F;123&#x2F;jupyter-notebook# vi Dockerfile<br>root@ubuntu:</del>&#x2F;123&#x2F;jupyter-notebook#<br>root@ubuntu:<del>&#x2F;123&#x2F;jupyter-notebook#<br>root@ubuntu:</del>&#x2F;123&#x2F;jupyter-notebook# docker build -t notebook .^C<br>root@ubuntu:<del>&#x2F;123&#x2F;jupyter-notebook#<br>root@ubuntu:</del>&#x2F;123&#x2F;jupyter-notebook#<br>root@ubuntu:<del>&#x2F;123&#x2F;jupyter-notebook#<br>root@ubuntu:</del>&#x2F;123&#x2F;jupyter-notebook# cat Dockerfile<br>From python:3.7.5</p>
<h1 id="————————-Optional-Configure-the-proxy-and-source-———————–"><a href="#————————-Optional-Configure-the-proxy-and-source-———————–" class="headerlink" title="————————-(Optional) Configure the proxy and source.———————–"></a>————————-(Optional) Configure the proxy and source.———————–</h1><p>#ENV http_proxy http:&#x2F;&#x2F;<user>:<password>@ip:port<br>#ENV https_proxy http:&#x2F;&#x2F;<user>:<password>@ip:port<br>#ENV ftp_proxy ftp:&#x2F;&#x2F;<user>:<password>@ip:port</p>
<p>RUN mkdir -p ~&#x2F;.pip <br>&amp;&amp; echo ‘[global] \n\<br>index-url&#x3D;<a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple//n/">https://pypi.doubanio.com/simple/\n\</a><br>trusted-host&#x3D;pypi.doubanio.com’ &gt;&gt; ~&#x2F;.pip&#x2F;pip.conf </p>
<p>RUN pip install jupyter <br>&amp;&amp; jupyter notebook –generate-config \<br>&amp;&amp; echo “c.NotebookApp.ip&#x3D;’0.0.0.0’ \n<br>c.NotebookApp.open_browser &#x3D; False \n<br>c.NotebookApp.token &#x3D; ‘’ \n<br>c.NotebookApp.port &#x3D;8888” &gt;&gt; ~&#x2F;.jupyter&#x2F;jupyter_notebook_config.py</p>
<p>RUN apt-get update <br>&amp;&amp; apt-get install -y openssh-server</p>
<p>RUN sed -ri ‘s&#x2F;UsePAM yes&#x2F;#UsePAM yes&#x2F;g’ &#x2F;etc&#x2F;ssh&#x2F;sshd_config <br>&amp;&amp; sed -ri ‘s&#x2F;^#?PermitRootLogin\s+.*&#x2F;PermitRootLogin yes&#x2F;‘ &#x2F;etc&#x2F;ssh&#x2F;sshd_config </p>
<p>ENV http_proxy ‘’<br>ENV https_proxy ‘’<br>ENV ftp_proxy ‘’</p>
<p>RUN useradd -d &#x2F;home&#x2F;hwMindX -u 9000 -m -s &#x2F;bin&#x2F;bash hwMindX &amp;&amp; <br>    useradd -d &#x2F;home&#x2F;HwHiAiUser -u 1000 -m -s &#x2F;bin&#x2F;bash HwHiAiUser &amp;&amp; <br>    usermod -a -G HwHiAiUser hwMindX</p>
<p>RUN echo root:123123 | chpasswd </p>
<p>USER hwMindX</p>
<p>ENTRYPOINT jupyter notebook –allow-root</p>
<p>root@ubuntu:<del>&#x2F;123&#x2F;jupyter-notebook# docker build -t notebook .<br>Sending build context to Docker daemon  3.072kB<br>Step 1&#x2F;12 : From python:3.7.5<br> —&gt; a4356c370cda<br>Step 2&#x2F;12 : RUN mkdir -p ~&#x2F;.pip &amp;&amp; echo ‘[global] \nindex-url&#x3D;<a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple//ntrusted-host=pypi.doubanio.com&#39;">https://pypi.doubanio.com/simple/\ntrusted-host=pypi.doubanio.com&#39;</a> &gt;&gt; ~&#x2F;.pip&#x2F;pip.conf<br> —&gt; Running in 841fef0bfec2<br>Removing intermediate container 841fef0bfec2<br> —&gt; 2e9619b95f3c<br>Step 3&#x2F;12 : RUN pip install jupyter &amp;&amp; jupyter notebook –generate-config &amp;&amp; echo “c.NotebookApp.ip&#x3D;’0.0.0.0’ \nc.NotebookApp.open_browser &#x3D; False \nc.NotebookApp.token &#x3D; ‘’ \nc.NotebookApp.port &#x3D;8888” &gt;&gt; ~&#x2F;.jupyter&#x2F;jupyter_notebook_config.py<br> —&gt; Running in e8a384542bf2<br>Looking in indexes: <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple/">https://pypi.doubanio.com/simple/</a><br>Collecting jupyter<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/83/df/0f5dd132200728a86190397e1ea87cd76244e42d39ec5e88efd25b2abd7e/jupyter-1.0.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/83/df/0f5dd132200728a86190397e1ea87cd76244e42d39ec5e88efd25b2abd7e/jupyter-1.0.0-py2.py3-none-any.whl</a><br>Collecting nbconvert<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/fd/12/7b225ea00a5fe32df30b2c303dcc8c21c8db533ea7c0e38b4ac5a41bd8f0/nbconvert-6.1.0-py3-none-any.whl">https://pypi.doubanio.com/packages/fd/12/7b225ea00a5fe32df30b2c303dcc8c21c8db533ea7c0e38b4ac5a41bd8f0/nbconvert-6.1.0-py3-none-any.whl</a> (551kB)<br>Collecting qtconsole<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/3a/57/c8fc1fc6fb6bc03caca20ace9cd0ac0e16cc052b51cbe3acbeeb53abcb18/qtconsole-5.1.1-py3-none-any.whl">https://pypi.doubanio.com/packages/3a/57/c8fc1fc6fb6bc03caca20ace9cd0ac0e16cc052b51cbe3acbeeb53abcb18/qtconsole-5.1.1-py3-none-any.whl</a> (119kB)<br>Collecting ipykernel<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/d4/9a/59010716573b2aae10ccf88ea275c9a50943a7f8d4a123ad3c6f385a6c94/ipykernel-6.2.0-py3-none-any.whl">https://pypi.doubanio.com/packages/d4/9a/59010716573b2aae10ccf88ea275c9a50943a7f8d4a123ad3c6f385a6c94/ipykernel-6.2.0-py3-none-any.whl</a> (122kB)<br>Collecting ipywidgets<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/11/53/084940a83a8158364e630a664a30b03068c25ab75243224d6b488800d43a/ipywidgets-7.6.3-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/11/53/084940a83a8158364e630a664a30b03068c25ab75243224d6b488800d43a/ipywidgets-7.6.3-py2.py3-none-any.whl</a> (121kB)<br>Collecting notebook<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/3c/0e/9883ebfa204c7328fab473e04bda8066b00960fadc6698972afa62ddf0ce/notebook-6.4.3-py3-none-any.whl">https://pypi.doubanio.com/packages/3c/0e/9883ebfa204c7328fab473e04bda8066b00960fadc6698972afa62ddf0ce/notebook-6.4.3-py3-none-any.whl</a> (9.9MB)<br>Collecting jupyter-console<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/59/cd/aa2670ffc99eb3e5bbe2294c71e4bf46a9804af4f378d09d7a8950996c9b/jupyter_console-6.4.0-py3-none-any.whl">https://pypi.doubanio.com/packages/59/cd/aa2670ffc99eb3e5bbe2294c71e4bf46a9804af4f378d09d7a8950996c9b/jupyter_console-6.4.0-py3-none-any.whl</a><br>Collecting nbformat&gt;&#x3D;4.4<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/e7/c7/dd50978c637a7af8234909277c4e7ec1b71310c13fb3135f3c8f5b6e045f/nbformat-5.1.3-py3-none-any.whl">https://pypi.doubanio.com/packages/e7/c7/dd50978c637a7af8234909277c4e7ec1b71310c13fb3135f3c8f5b6e045f/nbformat-5.1.3-py3-none-any.whl</a> (178kB)<br>Collecting testpath<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/ac/87/5422f6d056bfbded920ccf380a65de3713a3b95a95ba2255be2a3fb4f464/testpath-0.5.0-py3-none-any.whl">https://pypi.doubanio.com/packages/ac/87/5422f6d056bfbded920ccf380a65de3713a3b95a95ba2255be2a3fb4f464/testpath-0.5.0-py3-none-any.whl</a> (84kB)<br>Collecting traitlets&gt;&#x3D;5.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/f6/7d/3ecb0ebd0ce8dcdfa7bd47ab85c1d4a521e6770ef283d0824f5804994dfe/traitlets-5.0.5-py3-none-any.whl">https://pypi.doubanio.com/packages/f6/7d/3ecb0ebd0ce8dcdfa7bd47ab85c1d4a521e6770ef283d0824f5804994dfe/traitlets-5.0.5-py3-none-any.whl</a> (100kB)<br>Collecting mistune&lt;2,&gt;&#x3D;0.8.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/09/ec/4b43dae793655b7d8a25f76119624350b4d65eb663459eb9603d7f1f0345/mistune-0.8.4-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/09/ec/4b43dae793655b7d8a25f76119624350b4d65eb663459eb9603d7f1f0345/mistune-0.8.4-py2.py3-none-any.whl</a><br>Collecting defusedxml<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/07/6c/aa3f2f849e01cb6a001cd8554a88d4c77c5c1a31c95bdf1cf9301e6d9ef4/defusedxml-0.7.1-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/07/6c/aa3f2f849e01cb6a001cd8554a88d4c77c5c1a31c95bdf1cf9301e6d9ef4/defusedxml-0.7.1-py2.py3-none-any.whl</a><br>Collecting bleach<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/b6/23/d06c0bddcef0df58dd2c9ac02f8639533a6671bed0ef3e236888bb3b0a3c/bleach-4.0.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/b6/23/d06c0bddcef0df58dd2c9ac02f8639533a6671bed0ef3e236888bb3b0a3c/bleach-4.0.0-py2.py3-none-any.whl</a> (146kB)<br>Collecting pandocfilters&gt;&#x3D;1.4.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/28/78/bd59a9adb72fa139b1c9c186e6f65aebee52375a747e4b6a6dcf0880956f/pandocfilters-1.4.3.tar.gz">https://pypi.doubanio.com/packages/28/78/bd59a9adb72fa139b1c9c186e6f65aebee52375a747e4b6a6dcf0880956f/pandocfilters-1.4.3.tar.gz</a><br>Collecting entrypoints&gt;&#x3D;0.2.2<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/ac/c6/44694103f8c221443ee6b0041f69e2740d89a25641e62fb4f2ee568f2f9c/entrypoints-0.3-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/ac/c6/44694103f8c221443ee6b0041f69e2740d89a25641e62fb4f2ee568f2f9c/entrypoints-0.3-py2.py3-none-any.whl</a><br>Collecting jupyter-core<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/53/40/5af36bffa0af3ac71d3a6fc6709de10e4f6ff7c01745b8bc4715372189c9/jupyter_core-4.7.1-py3-none-any.whl">https://pypi.doubanio.com/packages/53/40/5af36bffa0af3ac71d3a6fc6709de10e4f6ff7c01745b8bc4715372189c9/jupyter_core-4.7.1-py3-none-any.whl</a> (82kB)<br>Collecting pygments&gt;&#x3D;2.4.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/78/c8/8d9be2f72d8f465461f22b5f199c04f7ada933add4dae6e2468133c17471/Pygments-2.10.0-py3-none-any.whl">https://pypi.doubanio.com/packages/78/c8/8d9be2f72d8f465461f22b5f199c04f7ada933add4dae6e2468133c17471/Pygments-2.10.0-py3-none-any.whl</a> (1.0MB)<br>Collecting jupyterlab-pygments<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/a8/6f/c34288766797193b512c6508f5994b830fb06134fdc4ca8214daba0aa443/jupyterlab_pygments-0.1.2-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/a8/6f/c34288766797193b512c6508f5994b830fb06134fdc4ca8214daba0aa443/jupyterlab_pygments-0.1.2-py2.py3-none-any.whl</a><br>Collecting nbclient&lt;0.6.0,&gt;&#x3D;0.5.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/a7/ed/b764fa931614cb7ed9bebbc42532daecef405d6bef660eeda882f6c23b98/nbclient-0.5.4-py3-none-any.whl">https://pypi.doubanio.com/packages/a7/ed/b764fa931614cb7ed9bebbc42532daecef405d6bef660eeda882f6c23b98/nbclient-0.5.4-py3-none-any.whl</a> (66kB)<br>Collecting jinja2&gt;&#x3D;2.4<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/80/21/ae597efc7ed8caaa43fb35062288baaf99a7d43ff0cf66452ddf47604ee6/Jinja2-3.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/80/21/ae597efc7ed8caaa43fb35062288baaf99a7d43ff0cf66452ddf47604ee6/Jinja2-3.0.1-py3-none-any.whl</a> (133kB)<br>Collecting ipython-genutils<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/fa/bc/9bd3b5c2b4774d5f33b2d544f1460be9df7df2fe42f352135381c347c69a/ipython_genutils-0.2.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/fa/bc/9bd3b5c2b4774d5f33b2d544f1460be9df7df2fe42f352135381c347c69a/ipython_genutils-0.2.0-py2.py3-none-any.whl</a><br>Collecting pyzmq&gt;&#x3D;17.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/61/48/308d03af40bf44c86ef826d942b12bdab5fbae6282e858bdff8bd55b0818/pyzmq-22.2.1-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/61/48/308d03af40bf44c86ef826d942b12bdab5fbae6282e858bdff8bd55b0818/pyzmq-22.2.1-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl</a> (1.8MB)<br>Collecting jupyter-client&gt;&#x3D;4.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/b0/21/2104133f07e34f58712c87f0feaacdd38b5baff1ddb6ab72bb4baf16fc4a/jupyter_client-7.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/b0/21/2104133f07e34f58712c87f0feaacdd38b5baff1ddb6ab72bb4baf16fc4a/jupyter_client-7.0.1-py3-none-any.whl</a> (122kB)<br>Collecting qtpy<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/21/0d/1cc56aa1df049d9f989520ee8214a6ccfd236095d56060967afdb0b8f0d8/QtPy-1.10.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/21/0d/1cc56aa1df049d9f989520ee8214a6ccfd236095d56060967afdb0b8f0d8/QtPy-1.10.0-py2.py3-none-any.whl</a> (54kB)<br>Collecting tornado&lt;7.0,&gt;&#x3D;4.2<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/27/27/95912ec1ecbd5f3cc1ce76a8d62cb63d62ebee575acf02116814d42ea5eb/tornado-6.1-cp37-cp37m-manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/27/27/95912ec1ecbd5f3cc1ce76a8d62cb63d62ebee575acf02116814d42ea5eb/tornado-6.1-cp37-cp37m-manylinux2014_aarch64.whl</a> (428kB)<br>Collecting importlib-metadata&lt;5; python_version &lt; “3.8.0”<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/c0/72/4512a88e402d4dc3bab49a845130d95ac48936ef3a9469b55cc79a60d84d/importlib_metadata-4.6.4-py3-none-any.whl">https://pypi.doubanio.com/packages/c0/72/4512a88e402d4dc3bab49a845130d95ac48936ef3a9469b55cc79a60d84d/importlib_metadata-4.6.4-py3-none-any.whl</a><br>Collecting ipython&lt;8.0,&gt;&#x3D;7.23.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/25/a0/e0b850415984ac29f14775b075efc54d73b38f0d50c6ebdea7820ffb1c12/ipython-7.26.0-py3-none-any.whl">https://pypi.doubanio.com/packages/25/a0/e0b850415984ac29f14775b075efc54d73b38f0d50c6ebdea7820ffb1c12/ipython-7.26.0-py3-none-any.whl</a> (786kB)<br>Collecting argcomplete&gt;&#x3D;1.12.3; python_version &lt; “3.8.0”<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/b7/9e/9dc74d330c07866d72f62d553fe8bdbe32786ff247a14e68b5659963e6bd/argcomplete-1.12.3-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/b7/9e/9dc74d330c07866d72f62d553fe8bdbe32786ff247a14e68b5659963e6bd/argcomplete-1.12.3-py2.py3-none-any.whl</a><br>Collecting debugpy&lt;2.0,&gt;&#x3D;1.0.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/c5/2d/876b1140b1544fe2187235ae9f52cdcd1e77d2bad641ea2aef413e882751/debugpy-1.4.1-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/c5/2d/876b1140b1544fe2187235ae9f52cdcd1e77d2bad641ea2aef413e882751/debugpy-1.4.1-py2.py3-none-any.whl</a> (4.2MB)<br>Collecting matplotlib-inline&lt;0.2.0,&gt;&#x3D;0.1.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/7f/de/6c111d687335729cf8c156394c8d119b0dc3c34b6966ff2a2f7fe4aa79cf/matplotlib_inline-0.1.2-py3-none-any.whl">https://pypi.doubanio.com/packages/7f/de/6c111d687335729cf8c156394c8d119b0dc3c34b6966ff2a2f7fe4aa79cf/matplotlib_inline-0.1.2-py3-none-any.whl</a><br>Collecting jupyterlab-widgets&gt;&#x3D;1.0.0; python_version &gt;&#x3D; “3.6”<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/18/b5/3473d275e3b2359efdf5768e9df95537308b93a31ad94fa92814ac565826/jupyterlab_widgets-1.0.0-py3-none-any.whl">https://pypi.doubanio.com/packages/18/b5/3473d275e3b2359efdf5768e9df95537308b93a31ad94fa92814ac565826/jupyterlab_widgets-1.0.0-py3-none-any.whl</a> (243kB)<br>Collecting widgetsnbextension</del>&#x3D;3.5.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/6c/7b/7ac231c20d2d33c445eaacf8a433f4e22c60677eb9776c7c5262d7ddee2d/widgetsnbextension-3.5.1-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/6c/7b/7ac231c20d2d33c445eaacf8a433f4e22c60677eb9776c7c5262d7ddee2d/widgetsnbextension-3.5.1-py2.py3-none-any.whl</a> (2.2MB)<br>Collecting argon2-cffi<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/74/fd/d78e003a79c453e8454197092fce9d1c6099445b7e7da0b04eb4fe1dbab7/argon2-cffi-20.1.0.tar.gz">https://pypi.doubanio.com/packages/74/fd/d78e003a79c453e8454197092fce9d1c6099445b7e7da0b04eb4fe1dbab7/argon2-cffi-20.1.0.tar.gz</a> (1.8MB)<br>  Installing build dependencies: started<br>  Installing build dependencies: finished with status ‘done’<br>  Getting requirements to build wheel: started<br>  Getting requirements to build wheel: finished with status ‘done’<br>    Preparing wheel metadata: started<br>    Preparing wheel metadata: finished with status ‘done’<br>Collecting terminado&gt;&#x3D;0.8.3<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/5b/a8/0c428a9a2432b611566b0309d1a50a051f4ec965ce274528c4ba6b6c0205/terminado-0.11.1-py3-none-any.whl">https://pypi.doubanio.com/packages/5b/a8/0c428a9a2432b611566b0309d1a50a051f4ec965ce274528c4ba6b6c0205/terminado-0.11.1-py3-none-any.whl</a><br>Collecting Send2Trash&gt;&#x3D;1.5.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/47/26/3435896d757335ea53dce5abf8d658ca80757a7a06258451b358f10232be/Send2Trash-1.8.0-py3-none-any.whl">https://pypi.doubanio.com/packages/47/26/3435896d757335ea53dce5abf8d658ca80757a7a06258451b358f10232be/Send2Trash-1.8.0-py3-none-any.whl</a><br>Collecting prometheus-client<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/09/da/4e8471ff825769581593b5b84769d32f58e5373b59fccaf355d3529ad530/prometheus_client-0.11.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/09/da/4e8471ff825769581593b5b84769d32f58e5373b59fccaf355d3529ad530/prometheus_client-0.11.0-py2.py3-none-any.whl</a> (56kB)<br>Collecting prompt-toolkit!&#x3D;3.0.0,!&#x3D;3.0.1,&lt;3.1.0,&gt;&#x3D;2.0.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/c6/37/ec72228971dbaf191243b8ee383c6a3834b5cde23daab066dfbfbbd5438b/prompt_toolkit-3.0.20-py3-none-any.whl">https://pypi.doubanio.com/packages/c6/37/ec72228971dbaf191243b8ee383c6a3834b5cde23daab066dfbfbbd5438b/prompt_toolkit-3.0.20-py3-none-any.whl</a> (370kB)<br>Collecting jsonschema!&#x3D;2.5.0,&gt;&#x3D;2.4<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/c5/8f/51e89ce52a085483359217bc72cdbf6e75ee595d5b1d4b5ade40c7e018b8/jsonschema-3.2.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/c5/8f/51e89ce52a085483359217bc72cdbf6e75ee595d5b1d4b5ade40c7e018b8/jsonschema-3.2.0-py2.py3-none-any.whl</a> (56kB)<br>Collecting webencodings<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/f4/24/2a3e3df732393fed8b3ebf2ec078f05546de641fe1b667ee316ec1dcf3b7/webencodings-0.5.1-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/f4/24/2a3e3df732393fed8b3ebf2ec078f05546de641fe1b667ee316ec1dcf3b7/webencodings-0.5.1-py2.py3-none-any.whl</a><br>Collecting packaging<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/3c/77/e2362b676dc5008d81be423070dd9577fa03be5da2ba1105811900fda546/packaging-21.0-py3-none-any.whl">https://pypi.doubanio.com/packages/3c/77/e2362b676dc5008d81be423070dd9577fa03be5da2ba1105811900fda546/packaging-21.0-py3-none-any.whl</a> (40kB)<br>Collecting six&gt;&#x3D;1.9.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl</a><br>Collecting nest-asyncio<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/52/e2/9b37da54e6e9094d2f558ae643d1954a0fa8215dfee4fa261f31c5439796/nest_asyncio-1.5.1-py3-none-any.whl">https://pypi.doubanio.com/packages/52/e2/9b37da54e6e9094d2f558ae643d1954a0fa8215dfee4fa261f31c5439796/nest_asyncio-1.5.1-py3-none-any.whl</a><br>Collecting MarkupSafe&gt;&#x3D;2.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/a3/01/8d5fd91ccc1a61b7a9e2803819b8b60c3bac37290bbbd3df33d8d548f9c1/MarkupSafe-2.0.1-cp37-cp37m-manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/a3/01/8d5fd91ccc1a61b7a9e2803819b8b60c3bac37290bbbd3df33d8d548f9c1/MarkupSafe-2.0.1-cp37-cp37m-manylinux2014_aarch64.whl</a><br>Collecting python-dateutil&gt;&#x3D;2.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/36/7a/87837f39d0296e723bb9b62bbb257d0355c7f6128853c78955f57342a56d/python_dateutil-2.8.2-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/36/7a/87837f39d0296e723bb9b62bbb257d0355c7f6128853c78955f57342a56d/python_dateutil-2.8.2-py2.py3-none-any.whl</a> (247kB)<br>Collecting zipp&gt;&#x3D;0.5<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/92/d9/89f433969fb8dc5b9cbdd4b4deb587720ec1aeb59a020cf15002b9593eef/zipp-3.5.0-py3-none-any.whl">https://pypi.doubanio.com/packages/92/d9/89f433969fb8dc5b9cbdd4b4deb587720ec1aeb59a020cf15002b9593eef/zipp-3.5.0-py3-none-any.whl</a><br>Collecting typing-extensions&gt;&#x3D;3.6.4; python_version &lt; “3.8”<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/2e/35/6c4fff5ab443b57116cb1aad46421fb719bed2825664e8fe77d66d99bcbc/typing_extensions-3.10.0.0-py3-none-any.whl">https://pypi.doubanio.com/packages/2e/35/6c4fff5ab443b57116cb1aad46421fb719bed2825664e8fe77d66d99bcbc/typing_extensions-3.10.0.0-py3-none-any.whl</a><br>Collecting backcall<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/4c/1c/ff6546b6c12603d8dd1070aa3c3d273ad4c07f5771689a7b69a550e8c951/backcall-0.2.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/4c/1c/ff6546b6c12603d8dd1070aa3c3d273ad4c07f5771689a7b69a550e8c951/backcall-0.2.0-py2.py3-none-any.whl</a><br>Collecting pexpect&gt;4.3; sys_platform !&#x3D; “win32”<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/39/7b/88dbb785881c28a102619d46423cb853b46dbccc70d3ac362d99773a78ce/pexpect-4.8.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/39/7b/88dbb785881c28a102619d46423cb853b46dbccc70d3ac362d99773a78ce/pexpect-4.8.0-py2.py3-none-any.whl</a> (59kB)<br>Collecting jedi&gt;&#x3D;0.16<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/f9/36/7aa67ae2663025b49e8426ead0bad983fee1b73f472536e9790655da0277/jedi-0.18.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/f9/36/7aa67ae2663025b49e8426ead0bad983fee1b73f472536e9790655da0277/jedi-0.18.0-py2.py3-none-any.whl</a> (1.4MB)<br>Requirement already satisfied: setuptools&gt;&#x3D;18.5 in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from ipython&lt;8.0,&gt;&#x3D;7.23.1-&gt;ipykernel-&gt;jupyter) (41.6.0)<br>Collecting pickleshare<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/9a/41/220f49aaea88bc6fa6cba8d05ecf24676326156c23b991e80b3f2fc24c77/pickleshare-0.7.5-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/9a/41/220f49aaea88bc6fa6cba8d05ecf24676326156c23b991e80b3f2fc24c77/pickleshare-0.7.5-py2.py3-none-any.whl</a><br>Collecting decorator<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/6a/36/b1b9bfdf28690ae01d9ca0aa5b0d07cb4448ac65fb91dc7e2d094e3d992f/decorator-5.0.9-py3-none-any.whl">https://pypi.doubanio.com/packages/6a/36/b1b9bfdf28690ae01d9ca0aa5b0d07cb4448ac65fb91dc7e2d094e3d992f/decorator-5.0.9-py3-none-any.whl</a><br>Collecting cffi&gt;&#x3D;1.0.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/7c/d7/027b40eab051119083fa64be7f86c40fc96643c627fd5068462b88f72111/cffi-1.14.6-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/7c/d7/027b40eab051119083fa64be7f86c40fc96643c627fd5068462b88f72111/cffi-1.14.6-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl</a> (206kB)<br>Collecting ptyprocess; os_name !&#x3D; “nt”<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/22/a6/858897256d0deac81a172289110f31629fc4cee19b6f01283303e18c8db3/ptyprocess-0.7.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/22/a6/858897256d0deac81a172289110f31629fc4cee19b6f01283303e18c8db3/ptyprocess-0.7.0-py2.py3-none-any.whl</a><br>Collecting wcwidth<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/59/7c/e39aca596badaf1b78e8f547c807b04dae603a433d3e7a7e04d67f2ef3e5/wcwidth-0.2.5-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/59/7c/e39aca596badaf1b78e8f547c807b04dae603a433d3e7a7e04d67f2ef3e5/wcwidth-0.2.5-py2.py3-none-any.whl</a><br>Collecting pyrsistent&gt;&#x3D;0.14.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/f4/d7/0fa558c4fb00f15aabc6d42d365fcca7a15fcc1091cd0f5784a14f390b7f/pyrsistent-0.18.0.tar.gz">https://pypi.doubanio.com/packages/f4/d7/0fa558c4fb00f15aabc6d42d365fcca7a15fcc1091cd0f5784a14f390b7f/pyrsistent-0.18.0.tar.gz</a> (104kB)<br>  Installing build dependencies: started<br>  Installing build dependencies: finished with status ‘done’<br>  Getting requirements to build wheel: started<br>  Getting requirements to build wheel: finished with status ‘done’<br>    Preparing wheel metadata: started<br>    Preparing wheel metadata: finished with status ‘done’<br>Collecting attrs&gt;&#x3D;17.4.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/20/a9/ba6f1cd1a1517ff022b35acd6a7e4246371dfab08b8e42b829b6d07913cc/attrs-21.2.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/20/a9/ba6f1cd1a1517ff022b35acd6a7e4246371dfab08b8e42b829b6d07913cc/attrs-21.2.0-py2.py3-none-any.whl</a> (53kB)<br>Collecting pyparsing&gt;&#x3D;2.0.2<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/8a/bb/488841f56197b13700afd5658fc279a2025a39e22449b7cf29864669b15d/pyparsing-2.4.7-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/8a/bb/488841f56197b13700afd5658fc279a2025a39e22449b7cf29864669b15d/pyparsing-2.4.7-py2.py3-none-any.whl</a> (67kB)<br>Collecting parso&lt;0.9.0,&gt;&#x3D;0.8.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/a9/c4/d5476373088c120ffed82f34c74b266ccae31a68d665b837354d4d8dc8be/parso-0.8.2-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/a9/c4/d5476373088c120ffed82f34c74b266ccae31a68d665b837354d4d8dc8be/parso-0.8.2-py2.py3-none-any.whl</a> (94kB)<br>Collecting pycparser<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/ae/e7/d9c3a176ca4b02024debf82342dab36efadfc5776f9c8db077e8f6e71821/pycparser-2.20-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/ae/e7/d9c3a176ca4b02024debf82342dab36efadfc5776f9c8db077e8f6e71821/pycparser-2.20-py2.py3-none-any.whl</a> (112kB)<br>Building wheels for collected packages: argon2-cffi, pyrsistent<br>  Building wheel for argon2-cffi (PEP 517): started<br>  Building wheel for argon2-cffi (PEP 517): finished with status ‘done’<br>  Created wheel for argon2-cffi: filename&#x3D;argon2_cffi-20.1.0-cp37-abi3-linux_aarch64.whl size&#x3D;94330 sha256&#x3D;a7e904c263450da07cbc3a73891e049bab3035c37841778963599e544d3df91c<br>  Stored in directory: &#x2F;root&#x2F;.cache&#x2F;pip&#x2F;wheels&#x2F;bd&#x2F;00&#x2F;bf&#x2F;afb81816e42f4cd82890c552262451d2683fce154d72a2a7f2<br>  Building wheel for pyrsistent (PEP 517): started<br>  Building wheel for pyrsistent (PEP 517): finished with status ‘done’<br>  Created wheel for pyrsistent: filename&#x3D;pyrsistent-0.18.0-cp37-cp37m-linux_aarch64.whl size&#x3D;124391 sha256&#x3D;4aa68debe7bd18cef92085f61bcff6ca4a308e7a0c3baa6d5e9b79d011a0860b<br>  Stored in directory: &#x2F;root&#x2F;.cache&#x2F;pip&#x2F;wheels&#x2F;41&#x2F;82&#x2F;79&#x2F;02feba19913ccf53c135a504fd28677aeecf1980d76c1bfad5<br>Successfully built argon2-cffi pyrsistent<br>Building wheels for collected packages: pandocfilters<br>  Building wheel for pandocfilters (setup.py): started<br>  Building wheel for pandocfilters (setup.py): finished with status ‘done’<br>  Created wheel for pandocfilters: filename&#x3D;pandocfilters-1.4.3-cp37-none-any.whl size&#x3D;7991 sha256&#x3D;74eac0d992a7841f6066709dcd1dcabfa4fa58eb171649fbaef06b141bcd033c<br>  Stored in directory: &#x2F;root&#x2F;.cache&#x2F;pip&#x2F;wheels&#x2F;f3&#x2F;b7&#x2F;38&#x2F;9a1fac073c6eb0cc2524036dfcef319b829ce237c80c31c044<br>Successfully built pandocfilters<br>Installing collected packages: ipython-genutils, traitlets, jupyter-core, pyrsistent, six, attrs, zipp, typing-extensions, importlib-metadata, jsonschema, nbformat, testpath, mistune, defusedxml, webencodings, pyparsing, packaging, bleach, pandocfilters, entrypoints, pygments, jupyterlab-pygments, nest-asyncio, pyzmq, python-dateutil, tornado, jupyter-client, nbclient, MarkupSafe, jinja2, nbconvert, backcall, ptyprocess, pexpect, parso, jedi, matplotlib-inline, pickleshare, decorator, wcwidth, prompt-toolkit, ipython, argcomplete, debugpy, ipykernel, qtpy, qtconsole, jupyterlab-widgets, pycparser, cffi, argon2-cffi, terminado, Send2Trash, prometheus-client, notebook, widgetsnbextension, ipywidgets, jupyter-console, jupyter<br>Successfully installed MarkupSafe-2.0.1 Send2Trash-1.8.0 argcomplete-1.12.3 argon2-cffi-20.1.0 attrs-21.2.0 backcall-0.2.0 bleach-4.0.0 cffi-1.14.6 debugpy-1.4.1 decorator-5.0.9 defusedxml-0.7.1 entrypoints-0.3 importlib-metadata-4.6.4 ipykernel-6.2.0 ipython-7.26.0 ipython-genutils-0.2.0 ipywidgets-7.6.3 jedi-0.18.0 jinja2-3.0.1 jsonschema-3.2.0 jupyter-1.0.0 jupyter-client-7.0.1 jupyter-console-6.4.0 jupyter-core-4.7.1 jupyterlab-pygments-0.1.2 jupyterlab-widgets-1.0.0 matplotlib-inline-0.1.2 mistune-0.8.4 nbclient-0.5.4 nbconvert-6.1.0 nbformat-5.1.3 nest-asyncio-1.5.1 notebook-6.4.3 packaging-21.0 pandocfilters-1.4.3 parso-0.8.2 pexpect-4.8.0 pickleshare-0.7.5 prometheus-client-0.11.0 prompt-toolkit-3.0.20 ptyprocess-0.7.0 pycparser-2.20 pygments-2.10.0 pyparsing-2.4.7 pyrsistent-0.18.0 python-dateutil-2.8.2 pyzmq-22.2.1 qtconsole-5.1.1 qtpy-1.10.0 six-1.16.0 terminado-0.11.1 testpath-0.5.0 tornado-6.1 traitlets-5.0.5 typing-extensions-3.10.0.0 wcwidth-0.2.5 webencodings-0.5.1 widgetsnbextension-3.5.1 zipp-3.5.0<br>WARNING: You are using pip version 19.3.1; however, version 21.2.4 is available.<br>You should consider upgrading via the ‘pip install –upgrade pip’ command.<br>Writing default config to: &#x2F;root&#x2F;.jupyter&#x2F;jupyter_notebook_config.py<br>Removing intermediate container e8a384542bf2<br> —&gt; cc59b531125b<br>Step 4&#x2F;12 : RUN apt-get update &amp;&amp; apt-get install -y openssh-server<br> —&gt; Running in 2e945ea6c6c8<br>Get:1 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster InRelease [122 kB]<br>Get:2 <a target="_blank" rel="noopener" href="http://security.debian.org/debian-security">http://security.debian.org/debian-security</a> buster&#x2F;updates InRelease [65.4 kB]<br>Get:3 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster-updates InRelease [51.9 kB]<br>Get:4 <a target="_blank" rel="noopener" href="http://security.debian.org/debian-security">http://security.debian.org/debian-security</a> buster&#x2F;updates&#x2F;main arm64 Packages [296 kB]<br>Get:5 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 Packages [7735 kB]<br>Get:6 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster-updates&#x2F;main arm64 Packages [14.5 kB]<br>Fetched 8285 kB in 3s (2598 kB&#x2F;s)<br>Reading package lists…<br>Reading package lists…<br>Building dependency tree…<br>Reading state information…<br>The following additional packages will be installed:<br>  dbus dmsetup libapparmor1 libargon2-1 libcryptsetup12 libdbus-1-3<br>  libdevmapper1.02.1 libidn11 libip4tc0 libjson-c3 libkmod2 libnss-systemd<br>  libpam-systemd libsystemd0 libwrap0 libxmuu1 ncurses-term openssh-client<br>  openssh-sftp-server systemd systemd-sysv xauth<br>Suggested packages:<br>  default-dbus-session-bus | dbus-session-bus keychain libpam-ssh monkeysphere<br>  ssh-askpass molly-guard rssh ufw systemd-container policykit-1<br>The following NEW packages will be installed:<br>  dbus dmsetup libapparmor1 libargon2-1 libcryptsetup12 libdbus-1-3<br>  libdevmapper1.02.1 libidn11 libip4tc0 libjson-c3 libkmod2 libnss-systemd<br>  libpam-systemd libwrap0 libxmuu1 ncurses-term openssh-server<br>  openssh-sftp-server systemd systemd-sysv xauth<br>The following packages will be upgraded:<br>  libsystemd0 openssh-client<br>2 upgraded, 21 newly installed, 0 to remove and 130 not upgraded.<br>Need to get 7006 kB of archives.<br>After this operation, 23.5 MB of additional disk space will be used.<br>Get:1 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libapparmor1 arm64 2.13.2-10 [93.8 kB]<br>Get:2 <a target="_blank" rel="noopener" href="http://security.debian.org/debian-security">http://security.debian.org/debian-security</a> buster&#x2F;updates&#x2F;main arm64 libsystemd0 arm64 241-7<del>deb10u8 [314 kB]<br>Get:3 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libargon2-1 arm64 0</del>20171227-0.2 [18.9 kB]<br>Get:4 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 dmsetup arm64 2:1.02.155-3 [83.9 kB]<br>Get:5 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libdevmapper1.02.1 arm64 2:1.02.155-3 [124 kB]<br>Get:6 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libjson-c3 arm64 0.12.1+ds-2+deb10u1 [26.8 kB]<br>Get:7 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libcryptsetup12 arm64 2:2.1.0-5+deb10u2 [181 kB]<br>Get:8 <a target="_blank" rel="noopener" href="http://security.debian.org/debian-security">http://security.debian.org/debian-security</a> buster&#x2F;updates&#x2F;main arm64 systemd arm64 241-7<del>deb10u8 [3256 kB]<br>Get:9 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libidn11 arm64 1.33-2.2 [113 kB]<br>Get:10 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libip4tc0 arm64 1.8.2-4 [69.6 kB]<br>Get:11 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libkmod2 arm64 26-1 [49.4 kB]<br>Get:12 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libdbus-1-3 arm64 1.12.20-0+deb10u1 [206 kB]<br>Get:13 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 dbus arm64 1.12.20-0+deb10u1 [227 kB]<br>Get:14 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 ncurses-term all 6.1+20181013-2+deb10u2 [490 kB]<br>Get:15 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 openssh-client arm64 1:7.9p1-10+deb10u2 [757 kB]<br>Get:16 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libwrap0 arm64 7.6.q-28 [58.4 kB]<br>Get:17 <a target="_blank" rel="noopener" href="http://security.debian.org/debian-security">http://security.debian.org/debian-security</a> buster&#x2F;updates&#x2F;main arm64 systemd-sysv arm64 241-7</del>deb10u8 [100 kB]<br>Get:18 <a target="_blank" rel="noopener" href="http://security.debian.org/debian-security">http://security.debian.org/debian-security</a> buster&#x2F;updates&#x2F;main arm64 libpam-systemd arm64 241-7<del>deb10u8 [201 kB]<br>Get:19 <a target="_blank" rel="noopener" href="http://security.debian.org/debian-security">http://security.debian.org/debian-security</a> buster&#x2F;updates&#x2F;main arm64 libnss-systemd arm64 241-7</del>deb10u8 [197 kB]<br>Get:20 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 libxmuu1 arm64 2:1.1.2-2+b3 [24.1 kB]<br>Get:21 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 openssh-sftp-server arm64 1:7.9p1-10+deb10u2 [42.8 kB]<br>Get:22 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 openssh-server arm64 1:7.9p1-10+deb10u2 [334 kB]<br>Get:23 <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster&#x2F;main arm64 xauth arm64 1:1.0.10-1 [38.2 kB]<br>debconf: delaying package configuration, since apt-utils is not installed<br>Fetched 7006 kB in 1s (6820 kB&#x2F;s)<br>(Reading database … 24499 files and directories currently installed.)<br>Preparing to unpack …&#x2F;libsystemd0_241-7<del>deb10u8_arm64.deb …<br>Unpacking libsystemd0:arm64 (241-7</del>deb10u8) over (241-7<del>deb10u2) …<br>Setting up libsystemd0:arm64 (241-7</del>deb10u8) …<br>Selecting previously unselected package libapparmor1:arm64.<br>(Reading database … 24499 files and directories currently installed.)<br>Preparing to unpack …&#x2F;0-libapparmor1_2.13.2-10_arm64.deb …<br>Unpacking libapparmor1:arm64 (2.13.2-10) …<br>Selecting previously unselected package libargon2-1:arm64.<br>Preparing to unpack …&#x2F;1-libargon2-1_0<del>20171227-0.2_arm64.deb …<br>Unpacking libargon2-1:arm64 (0</del>20171227-0.2) …<br>Selecting previously unselected package dmsetup.<br>Preparing to unpack …&#x2F;2-dmsetup_2%3a1.02.155-3_arm64.deb …<br>Unpacking dmsetup (2:1.02.155-3) …<br>Selecting previously unselected package libdevmapper1.02.1:arm64.<br>Preparing to unpack …&#x2F;3-libdevmapper1.02.1_2%3a1.02.155-3_arm64.deb …<br>Unpacking libdevmapper1.02.1:arm64 (2:1.02.155-3) …<br>Selecting previously unselected package libjson-c3:arm64.<br>Preparing to unpack …&#x2F;4-libjson-c3_0.12.1+ds-2+deb10u1_arm64.deb …<br>Unpacking libjson-c3:arm64 (0.12.1+ds-2+deb10u1) …<br>Selecting previously unselected package libcryptsetup12:arm64.<br>Preparing to unpack …&#x2F;5-libcryptsetup12_2%3a2.1.0-5+deb10u2_arm64.deb …<br>Unpacking libcryptsetup12:arm64 (2:2.1.0-5+deb10u2) …<br>Selecting previously unselected package libidn11:arm64.<br>Preparing to unpack …&#x2F;6-libidn11_1.33-2.2_arm64.deb …<br>Unpacking libidn11:arm64 (1.33-2.2) …<br>Selecting previously unselected package libip4tc0:arm64.<br>Preparing to unpack …&#x2F;7-libip4tc0_1.8.2-4_arm64.deb …<br>Unpacking libip4tc0:arm64 (1.8.2-4) …<br>Selecting previously unselected package libkmod2:arm64.<br>Preparing to unpack …&#x2F;8-libkmod2_26-1_arm64.deb …<br>Unpacking libkmod2:arm64 (26-1) …<br>Selecting previously unselected package systemd.<br>Preparing to unpack …&#x2F;9-systemd_241-7<del>deb10u8_arm64.deb …<br>Unpacking systemd (241-7</del>deb10u8) …<br>Setting up libapparmor1:arm64 (2.13.2-10) …<br>Setting up libargon2-1:arm64 (0<del>20171227-0.2) …<br>Setting up libjson-c3:arm64 (0.12.1+ds-2+deb10u1) …<br>Setting up libidn11:arm64 (1.33-2.2) …<br>Setting up libip4tc0:arm64 (1.8.2-4) …<br>Setting up libkmod2:arm64 (26-1) …<br>Setting up libdevmapper1.02.1:arm64 (2:1.02.155-3) …<br>Setting up libcryptsetup12:arm64 (2:2.1.0-5+deb10u2) …<br>Setting up systemd (241-7</del>deb10u8) …<br>Created symlink &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;getty.target.wants&#x2F;<a href="mailto:&#103;&#x65;&#x74;&#116;&#x79;&#64;&#x74;&#116;&#x79;&#49;&#x2e;&#x73;&#x65;&#x72;&#x76;&#105;&#x63;&#101;">&#103;&#x65;&#x74;&#116;&#x79;&#64;&#x74;&#116;&#x79;&#49;&#x2e;&#x73;&#x65;&#x72;&#x76;&#105;&#x63;&#101;</a> → &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;getty@.service.<br>Created symlink &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;multi-user.target.wants&#x2F;remote-fs.target → &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;remote-fs.target.<br>Created symlink &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;dbus-org.freedesktop.timesync1.service → &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;systemd-timesyncd.service.<br>Created symlink &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;sysinit.target.wants&#x2F;systemd-timesyncd.service → &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;systemd-timesyncd.service.<br>Setting up dmsetup (2:1.02.155-3) …<br>Selecting previously unselected package systemd-sysv.<br>(Reading database … 25328 files and directories currently installed.)<br>Preparing to unpack …&#x2F;00-systemd-sysv_241-7<del>deb10u8_arm64.deb …<br>Unpacking systemd-sysv (241-7</del>deb10u8) …<br>Selecting previously unselected package libdbus-1-3:arm64.<br>Preparing to unpack …&#x2F;01-libdbus-1-3_1.12.20-0+deb10u1_arm64.deb …<br>Unpacking libdbus-1-3:arm64 (1.12.20-0+deb10u1) …<br>Selecting previously unselected package dbus.<br>Preparing to unpack …&#x2F;02-dbus_1.12.20-0+deb10u1_arm64.deb …<br>Unpacking dbus (1.12.20-0+deb10u1) …<br>Selecting previously unselected package libpam-systemd:arm64.<br>Preparing to unpack …&#x2F;03-libpam-systemd_241-7<del>deb10u8_arm64.deb …<br>Unpacking libpam-systemd:arm64 (241-7</del>deb10u8) …<br>Selecting previously unselected package ncurses-term.<br>Preparing to unpack …&#x2F;04-ncurses-term_6.1+20181013-2+deb10u2_all.deb …<br>Unpacking ncurses-term (6.1+20181013-2+deb10u2) …<br>Preparing to unpack …&#x2F;05-openssh-client_1%3a7.9p1-10+deb10u2_arm64.deb …<br>Unpacking openssh-client (1:7.9p1-10+deb10u2) over (1:7.9p1-10+deb10u1) …<br>Selecting previously unselected package libwrap0:arm64.<br>Preparing to unpack …&#x2F;06-libwrap0_7.6.q-28_arm64.deb …<br>Unpacking libwrap0:arm64 (7.6.q-28) …<br>Selecting previously unselected package libxmuu1:arm64.<br>Preparing to unpack …&#x2F;07-libxmuu1_2%3a1.1.2-2+b3_arm64.deb …<br>Unpacking libxmuu1:arm64 (2:1.1.2-2+b3) …<br>Selecting previously unselected package openssh-sftp-server.<br>Preparing to unpack …&#x2F;08-openssh-sftp-server_1%3a7.9p1-10+deb10u2_arm64.deb …<br>Unpacking openssh-sftp-server (1:7.9p1-10+deb10u2) …<br>Selecting previously unselected package openssh-server.<br>Preparing to unpack …&#x2F;09-openssh-server_1%3a7.9p1-10+deb10u2_arm64.deb …<br>Unpacking openssh-server (1:7.9p1-10+deb10u2) …<br>Selecting previously unselected package xauth.<br>Preparing to unpack …&#x2F;10-xauth_1%3a1.0.10-1_arm64.deb …<br>Unpacking xauth (1:1.0.10-1) …<br>Selecting previously unselected package libnss-systemd:arm64.<br>Preparing to unpack …&#x2F;11-libnss-systemd_241-7<del>deb10u8_arm64.deb …<br>Unpacking libnss-systemd:arm64 (241-7</del>deb10u8) …<br>Setting up systemd-sysv (241-7<del>deb10u8) …<br>Setting up openssh-client (1:7.9p1-10+deb10u2) …<br>Setting up libnss-systemd:arm64 (241-7</del>deb10u8) …<br>First installation detected…<br>Checking NSS setup…<br>Setting up libwrap0:arm64 (7.6.q-28) …<br>Setting up libdbus-1-3:arm64 (1.12.20-0+deb10u1) …<br>Setting up dbus (1.12.20-0+deb10u1) …<br>invoke-rc.d: could not determine current runlevel<br>invoke-rc.d: policy-rc.d denied execution of start.<br>Setting up libpam-systemd:arm64 (241-7~deb10u8) …<br>debconf: unable to initialize frontend: Dialog<br>debconf: (TERM is not set, so the dialog frontend is not usable.)<br>debconf: falling back to frontend: Readline<br>Setting up libxmuu1:arm64 (2:1.1.2-2+b3) …<br>Setting up ncurses-term (6.1+20181013-2+deb10u2) …<br>Setting up openssh-sftp-server (1:7.9p1-10+deb10u2) …<br>Setting up openssh-server (1:7.9p1-10+deb10u2) …<br>debconf: unable to initialize frontend: Dialog<br>debconf: (TERM is not set, so the dialog frontend is not usable.)<br>debconf: falling back to frontend: Readline</p>
<p>Creating config file &#x2F;etc&#x2F;ssh&#x2F;sshd_config with new version<br>Creating SSH2 RSA key; this may take some time …<br>2048 SHA256:cEaUdyT6Hx04XRMm9rM&#x2F;3XwpPfYW1pk8aLuPj+H&#x2F;H74 root@2e945ea6c6c8 (RSA)<br>Creating SSH2 ECDSA key; this may take some time …<br>256 SHA256:SdNsg649xnvS1iDxsRnLZyYbAoBuVC0AAgBn2BrpBIA root@2e945ea6c6c8 (ECDSA)<br>Creating SSH2 ED25519 key; this may take some time …<br>256 SHA256:gp7YaazhqkMCaueTtGPhN4eqXQM7EY&#x2F;qo6CIMJKJUAM root@2e945ea6c6c8 (ED25519)<br>Created symlink &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;sshd.service → &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;ssh.service.<br>Created symlink &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;multi-user.target.wants&#x2F;ssh.service → &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;ssh.service.<br>invoke-rc.d: could not determine current runlevel<br>invoke-rc.d: policy-rc.d denied execution of start.<br>Setting up xauth (1:1.0.10-1) …<br>Processing triggers for systemd (241-7<del>deb10u8) …<br>Processing triggers for libc-bin (2.28-10) …<br>Removing intermediate container 2e945ea6c6c8<br> —&gt; 2e0c25b239f8<br>Step 5&#x2F;12 : RUN sed -ri ‘s&#x2F;UsePAM yes&#x2F;#UsePAM yes&#x2F;g’ &#x2F;etc&#x2F;ssh&#x2F;sshd_config &amp;&amp; sed -ri ‘s&#x2F;^#?PermitRootLogin\s+.*&#x2F;PermitRootLogin yes&#x2F;‘ &#x2F;etc&#x2F;ssh&#x2F;sshd_config<br> —&gt; Running in feb082ef3d54<br>Removing intermediate container feb082ef3d54<br> —&gt; 04e7d111667f<br>Step 6&#x2F;12 : ENV http_proxy ‘’<br> —&gt; Running in d85cabc29931<br>Removing intermediate container d85cabc29931<br> —&gt; 7be3a0816c55<br>Step 7&#x2F;12 : ENV https_proxy ‘’<br> —&gt; Running in fde04a902add<br>Removing intermediate container fde04a902add<br> —&gt; ab4b80bbf41d<br>Step 8&#x2F;12 : ENV ftp_proxy ‘’<br> —&gt; Running in e69f82c2dbdb<br>Removing intermediate container e69f82c2dbdb<br> —&gt; b5e9f01546bd<br>Step 9&#x2F;12 : RUN useradd -d &#x2F;home&#x2F;hwMindX -u 9000 -m -s &#x2F;bin&#x2F;bash hwMindX &amp;&amp;     useradd -d &#x2F;home&#x2F;HwHiAiUser -u 1000 -m -s &#x2F;bin&#x2F;bash HwHiAiUser &amp;&amp;     usermod -a -G HwHiAiUser hwMindX<br> —&gt; Running in 4d1821f15a61<br>Removing intermediate container 4d1821f15a61<br> —&gt; 62891e7cf121<br>Step 10&#x2F;12 : RUN echo root:123123 | chpasswd<br> —&gt; Running in 6f31c83a1b24<br>Removing intermediate container 6f31c83a1b24<br> —&gt; 90fb27e9b246<br>Step 11&#x2F;12 : USER hwMindX<br> —&gt; Running in 3dca31695032<br>Removing intermediate container 3dca31695032<br> —&gt; 3c8e3d5fb2df<br>Step 12&#x2F;12 : ENTRYPOINT jupyter notebook –allow-root<br> —&gt; Running in 0af4a0c4ebf0<br>Removing intermediate container 0af4a0c4ebf0<br> —&gt; 36ec8fff3e06<br>Successfully built 36ec8fff3e06<br>Successfully tagged notebook:latest<br>root@ubuntu:</del>&#x2F;123&#x2F;jupyter-notebook#<br>root@ubuntu:<del>&#x2F;123&#x2F;jupyter-notebook# docker images | grep notebook<br>notebook                                                      latest              36ec8fff3e06        2 minutes ago       1.04GB<br>root@ubuntu:</del>&#x2F;123&#x2F;jupyter-notebook#</p>
<p>&#96;&#96;&#96;shell</p>
<p>十、构建tensorboard镜像</p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:<del>&#x2F;123# mkdir tensorboard<br>root@ubuntu:</del>&#x2F;123# cd tensorboard<br>root@ubuntu:<del>&#x2F;123&#x2F;tensorboard# vi Dockerfile<br>root@ubuntu:</del>&#x2F;123&#x2F;tensorboard# cat Dockerfile<br>FROM python:3.7.5</p>
<h1 id="————————-Optional-Configure-the-pip-source-–-l-1-———————"><a href="#————————-Optional-Configure-the-pip-source-–-l-1-———————" class="headerlink" title="————————-(Optional) Configure the pip source.–[l(1] ———————"></a>————————-(Optional) Configure the pip source.–[l(1] ———————</h1><p>#ENV http_proxy http:&#x2F;&#x2F;<user>:<password>@ip:port<br>#ENV https_proxy http:&#x2F;&#x2F;<user>:<password>@ip:port<br>#ENV ftp_proxy ftp:&#x2F;&#x2F;<user>:<password>@ip:port</p>
<p>RUN mkdir -p ~&#x2F;.pip <br>&amp;&amp; echo ‘[global] \n\<br>index-url&#x3D;<a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple//n/">https://pypi.doubanio.com/simple/\n\</a><br>trusted-host&#x3D;pypi.doubanio.com’ &gt;&gt; ~&#x2F;.pip&#x2F;pip.conf</p>
<p>RUN pip install –upgrade pip &amp;&amp; pip install tensorboard&#x3D;&#x3D;1.15.0</p>
<p>ENV http_proxy ‘’<br>ENV https_proxy ‘’<br>ENV ftp_proxy ‘’</p>
<p>RUN useradd -d &#x2F;home&#x2F;hwMindX -u 9000 -m -s &#x2F;bin&#x2F;bash hwMindX &amp;&amp; <br>    useradd -d &#x2F;home&#x2F;HwHiAiUser -u 1000 -m -s &#x2F;bin&#x2F;bash HwHiAiUser &amp;&amp; <br>    usermod -a -G HwHiAiUser hwMindX</p>
<p>USER hwMindX</p>
<p>root@ubuntu:<del>&#x2F;123&#x2F;tensorboard# docker build -t tensorboard:latest .<br>Sending build context to Docker daemon   2.56kB<br>Step 1&#x2F;8 : FROM python:3.7.5<br> —&gt; a4356c370cda<br>Step 2&#x2F;8 : RUN mkdir -p ~&#x2F;.pip &amp;&amp; echo ‘[global] \nindex-url&#x3D;<a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple//ntrusted-host=pypi.doubanio.com&#39;">https://pypi.doubanio.com/simple/\ntrusted-host=pypi.doubanio.com&#39;</a> &gt;&gt; ~&#x2F;.pip&#x2F;pip.conf<br> —&gt; Using cache<br> —&gt; 2e9619b95f3c<br>Step 3&#x2F;8 : RUN pip install –upgrade pip &amp;&amp; pip install tensorboard&#x3D;&#x3D;1.15.0<br> —&gt; Running in 7d03c4546a34<br>Looking in indexes: <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple/">https://pypi.doubanio.com/simple/</a><br>Collecting pip<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/ca/31/b88ef447d595963c01060998cb329251648acf4a067721b0452c45527eb8/pip-21.2.4-py3-none-any.whl">https://pypi.doubanio.com/packages/ca/31/b88ef447d595963c01060998cb329251648acf4a067721b0452c45527eb8/pip-21.2.4-py3-none-any.whl</a> (1.6MB)<br>Installing collected packages: pip<br>  Found existing installation: pip 19.3.1<br>    Uninstalling pip-19.3.1:<br>      Successfully uninstalled pip-19.3.1<br>Successfully installed pip-21.2.4<br>Looking in indexes: <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple/">https://pypi.doubanio.com/simple/</a><br>Collecting tensorboard&#x3D;&#x3D;1.15.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/1e/e9/d3d747a97f7188f48aa5eda486907f3b345cd409f0a0850468ba867db246/tensorboard-1.15.0-py3-none-any.whl">https://pypi.doubanio.com/packages/1e/e9/d3d747a97f7188f48aa5eda486907f3b345cd409f0a0850468ba867db246/tensorboard-1.15.0-py3-none-any.whl</a> (3.8 MB)<br>Requirement already satisfied: setuptools&gt;&#x3D;41.0.0 in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from tensorboard&#x3D;&#x3D;1.15.0) (41.6.0)<br>Collecting markdown&gt;&#x3D;2.6.8<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/6e/33/1ae0f71395e618d6140fbbc9587cc3156591f748226075e0f7d6f9176522/Markdown-3.3.4-py3-none-any.whl">https://pypi.doubanio.com/packages/6e/33/1ae0f71395e618d6140fbbc9587cc3156591f748226075e0f7d6f9176522/Markdown-3.3.4-py3-none-any.whl</a> (97 kB)<br>Collecting six&gt;&#x3D;1.10.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl</a> (11 kB)<br>Collecting numpy&gt;&#x3D;1.12.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/5c/61/b2f14fb5aa1198fa63c6c90205dc2557df5cacdeb0b16d66abc6af8724b8/numpy-1.21.2-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/5c/61/b2f14fb5aa1198fa63c6c90205dc2557df5cacdeb0b16d66abc6af8724b8/numpy-1.21.2-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl</a> (13.0 MB)<br>Collecting werkzeug&gt;&#x3D;0.11.15<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/bd/24/11c3ea5a7e866bf2d97f0501d0b4b1c9bbeade102bb4b588f0d2919a5212/Werkzeug-2.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/bd/24/11c3ea5a7e866bf2d97f0501d0b4b1c9bbeade102bb4b588f0d2919a5212/Werkzeug-2.0.1-py3-none-any.whl</a> (288 kB)<br>Requirement already satisfied: wheel&gt;&#x3D;0.26 in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from tensorboard&#x3D;&#x3D;1.15.0) (0.33.6)<br>Collecting grpcio&gt;&#x3D;1.6.3<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/8d/87/f66686884e21e4350746a18e664202ab9b39a3cd527df3ff54a022935ee5/grpcio-1.39.0-cp37-cp37m-manylinux_2_24_aarch64.whl">https://pypi.doubanio.com/packages/8d/87/f66686884e21e4350746a18e664202ab9b39a3cd527df3ff54a022935ee5/grpcio-1.39.0-cp37-cp37m-manylinux_2_24_aarch64.whl</a> (38.5 MB)<br>Collecting protobuf&gt;&#x3D;3.6.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/fd/5f/6d6f7a5859caf79894685ec543354edc05538a0a34d63a411a2a7cb4ecfd/protobuf-3.17.3-cp37-cp37m-manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/fd/5f/6d6f7a5859caf79894685ec543354edc05538a0a34d63a411a2a7cb4ecfd/protobuf-3.17.3-cp37-cp37m-manylinux2014_aarch64.whl</a> (922 kB)<br>Collecting absl-py&gt;&#x3D;0.4<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/23/47/835652c7e19530973c73c65e652fc53bd05725d5a7cf9bb8706777869c1e/absl_py-0.13.0-py3-none-any.whl">https://pypi.doubanio.com/packages/23/47/835652c7e19530973c73c65e652fc53bd05725d5a7cf9bb8706777869c1e/absl_py-0.13.0-py3-none-any.whl</a> (132 kB)<br>Collecting importlib-metadata<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/c0/72/4512a88e402d4dc3bab49a845130d95ac48936ef3a9469b55cc79a60d84d/importlib_metadata-4.6.4-py3-none-any.whl">https://pypi.doubanio.com/packages/c0/72/4512a88e402d4dc3bab49a845130d95ac48936ef3a9469b55cc79a60d84d/importlib_metadata-4.6.4-py3-none-any.whl</a> (17 kB)<br>Collecting zipp&gt;&#x3D;0.5<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/92/d9/89f433969fb8dc5b9cbdd4b4deb587720ec1aeb59a020cf15002b9593eef/zipp-3.5.0-py3-none-any.whl">https://pypi.doubanio.com/packages/92/d9/89f433969fb8dc5b9cbdd4b4deb587720ec1aeb59a020cf15002b9593eef/zipp-3.5.0-py3-none-any.whl</a> (5.7 kB)<br>Collecting typing-extensions&gt;&#x3D;3.6.4<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/2e/35/6c4fff5ab443b57116cb1aad46421fb719bed2825664e8fe77d66d99bcbc/typing_extensions-3.10.0.0-py3-none-any.whl">https://pypi.doubanio.com/packages/2e/35/6c4fff5ab443b57116cb1aad46421fb719bed2825664e8fe77d66d99bcbc/typing_extensions-3.10.0.0-py3-none-any.whl</a> (26 kB)<br>Installing collected packages: zipp, typing-extensions, six, importlib-metadata, werkzeug, protobuf, numpy, markdown, grpcio, absl-py, tensorboard<br>Successfully installed absl-py-0.13.0 grpcio-1.39.0 importlib-metadata-4.6.4 markdown-3.3.4 numpy-1.21.2 protobuf-3.17.3 six-1.16.0 tensorboard-1.15.0 typing-extensions-3.10.0.0 werkzeug-2.0.1 zipp-3.5.0<br>WARNING: Running pip as the ‘root’ user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: <a target="_blank" rel="noopener" href="https://pip.pypa.io/warnings/venv">https://pip.pypa.io/warnings/venv</a><br>Removing intermediate container 7d03c4546a34<br> —&gt; 4dd40311445c<br>Step 4&#x2F;8 : ENV http_proxy ‘’<br> —&gt; Running in 51e014124cef<br>Removing intermediate container 51e014124cef<br> —&gt; 90694cc782ca<br>Step 5&#x2F;8 : ENV https_proxy ‘’<br> —&gt; Running in ddaaf7ceeded<br>Removing intermediate container ddaaf7ceeded<br> —&gt; 66a6f22d6688<br>Step 6&#x2F;8 : ENV ftp_proxy ‘’<br> —&gt; Running in d18d506c95bb<br>Removing intermediate container d18d506c95bb<br> —&gt; a6f8d3009ce3<br>Step 7&#x2F;8 : RUN useradd -d &#x2F;home&#x2F;hwMindX -u 9000 -m -s &#x2F;bin&#x2F;bash hwMindX &amp;&amp;     useradd -d &#x2F;home&#x2F;HwHiAiUser -u 1000 -m -s &#x2F;bin&#x2F;bash HwHiAiUser &amp;&amp;     usermod -a -G HwHiAiUser hwMindX<br> —&gt; Running in c29af506d5ed<br>Removing intermediate container c29af506d5ed<br> —&gt; 5faf1754daba<br>Step 8&#x2F;8 : USER hwMindX<br> —&gt; Running in d032b1b13d00<br>Removing intermediate container d032b1b13d00<br> —&gt; d00db512a587<br>Successfully built d00db512a587<br>Successfully tagged tensorboard:latest<br>root@ubuntu:</del>&#x2F;123&#x2F;tensorboard# docker images | grep tensorboard<br>tensorboard                                                   latest              d00db512a587        3 minutes ago       1.12GB<br>root@ubuntu:~&#x2F;123&#x2F;tensorboard#</p>
<p>&#96;&#96;&#96;shell</p>
<p>十一、构建mindinsight镜像</p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:<del>&#x2F;123# mkdir mindinsight<br>root@ubuntu:</del>&#x2F;123# cd mindinsight<br>root@ubuntu:~&#x2F;123&#x2F;mindinsight# wget <a target="_blank" rel="noopener" href="https://ms-release.obs.cn-north-4.myhuaweicloud.com/1.3.0/MindInsight/any/mindinsight-1.3.0-py3-none-any.whl">https://ms-release.obs.cn-north-4.myhuaweicloud.com/1.3.0/MindInsight/any/mindinsight-1.3.0-py3-none-any.whl</a><br>–2021-08-21 11:29:24–  <a target="_blank" rel="noopener" href="https://ms-release.obs.cn-north-4.myhuaweicloud.com/1.3.0/MindInsight/any/mindinsight-1.3.0-py3-none-any.whl">https://ms-release.obs.cn-north-4.myhuaweicloud.com/1.3.0/MindInsight/any/mindinsight-1.3.0-py3-none-any.whl</a><br>Resolving ms-release.obs.cn-north-4.myhuaweicloud.com (ms-release.obs.cn-north-4.myhuaweicloud.com)… 49.4.112.92, 49.4.112.3, 49.4.112.91<br>Connecting to ms-release.obs.cn-north-4.myhuaweicloud.com (ms-release.obs.cn-north-4.myhuaweicloud.com)|49.4.112.92|:443… connected.<br>HTTP request sent, awaiting response… 200 OK<br>Length: 5422450 (5.2M) [binary&#x2F;octet-stream]<br>Saving to: ‘mindinsight-1.3.0-py3-none-any.whl’</p>
<p>mindinsight-1.3.0-py3-none-any.whl                   100%[&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;]   5.17M  24.3MB&#x2F;s    in 0.2s    </p>
<p>2021-08-21 11:29:25 (24.3 MB&#x2F;s) - ‘mindinsight-1.3.0-py3-none-any.whl’ saved [5422450&#x2F;5422450]</p>
<p>root@ubuntu:<del>&#x2F;123&#x2F;mindinsight# vi Dockerfile<br>root@ubuntu:</del>&#x2F;123&#x2F;mindinsight#<br>root@ubuntu:<del>&#x2F;123&#x2F;mindinsight#<br>root@ubuntu:</del>&#x2F;123&#x2F;mindinsight#<br>root@ubuntu:~&#x2F;123&#x2F;mindinsight# cat Dockerfile<br>FROM python:3.7.5</p>
<h1 id="————————-Optional-Configure-the-pip-source-–-l-1-———————-1"><a href="#————————-Optional-Configure-the-pip-source-–-l-1-———————-1" class="headerlink" title="————————-(Optional) Configure the pip source.–[l(1] ———————"></a>————————-(Optional) Configure the pip source.–[l(1] ———————</h1><p>#ENV http_proxy http:&#x2F;&#x2F;<user>:<password>@ip:port<br>#ENV https_proxy http:&#x2F;&#x2F;<user>:<password>@ip:port<br>#ENV ftp_proxy ftp:&#x2F;&#x2F;<user>:<password>@ip:port</p>
<p>WORKDIR &#x2F;tmp<br>COPY . .&#x2F;</p>
<p>RUN mkdir -p ~&#x2F;.pip <br>&amp;&amp; echo ‘[global] \n\<br>index-url&#x3D;<a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple//n/">https://pypi.doubanio.com/simple/\n\</a><br>trusted-host&#x3D;pypi.doubanio.com’ &gt;&gt; ~&#x2F;.pip&#x2F;pip.conf</p>
<p>RUN pip install –upgrade pip &amp;&amp; pip3 install mindinsight-1.3.0-py3-none-any.whl &amp;&amp; <br>    rm mindinsight-1.3.0-py3-none-any.whl &amp;&amp; rm Dockerfile</p>
<p>RUN sed -i “&#x2F;^HOST&#x2F;cHOST &#x3D; ‘0.0.0.0’” &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;mindinsight&#x2F;conf&#x2F;constants.py</p>
<p>ENV http_proxy ‘’<br>ENV https_proxy ‘’<br>ENV ftp_proxy ‘’<br>RUN useradd -d &#x2F;home&#x2F;hwMindX -u 9000 -m -s &#x2F;bin&#x2F;bash hwMindX &amp;&amp; <br>    useradd -d &#x2F;home&#x2F;HwHiAiUser -u 1000 -m -s &#x2F;bin&#x2F;bash HwHiAiUser &amp;&amp; <br>    usermod -a -G HwHiAiUser hwMindX<br>root@ubuntu:<del>&#x2F;123&#x2F;mindinsight# vi start.sh<br>root@ubuntu:</del>&#x2F;123&#x2F;mindinsight#<br>root@ubuntu:<del>&#x2F;123&#x2F;mindinsight#<br>root@ubuntu:</del>&#x2F;123&#x2F;mindinsight# vi start.sh<br>root@ubuntu:<del>&#x2F;123&#x2F;mindinsight#<br>root@ubuntu:</del>&#x2F;123&#x2F;mindinsight#<br>root@ubuntu:<del>&#x2F;123&#x2F;mindinsight#<br>root@ubuntu:</del>&#x2F;123&#x2F;mindinsight# cat start.sh<br>#!&#x2F;bin&#x2F;bash</p>
<p>param&#x3D;$*</p>
<p>mindinsight start $param<br>while true<br>do<br>    sleep 30<br>    processnum&#x3D;<code>ps -ef | grep -w gunicorn | grep -v grep | wc -l</code><br>    if [ $processnum -le 0 ];then<br>      exit 1<br>    fi<br>done</p>
<p>root@ubuntu:<del>&#x2F;123&#x2F;mindinsight# docker build -t mindinsight:latest .<br>Sending build context to Docker daemon  5.427MB<br>Step 1&#x2F;10 : FROM python:3.7.5<br> —&gt; a4356c370cda<br>Step 2&#x2F;10 : WORKDIR &#x2F;tmp<br> —&gt; Using cache<br> —&gt; 6dca759650eb<br>Step 3&#x2F;10 : COPY . .&#x2F;<br> —&gt; 1c047c1f27a0<br>Step 4&#x2F;10 : RUN mkdir -p ~&#x2F;.pip &amp;&amp; echo ‘[global] \nindex-url&#x3D;<a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple//ntrusted-host=pypi.doubanio.com&#39;">https://pypi.doubanio.com/simple/\ntrusted-host=pypi.doubanio.com&#39;</a> &gt;&gt; ~&#x2F;.pip&#x2F;pip.conf<br> —&gt; Running in 9ec07e2141f8<br>Removing intermediate container 9ec07e2141f8<br> —&gt; d2770d9bceb0<br>Step 5&#x2F;10 : RUN pip install –upgrade pip &amp;&amp; pip3 install mindinsight-1.3.0-py3-none-any.whl &amp;&amp;     rm mindinsight-1.3.0-py3-none-any.whl &amp;&amp; rm Dockerfile<br> —&gt; Running in 4f6b33bf9638<br>Looking in indexes: <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple/">https://pypi.doubanio.com/simple/</a><br>Collecting pip<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/ca/31/b88ef447d595963c01060998cb329251648acf4a067721b0452c45527eb8/pip-21.2.4-py3-none-any.whl">https://pypi.doubanio.com/packages/ca/31/b88ef447d595963c01060998cb329251648acf4a067721b0452c45527eb8/pip-21.2.4-py3-none-any.whl</a> (1.6MB)<br>Installing collected packages: pip<br>  Found existing installation: pip 19.3.1<br>    Uninstalling pip-19.3.1:<br>      Successfully uninstalled pip-19.3.1<br>Successfully installed pip-21.2.4<br>Looking in indexes: <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/simple/">https://pypi.doubanio.com/simple/</a><br>Processing .&#x2F;mindinsight-1.3.0-py3-none-any.whl<br>Collecting treelib&gt;&#x3D;1.6.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/04/b0/2269c328abffbb63979f7143351a24a066776b87526d79956aea5018b80a/treelib-1.6.1.tar.gz">https://pypi.doubanio.com/packages/04/b0/2269c328abffbb63979f7143351a24a066776b87526d79956aea5018b80a/treelib-1.6.1.tar.gz</a> (24 kB)<br>Collecting XlsxWriter&gt;&#x3D;1.3.2<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/68/51/f6f6aa86106712dad0db9663c7d24b6b32d2103b626d900fa68d48a9b262/XlsxWriter-3.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/68/51/f6f6aa86106712dad0db9663c7d24b6b32d2103b626d900fa68d48a9b262/XlsxWriter-3.0.1-py3-none-any.whl</a> (148 kB)<br>Collecting pandas&gt;&#x3D;1.0.4<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/08/dc/d3513ec40c7df37a0e55b749a9b3a715f0d8b992c34c6ec6050bfd4a1703/pandas-1.3.2-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/08/dc/d3513ec40c7df37a0e55b749a9b3a715f0d8b992c34c6ec6050bfd4a1703/pandas-1.3.2-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl</a> (10.7 MB)<br>Collecting MarkupSafe&gt;&#x3D;1.1.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/70/fc/5a7253a9c1c4e2a3feadb80a5def4563500daa4b2d4a39cae39483afa1b0/MarkupSafe-2.0.1-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/70/fc/5a7253a9c1c4e2a3feadb80a5def4563500daa4b2d4a39cae39483afa1b0/MarkupSafe-2.0.1-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl</a> (26 kB)<br>Collecting scikit-learn&gt;&#x3D;0.23.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/f3/78/b4aa1db778c2eb4a2e7ee0df84461ecb1bb2019031fd08723bd4c923452f/scikit_learn-0.24.2-cp37-cp37m-manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/f3/78/b4aa1db778c2eb4a2e7ee0df84461ecb1bb2019031fd08723bd4c923452f/scikit_learn-0.24.2-cp37-cp37m-manylinux2014_aarch64.whl</a> (24.0 MB)<br>Collecting psutil&gt;&#x3D;5.7.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/e1/b0/7276de53321c12981717490516b7e612364f2cb372ee8901bd4a66a000d7/psutil-5.8.0.tar.gz">https://pypi.doubanio.com/packages/e1/b0/7276de53321c12981717490516b7e612364f2cb372ee8901bd4a66a000d7/psutil-5.8.0.tar.gz</a> (470 kB)<br>Collecting marshmallow&gt;&#x3D;3.10.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/2b/fb/d42cbb318e07c4d709a3cb8d85a2ca75fbb373fc536cb0afd36039233f32/marshmallow-3.13.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/2b/fb/d42cbb318e07c4d709a3cb8d85a2ca75fbb373fc536cb0afd36039233f32/marshmallow-3.13.0-py2.py3-none-any.whl</a> (47 kB)<br>Collecting yapf&gt;&#x3D;0.30.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/5f/0d/8814e79eb865eab42d95023b58b650d01dec6f8ea87fc9260978b1bf2167/yapf-0.31.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/5f/0d/8814e79eb865eab42d95023b58b650d01dec6f8ea87fc9260978b1bf2167/yapf-0.31.0-py2.py3-none-any.whl</a> (185 kB)<br>Collecting Jinja2&gt;&#x3D;2.10.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/80/21/ae597efc7ed8caaa43fb35062288baaf99a7d43ff0cf66452ddf47604ee6/Jinja2-3.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/80/21/ae597efc7ed8caaa43fb35062288baaf99a7d43ff0cf66452ddf47604ee6/Jinja2-3.0.1-py3-none-any.whl</a> (133 kB)<br>Collecting Flask&gt;&#x3D;1.1.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/54/4f/1b294c1a4ab7b2ad5ca5fc4a9a65a22ef1ac48be126289d97668852d4ab3/Flask-2.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/54/4f/1b294c1a4ab7b2ad5ca5fc4a9a65a22ef1ac48be126289d97668852d4ab3/Flask-2.0.1-py3-none-any.whl</a> (94 kB)<br>Collecting protobuf&gt;&#x3D;3.8.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/fd/5f/6d6f7a5859caf79894685ec543354edc05538a0a34d63a411a2a7cb4ecfd/protobuf-3.17.3-cp37-cp37m-manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/fd/5f/6d6f7a5859caf79894685ec543354edc05538a0a34d63a411a2a7cb4ecfd/protobuf-3.17.3-cp37-cp37m-manylinux2014_aarch64.whl</a> (922 kB)<br>Collecting google-pasta&gt;&#x3D;0.1.8<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/a3/de/c648ef6835192e6e2cc03f40b19eeda4382c49b5bafb43d88b931c4c74ac/google_pasta-0.2.0-py3-none-any.whl">https://pypi.doubanio.com/packages/a3/de/c648ef6835192e6e2cc03f40b19eeda4382c49b5bafb43d88b931c4c74ac/google_pasta-0.2.0-py3-none-any.whl</a> (57 kB)<br>Collecting pyyaml&gt;&#x3D;5.3.1<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/32/ac/a9383af90be713b0cb2ee7c7eb4317ab76957ed0a7e4aa9b9c170a992565/PyYAML-5.4.1-cp37-cp37m-manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/32/ac/a9383af90be713b0cb2ee7c7eb4317ab76957ed0a7e4aa9b9c170a992565/PyYAML-5.4.1-cp37-cp37m-manylinux2014_aarch64.whl</a> (716 kB)<br>Collecting gunicorn&gt;&#x3D;20.0.4<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/e4/dd/5b190393e6066286773a67dfcc2f9492058e9b57c4867a95f1ba5caf0a83/gunicorn-20.1.0-py3-none-any.whl">https://pypi.doubanio.com/packages/e4/dd/5b190393e6066286773a67dfcc2f9492058e9b57c4867a95f1ba5caf0a83/gunicorn-20.1.0-py3-none-any.whl</a> (79 kB)<br>Collecting pillow&gt;&#x3D;6.2.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/df/97/e6e1aae9d75a7ac638cd7e5c5ddd1cf0ed3813275c07a43b68d081e1d479/Pillow-8.3.1-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/df/97/e6e1aae9d75a7ac638cd7e5c5ddd1cf0ed3813275c07a43b68d081e1d479/Pillow-8.3.1-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl</a> (2.9 MB)<br>Collecting Click&gt;&#x3D;7.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/76/0a/b6c5f311e32aeb3b406e03c079ade51e905ea630fc19d1262a46249c1c86/click-8.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/76/0a/b6c5f311e32aeb3b406e03c079ade51e905ea630fc19d1262a46249c1c86/click-8.0.1-py3-none-any.whl</a> (97 kB)<br>Collecting scipy&gt;&#x3D;1.5.2<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/01/0b/279f3a059ee7e59aa087ccfe0c81e69fc286b869a9052f8c119ba1138a7b/scipy-1.7.1-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/01/0b/279f3a059ee7e59aa087ccfe0c81e69fc286b869a9052f8c119ba1138a7b/scipy-1.7.1-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl</a> (27.3 MB)<br>Collecting grpcio&lt;&#x3D;1.36.0,&gt;&#x3D;1.35.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/9d/9e/18e92a4042fdee8613f5613a37cf7162d32b5674f1b12d0f7b042e7e710b/grpcio-1.36.0.tar.gz">https://pypi.doubanio.com/packages/9d/9e/18e92a4042fdee8613f5613a37cf7162d32b5674f1b12d0f7b042e7e710b/grpcio-1.36.0.tar.gz</a> (21.5 MB)<br>Collecting Flask-Cors&gt;&#x3D;3.0.8<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/db/84/901e700de86604b1c4ef4b57110d4e947c218b9997adf5d38fa7da493bce/Flask_Cors-3.0.10-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/db/84/901e700de86604b1c4ef4b57110d4e947c218b9997adf5d38fa7da493bce/Flask_Cors-3.0.10-py2.py3-none-any.whl</a> (14 kB)<br>Collecting numpy&gt;&#x3D;1.17.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/5c/61/b2f14fb5aa1198fa63c6c90205dc2557df5cacdeb0b16d66abc6af8724b8/numpy-1.21.2-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl">https://pypi.doubanio.com/packages/5c/61/b2f14fb5aa1198fa63c6c90205dc2557df5cacdeb0b16d66abc6af8724b8/numpy-1.21.2-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl</a> (13.0 MB)<br>Collecting six&gt;&#x3D;1.12.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/d9/5a/e7c31adbe875f2abbb91bd84cf2dc52d792b5a01506781dbcf25c91daf11/six-1.16.0-py2.py3-none-any.whl</a> (11 kB)<br>Collecting itsdangerous&gt;&#x3D;1.1.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/9c/96/26f935afba9cd6140216da5add223a0c465b99d0f112b68a4ca426441019/itsdangerous-2.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/9c/96/26f935afba9cd6140216da5add223a0c465b99d0f112b68a4ca426441019/itsdangerous-2.0.1-py3-none-any.whl</a> (18 kB)<br>Collecting Werkzeug&gt;&#x3D;1.0.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/bd/24/11c3ea5a7e866bf2d97f0501d0b4b1c9bbeade102bb4b588f0d2919a5212/Werkzeug-2.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/bd/24/11c3ea5a7e866bf2d97f0501d0b4b1c9bbeade102bb4b588f0d2919a5212/Werkzeug-2.0.1-py3-none-any.whl</a> (288 kB)<br>Collecting importlib-metadata<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/c0/72/4512a88e402d4dc3bab49a845130d95ac48936ef3a9469b55cc79a60d84d/importlib_metadata-4.6.4-py3-none-any.whl">https://pypi.doubanio.com/packages/c0/72/4512a88e402d4dc3bab49a845130d95ac48936ef3a9469b55cc79a60d84d/importlib_metadata-4.6.4-py3-none-any.whl</a> (17 kB)<br>Requirement already satisfied: setuptools&gt;&#x3D;3.0 in &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages (from gunicorn&gt;&#x3D;20.0.4-&gt;mindinsight&#x3D;&#x3D;1.3.0) (41.6.0)<br>Collecting pytz&gt;&#x3D;2017.3<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/70/94/784178ca5dd892a98f113cdd923372024dc04b8d40abe77ca76b5fb90ca6/pytz-2021.1-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/70/94/784178ca5dd892a98f113cdd923372024dc04b8d40abe77ca76b5fb90ca6/pytz-2021.1-py2.py3-none-any.whl</a> (510 kB)<br>Collecting python-dateutil&gt;&#x3D;2.7.3<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/36/7a/87837f39d0296e723bb9b62bbb257d0355c7f6128853c78955f57342a56d/python_dateutil-2.8.2-py2.py3-none-any.whl">https://pypi.doubanio.com/packages/36/7a/87837f39d0296e723bb9b62bbb257d0355c7f6128853c78955f57342a56d/python_dateutil-2.8.2-py2.py3-none-any.whl</a> (247 kB)<br>Collecting threadpoolctl&gt;&#x3D;2.0.0<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/c6/e8/c216b9b60cbba4642d3ca1bae7a53daa0c24426f662e0e3ce3dc7f6caeaa/threadpoolctl-2.2.0-py3-none-any.whl">https://pypi.doubanio.com/packages/c6/e8/c216b9b60cbba4642d3ca1bae7a53daa0c24426f662e0e3ce3dc7f6caeaa/threadpoolctl-2.2.0-py3-none-any.whl</a> (12 kB)<br>Collecting joblib&gt;&#x3D;0.11<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/55/85/70c6602b078bd9e6f3da4f467047e906525c355a4dacd4f71b97a35d9897/joblib-1.0.1-py3-none-any.whl">https://pypi.doubanio.com/packages/55/85/70c6602b078bd9e6f3da4f467047e906525c355a4dacd4f71b97a35d9897/joblib-1.0.1-py3-none-any.whl</a> (303 kB)<br>Collecting future<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/45/0b/38b06fd9b92dc2b68d58b75f900e97884c45bedd2ff83203d933cf5851c9/future-0.18.2.tar.gz">https://pypi.doubanio.com/packages/45/0b/38b06fd9b92dc2b68d58b75f900e97884c45bedd2ff83203d933cf5851c9/future-0.18.2.tar.gz</a> (829 kB)<br>Collecting typing-extensions&gt;&#x3D;3.6.4<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/2e/35/6c4fff5ab443b57116cb1aad46421fb719bed2825664e8fe77d66d99bcbc/typing_extensions-3.10.0.0-py3-none-any.whl">https://pypi.doubanio.com/packages/2e/35/6c4fff5ab443b57116cb1aad46421fb719bed2825664e8fe77d66d99bcbc/typing_extensions-3.10.0.0-py3-none-any.whl</a> (26 kB)<br>Collecting zipp&gt;&#x3D;0.5<br>  Downloading <a target="_blank" rel="noopener" href="https://pypi.doubanio.com/packages/92/d9/89f433969fb8dc5b9cbdd4b4deb587720ec1aeb59a020cf15002b9593eef/zipp-3.5.0-py3-none-any.whl">https://pypi.doubanio.com/packages/92/d9/89f433969fb8dc5b9cbdd4b4deb587720ec1aeb59a020cf15002b9593eef/zipp-3.5.0-py3-none-any.whl</a> (5.7 kB)<br>Building wheels for collected packages: grpcio, psutil, treelib, future<br>  Building wheel for grpcio (setup.py): started<br>  Building wheel for grpcio (setup.py): still running…<br>  Building wheel for grpcio (setup.py): finished with status ‘done’<br>  Created wheel for grpcio: filename&#x3D;grpcio-1.36.0-cp37-cp37m-linux_aarch64.whl size&#x3D;43277028 sha256&#x3D;0f9c41905a2331f6405bee3d2e7dcf083ea1aa6e39f85ae1190ff3a2ce98069a<br>  Stored in directory: &#x2F;root&#x2F;.cache&#x2F;pip&#x2F;wheels&#x2F;dd&#x2F;72&#x2F;74&#x2F;30b696f7d2a6abedf42d201eccd5f7a03f84931dfaa4b147db<br>  Building wheel for psutil (setup.py): started<br>  Building wheel for psutil (setup.py): finished with status ‘done’<br>  Created wheel for psutil: filename&#x3D;psutil-5.8.0-cp37-cp37m-linux_aarch64.whl size&#x3D;295178 sha256&#x3D;34f88db3e2056672357f438d0d338027bb65594437eafb4ae7c391ad0380d8bb<br>  Stored in directory: &#x2F;root&#x2F;.cache&#x2F;pip&#x2F;wheels&#x2F;2f&#x2F;c7&#x2F;77&#x2F;86efc5d98b9a79575ab1aaa9c24651f8841e57d46862979efd<br>  Building wheel for treelib (setup.py): started<br>  Building wheel for treelib (setup.py): finished with status ‘done’<br>  Created wheel for treelib: filename&#x3D;treelib-1.6.1-py3-none-any.whl size&#x3D;18370 sha256&#x3D;437a681028a4c479a0cc23c87a01a2cc51be82dc9fd355f3baa9e1363fe7fa5b<br>  Stored in directory: &#x2F;root&#x2F;.cache&#x2F;pip&#x2F;wheels&#x2F;44&#x2F;dd&#x2F;b6&#x2F;a9967a60d3575162a2e29846347f826dcb20466b0a1b67198e<br>  Building wheel for future (setup.py): started<br>  Building wheel for future (setup.py): finished with status ‘done’<br>  Created wheel for future: filename&#x3D;future-0.18.2-py3-none-any.whl size&#x3D;491056 sha256&#x3D;5b3be1990014b279b2ec75bfb2ba81737b5f2eee949d6573c7924391bdd19ed7<br>  Stored in directory: &#x2F;root&#x2F;.cache&#x2F;pip&#x2F;wheels&#x2F;97&#x2F;83&#x2F;dc&#x2F;8e47b8e3874918101250790fbce5d89fef8d0c33eb8097ad07<br>Successfully built grpcio psutil treelib future<br>Installing collected packages: zipp, typing-extensions, MarkupSafe, importlib-metadata, Werkzeug, six, numpy, Jinja2, itsdangerous, Click, threadpoolctl, scipy, pytz, python-dateutil, joblib, future, Flask, yapf, XlsxWriter, treelib, scikit-learn, pyyaml, psutil, protobuf, pillow, pandas, marshmallow, gunicorn, grpcio, google-pasta, Flask-Cors, mindinsight<br>Successfully installed Click-8.0.1 Flask-2.0.1 Flask-Cors-3.0.10 Jinja2-3.0.1 MarkupSafe-2.0.1 Werkzeug-2.0.1 XlsxWriter-3.0.1 future-0.18.2 google-pasta-0.2.0 grpcio-1.36.0 gunicorn-20.1.0 importlib-metadata-4.6.4 itsdangerous-2.0.1 joblib-1.0.1 marshmallow-3.13.0 mindinsight-1.3.0 numpy-1.21.2 pandas-1.3.2 pillow-8.3.1 protobuf-3.17.3 psutil-5.8.0 python-dateutil-2.8.2 pytz-2021.1 pyyaml-5.4.1 scikit-learn-0.24.2 scipy-1.7.1 six-1.16.0 threadpoolctl-2.2.0 treelib-1.6.1 typing-extensions-3.10.0.0 yapf-0.31.0 zipp-3.5.0<br>WARNING: Running pip as the ‘root’ user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: <a target="_blank" rel="noopener" href="https://pip.pypa.io/warnings/venv">https://pip.pypa.io/warnings/venv</a><br>Removing intermediate container 4f6b33bf9638<br> —&gt; 2ef8fa6e4a74<br>Step 6&#x2F;10 : RUN sed -i “&#x2F;^HOST&#x2F;cHOST &#x3D; ‘0.0.0.0’” &#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.7&#x2F;site-packages&#x2F;mindinsight&#x2F;conf&#x2F;constants.py<br> —&gt; Running in 1da0a898001b<br>Removing intermediate container 1da0a898001b<br> —&gt; 08940216b1cc<br>Step 7&#x2F;10 : ENV http_proxy ‘’<br> —&gt; Running in 34dee7b0cd32<br>Removing intermediate container 34dee7b0cd32<br> —&gt; 7b7d62b31d09<br>Step 8&#x2F;10 : ENV https_proxy ‘’<br> —&gt; Running in ccc705d304f8<br>Removing intermediate container ccc705d304f8<br> —&gt; a533d73340db<br>Step 9&#x2F;10 : ENV ftp_proxy ‘’<br> —&gt; Running in 583ab62da6b4<br>Removing intermediate container 583ab62da6b4<br> —&gt; e9377900aedc<br>Step 10&#x2F;10 : RUN useradd -d &#x2F;home&#x2F;hwMindX -u 9000 -m -s &#x2F;bin&#x2F;bash hwMindX &amp;&amp;     useradd -d &#x2F;home&#x2F;HwHiAiUser -u 1000 -m -s &#x2F;bin&#x2F;bash HwHiAiUser &amp;&amp;     usermod -a -G HwHiAiUser hwMindX<br> —&gt; Running in c111b84f6220<br>Removing intermediate container c111b84f6220<br> —&gt; 7c11b719966b<br>Successfully built 7c11b719966b<br>Successfully tagged mindinsight:latest<br>root@ubuntu:</del>&#x2F;123&#x2F;mindinsight# docker images | grep mindinsight<br>mindinsight                                                   latest              7c11b719966b        17 seconds ago      1.52GB<br>root@ubuntu:~&#x2F;123&#x2F;mindinsight#</p>
<p>&#96;&#96;&#96;shell</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e1a58c86830a4135999669e6d94a091a~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>十二、配置Grafana</p>
<p>    打开Prometheus地址 》 选择“Status &gt; Targets” 》 当kubenetes-cadvisor下的“Endpoint”状态为“UP”时，记录“Labels”下的job值，该值为cadvisor所在节点的nodeName，下方文件中的“nodeName”批量替换成此名称。</p>
<p>&#96;&#96;&#96;shell<br>{<br>  “annotations”: {<br>    “list”: [<br>      {<br>        “builtIn”: 1,<br>        “datasource”: “– Grafana –”,<br>        “enable”: true,<br>        “hide”: true,<br>        “iconColor”: “rgba(0, 211, 255, 1)”,<br>        “name”: “Annotations &amp; Alerts”,<br>        “type”: “dashboard”<br>      }<br>    ]<br>  },<br>  “editable”: true,<br>  “gnetId”: null,<br>  “graphTooltip”: 0,<br>  “id”: 2,<br>  “links”: [],<br>  “panels”: [<br>    {<br>      “datasource”: null,<br>      “fieldConfig”: {<br>        “defaults”: {<br>          “custom”: {},<br>          “mappings”: [],<br>          “thresholds”: {<br>            “mode”: “absolute”,<br>            “steps”: [<br>              {<br>                “color”: “green”,<br>                “value”: null<br>              },<br>              {<br>                “color”: “red”,<br>                “value”: 80<br>              }<br>            ]<br>          }<br>        },<br>        “overrides”: []<br>      },<br>      “gridPos”: {<br>        “h”: 8,<br>        “w”: 7,<br>        “x”: 0,<br>        “y”: 0<br>      },<br>      “id”: 2,<br>      “options”: {<br>        “orientation”: “auto”,<br>        “reduceOptions”: {<br>          “calcs”: [<br>            “mean”<br>          ],<br>          “fields”: “”,<br>          “values”: false<br>        },<br>        “showThresholdLabels”: false,<br>        “showThresholdMarkers”: true<br>      },<br>      “pluginVersion”: “7.0.2”,<br>      “targets”: [<br>        {<br>          “expr”: “npu_chip_info_health_status{id&#x3D;&quot;0&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片0”,<br>          “refId”: “A”<br>        },<br>        {<br>          “expr”: “npu_chip_info_health_status{id&#x3D;&quot;1&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片1”,<br>          “refId”: “B”<br>        },<br>        {<br>          “expr”: “npu_chip_info_health_status{id&#x3D;&quot;2&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片2”,<br>          “refId”: “C”<br>        },<br>        {<br>          “expr”: “npu_chip_info_health_status{id&#x3D;&quot;3&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片3”,<br>          “refId”: “D”<br>        },<br>        {<br>          “expr”: “npu_chip_info_health_status{id&#x3D;&quot;4&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片4”,<br>          “refId”: “E”<br>        },<br>        {<br>          “expr”: “npu_chip_info_health_status{id&#x3D;&quot;5&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片5”,<br>          “refId”: “F”<br>        },<br>        {<br>          “expr”: “npu_chip_info_health_status{id&#x3D;&quot;6&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片6”,<br>          “refId”: “G”<br>        },<br>        {<br>          “expr”: “npu_chip_info_health_status{id&#x3D;&quot;7&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片7”,<br>          “refId”: “H”<br>        }<br>      ],<br>      “timeFrom”: null,<br>      “timeShift”: null,<br>      “title”: “npu健康状态(nodeName)”,<br>      “type”: “gauge”<br>    },<br>    {<br>      “aliasColors”: {},<br>      “bars”: false,<br>      “dashLength”: 10,<br>      “dashes”: false,<br>      “datasource”: “Prometheus”,<br>      “fieldConfig”: {<br>        “defaults”: {<br>          “custom”: {},<br>          “mappings”: [],<br>          “thresholds”: {<br>            “mode”: “absolute”,<br>            “steps”: [<br>              {<br>                “color”: “green”,<br>                “value”: null<br>              },<br>              {<br>                “color”: “red”,<br>                “value”: 80<br>              }<br>            ]<br>          }<br>        },<br>        “overrides”: []<br>      },<br>      “fill”: 1,<br>      “fillGradient”: 0,<br>      “gridPos”: {<br>        “h”: 8,<br>        “w”: 8,<br>        “x”: 7,<br>        “y”: 0<br>      },<br>      “hiddenSeries”: false,<br>      “id”: 6,<br>      “legend”: {<br>        “avg”: false,<br>        “current”: false,<br>        “max”: false,<br>        “min”: false,<br>        “show”: true,<br>        “total”: false,<br>        “values”: false<br>      },<br>      “lines”: true,<br>      “linewidth”: 1,<br>      “nullPointMode”: “null”,<br>      “options”: {<br>        “dataLinks”: []<br>      },<br>      “percentage”: false,<br>      “pluginVersion”: “7.0.3”,<br>      “pointradius”: 2,<br>      “points”: false,<br>      “renderer”: “flot”,<br>      “seriesOverrides”: [],<br>      “spaceLength”: 10,<br>      “stack”: false,<br>      “steppedLine”: false,<br>      “targets”: [<br>        {<br>          “expr”: “npu_chip_info_temperature{id&#x3D;&quot;0&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片0”,<br>          “refId”: “A”<br>        },<br>        {<br>          “expr”: “npu_chip_info_temperature{id&#x3D;&quot;1&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片1”,<br>          “refId”: “B”<br>        },<br>        {<br>          “expr”: “npu_chip_info_temperature{id&#x3D;&quot;2&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片2”,<br>          “refId”: “C”<br>        },<br>        {<br>          “expr”: “npu_chip_info_temperature{id&#x3D;&quot;3&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片3”,<br>          “refId”: “D”<br>        },<br>        {<br>          “expr”: “npu_chip_info_temperature{id&#x3D;&quot;4&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片4”,<br>          “refId”: “E”<br>        },<br>        {<br>          “expr”: “npu_chip_info_temperature{id&#x3D;&quot;5&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片5”,<br>          “refId”: “F”<br>        },<br>        {<br>          “expr”: “npu_chip_info_temperature{id&#x3D;&quot;6&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片6”,<br>          “refId”: “G”<br>        },<br>        {<br>          “expr”: “npu_chip_info_temperature{id&#x3D;&quot;7&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片7”,<br>          “refId”: “H”<br>        }<br>      ],<br>      “thresholds”: [],<br>      “timeFrom”: null,<br>      “timeRegions”: [],<br>      “timeShift”: null,<br>      “title”: “npu温度(nodeName)”,<br>      “tooltip”: {<br>        “shared”: true,<br>        “sort”: 0,<br>        “value_type”: “individual”<br>      },<br>      “type”: “graph”,<br>      “xaxis”: {<br>        “buckets”: null,<br>        “mode”: “time”,<br>        “name”: null,<br>        “show”: true,<br>        “values”: []<br>      },<br>      “yaxes”: [<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        },<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        }<br>      ],<br>      “yaxis”: {<br>        “align”: false,<br>        “alignLevel”: null<br>      }<br>    },<br>    {<br>      “datasource”: null,<br>      “fieldConfig”: {<br>        “defaults”: {<br>          “custom”: {},<br>          “mappings”: [],<br>          “thresholds”: {<br>            “mode”: “absolute”,<br>            “steps”: [<br>              {<br>                “color”: “green”,<br>                “value”: null<br>              },<br>              {<br>                “color”: “red”,<br>                “value”: 80<br>              }<br>            ]<br>          }<br>        },<br>        “overrides”: []<br>      },<br>      “gridPos”: {<br>        “h”: 8,<br>        “w”: 8,<br>        “x”: 15,<br>        “y”: 0<br>      },<br>      “id”: 12,<br>      “options”: {<br>        “colorMode”: “value”,<br>        “graphMode”: “area”,<br>        “justifyMode”: “auto”,<br>        “orientation”: “auto”,<br>        “reduceOptions”: {<br>          “calcs”: [<br>            “mean”<br>          ],<br>          “fields”: “”,<br>          “values”: false<br>        }<br>      },<br>      “pluginVersion”: “7.0.2”,<br>      “targets”: [<br>        {<br>          “expr”: “npu_chip_info_voltage{id&#x3D;&quot;0&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片0”,<br>          “refId”: “A”<br>        },<br>        {<br>          “expr”: “npu_chip_info_voltage{id&#x3D;&quot;1&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片1”,<br>          “refId”: “B”<br>        },<br>        {<br>          “expr”: “npu_chip_info_voltage{id&#x3D;&quot;2&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片2”,<br>          “refId”: “C”<br>        },<br>        {<br>          “expr”: “npu_chip_info_voltage{id&#x3D;&quot;3&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片3”,<br>          “refId”: “D”<br>        },<br>        {<br>          “expr”: “npu_chip_info_voltage{id&#x3D;&quot;4&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片4”,<br>          “refId”: “E”<br>        },<br>        {<br>          “expr”: “npu_chip_info_voltage{id&#x3D;&quot;5&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片5”,<br>          “refId”: “F”<br>        },<br>        {<br>          “expr”: “npu_chip_info_voltage{id&#x3D;&quot;6&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片6”,<br>          “refId”: “G”<br>        },<br>        {<br>          “expr”: “npu_chip_info_voltage{id&#x3D;&quot;7&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片7”,<br>          “refId”: “H”<br>        }<br>      ],<br>      “timeFrom”: null,<br>      “timeShift”: null,<br>      “title”: “npu电压(nodeName)”,<br>      “type”: “stat”<br>    },<br>    {<br>      “aliasColors”: {},<br>      “bars”: false,<br>      “dashLength”: 10,<br>      “dashes”: false,<br>      “datasource”: null,<br>      “fieldConfig”: {<br>        “defaults”: {<br>          “custom”: {<br>            “align”: null<br>          },<br>          “mappings”: [],<br>          “thresholds”: {<br>            “mode”: “absolute”,<br>            “steps”: [<br>              {<br>                “color”: “green”,<br>                “value”: null<br>              },<br>              {<br>                “color”: “red”,<br>                “value”: 80<br>              }<br>            ]<br>          }<br>        },<br>        “overrides”: []<br>      },<br>      “fill”: 1,<br>      “fillGradient”: 0,<br>      “gridPos”: {<br>        “h”: 8,<br>        “w”: 7,<br>        “x”: 0,<br>        “y”: 8<br>      },<br>      “hiddenSeries”: false,<br>      “id”: 8,<br>      “legend”: {<br>        “avg”: false,<br>        “current”: false,<br>        “max”: false,<br>        “min”: false,<br>        “show”: true,<br>        “total”: false,<br>        “values”: false<br>      },<br>      “lines”: true,<br>      “linewidth”: 1,<br>      “nullPointMode”: “null”,<br>      “options”: {<br>        “dataLinks”: []<br>      },<br>      “percentage”: false,<br>      “pluginVersion”: “7.0.3”,<br>      “pointradius”: 2,<br>      “points”: false,<br>      “renderer”: “flot”,<br>      “seriesOverrides”: [],<br>      “spaceLength”: 10,<br>      “stack”: false,<br>      “steppedLine”: false,<br>      “targets”: [<br>        {<br>          “expr”: “npu_chip_info_used_memory{id&#x3D;&quot;0&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片0”,<br>          “refId”: “A”<br>        },<br>        {<br>          “expr”: “npu_chip_info_used_memory{id&#x3D;&quot;1&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片1”,<br>          “refId”: “B”<br>        },<br>        {<br>          “expr”: “npu_chip_info_used_memory{id&#x3D;&quot;2&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片2”,<br>          “refId”: “C”<br>        },<br>        {<br>          “expr”: “npu_chip_info_used_memory{id&#x3D;&quot;3&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片3”,<br>          “refId”: “D”<br>        },<br>        {<br>          “expr”: “npu_chip_info_used_memory{id&#x3D;&quot;4&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片4”,<br>          “refId”: “E”<br>        },<br>        {<br>          “expr”: “npu_chip_info_used_memory{id&#x3D;&quot;5&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片5”,<br>          “refId”: “F”<br>        },<br>        {<br>          “expr”: “npu_chip_info_used_memory{id&#x3D;&quot;6&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片6”,<br>          “refId”: “G”<br>        },<br>        {<br>          “expr”: “npu_chip_info_used_memory{id&#x3D;&quot;7&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片7”,<br>          “refId”: “H”<br>        }<br>      ],<br>      “thresholds”: [],<br>      “timeFrom”: null,<br>      “timeRegions”: [],<br>      “timeShift”: null,<br>      “title”: “npu内存使用(nodeName)”,<br>      “tooltip”: {<br>        “shared”: true,<br>        “sort”: 0,<br>        “value_type”: “individual”<br>      },<br>      “type”: “graph”,<br>      “xaxis”: {<br>        “buckets”: null,<br>        “mode”: “time”,<br>        “name”: null,<br>        “show”: true,<br>        “values”: []<br>      },<br>      “yaxes”: [<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        },<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        }<br>      ],<br>      “yaxis”: {<br>        “align”: false,<br>        “alignLevel”: null<br>      }<br>    },<br>    {<br>      “aliasColors”: {},<br>      “bars”: false,<br>      “dashLength”: 10,<br>      “dashes”: false,<br>      “datasource”: null,<br>      “description”: “”,<br>      “fieldConfig”: {<br>        “defaults”: {<br>          “custom”: {<br>            “align”: null<br>          },<br>          “mappings”: [],<br>          “thresholds”: {<br>            “mode”: “absolute”,<br>            “steps”: [<br>              {<br>                “color”: “green”,<br>                “value”: null<br>              },<br>              {<br>                “color”: “red”,<br>                “value”: 80<br>              }<br>            ]<br>          }<br>        },<br>        “overrides”: []<br>      },<br>      “fill”: 1,<br>      “fillGradient”: 0,<br>      “gridPos”: {<br>        “h”: 8,<br>        “w”: 8,<br>        “x”: 7,<br>        “y”: 8<br>      },<br>      “hiddenSeries”: false,<br>      “id”: 10,<br>      “legend”: {<br>        “avg”: false,<br>        “current”: false,<br>        “max”: false,<br>        “min”: false,<br>        “show”: true,<br>        “total”: false,<br>        “values”: false<br>      },<br>      “lines”: true,<br>      “linewidth”: 1,<br>      “nullPointMode”: “null”,<br>      “options”: {<br>        “dataLinks”: []<br>      },<br>      “percentage”: false,<br>      “pluginVersion”: “7.0.3”,<br>      “pointradius”: 2,<br>      “points”: false,<br>      “renderer”: “flot”,<br>      “seriesOverrides”: [],<br>      “spaceLength”: 10,<br>      “stack”: false,<br>      “steppedLine”: false,<br>      “targets”: [<br>        {<br>          “expr”: “npu_chip_info_utilization{id&#x3D;&quot;0&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片0”,<br>          “refId”: “A”<br>        },<br>        {<br>          “expr”: “npu_chip_info_utilization{id&#x3D;&quot;1&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片1”,<br>          “refId”: “B”<br>        },<br>        {<br>          “expr”: “npu_chip_info_utilization{id&#x3D;&quot;2&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片2”,<br>          “refId”: “C”<br>        },<br>        {<br>          “expr”: “npu_chip_info_utilization{id&#x3D;&quot;3&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片3”,<br>          “refId”: “D”<br>        },<br>        {<br>          “expr”: “npu_chip_info_utilization{id&#x3D;&quot;4&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片4”,<br>          “refId”: “E”<br>        },<br>        {<br>          “expr”: “npu_chip_info_utilization{id&#x3D;&quot;5&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片5”,<br>          “refId”: “F”<br>        },<br>        {<br>          “expr”: “npu_chip_info_utilization{id&#x3D;&quot;6&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片6”,<br>          “refId”: “G”<br>        },<br>        {<br>          “expr”: “npu_chip_info_utilization{id&#x3D;&quot;7&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片7”,<br>          “refId”: “H”<br>        }<br>      ],<br>      “thresholds”: [],<br>      “timeFrom”: null,<br>      “timeRegions”: [],<br>      “timeShift”: null,<br>      “title”: “npu_AI_Core使用率(nodeName)”,<br>      “tooltip”: {<br>        “shared”: true,<br>        “sort”: 0,<br>        “value_type”: “individual”<br>      },<br>      “type”: “graph”,<br>      “xaxis”: {<br>        “buckets”: null,<br>        “mode”: “time”,<br>        “name”: null,<br>        “show”: true,<br>        “values”: []<br>      },<br>      “yaxes”: [<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        },<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        }<br>      ],<br>      “yaxis”: {<br>        “align”: false,<br>        “alignLevel”: null<br>      }<br>    },<br>    {<br>      “aliasColors”: {},<br>      “bars”: false,<br>      “dashLength”: 10,<br>      “dashes”: false,<br>      “datasource”: null,<br>      “fieldConfig”: {<br>        “defaults”: {<br>          “custom”: {<br>            “align”: null<br>          },<br>          “mappings”: [],<br>          “thresholds”: {<br>            “mode”: “absolute”,<br>            “steps”: [<br>              {<br>                “color”: “green”,<br>                “value”: null<br>              },<br>              {<br>                “color”: “red”,<br>                “value”: 80<br>              }<br>            ]<br>          }<br>        },<br>        “overrides”: []<br>      },<br>      “fill”: 1,<br>      “fillGradient”: 0,<br>      “gridPos”: {<br>        “h”: 8,<br>        “w”: 8,<br>        “x”: 15,<br>        “y”: 8<br>      },<br>      “hiddenSeries”: false,<br>      “id”: 4,<br>      “legend”: {<br>        “avg”: false,<br>        “current”: false,<br>        “max”: false,<br>        “min”: false,<br>        “show”: true,<br>        “total”: false,<br>        “values”: false<br>      },<br>      “lines”: true,<br>      “linewidth”: 1,<br>      “nullPointMode”: “null”,<br>      “options”: {<br>        “dataLinks”: []<br>      },<br>      “percentage”: false,<br>      “pluginVersion”: “7.0.3”,<br>      “pointradius”: 2,<br>      “points”: false,<br>      “renderer”: “flot”,<br>      “seriesOverrides”: [],<br>      “spaceLength”: 10,<br>      “stack”: false,<br>      “steppedLine”: false,<br>      “targets”: [<br>        {<br>          “expr”: “npu_chip_info_power{id&#x3D;&quot;0&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片0”,<br>          “refId”: “A”<br>        },<br>        {<br>          “expr”: “npu_chip_info_power{id&#x3D;&quot;1&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片1”,<br>          “refId”: “B”<br>        },<br>        {<br>          “expr”: “npu_chip_info_power{id&#x3D;&quot;2&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片2”,<br>          “refId”: “C”<br>        },<br>        {<br>          “expr”: “npu_chip_info_power{id&#x3D;&quot;3&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片3”,<br>          “refId”: “D”<br>        },<br>        {<br>          “expr”: “npu_chip_info_power{id&#x3D;&quot;4&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片4”,<br>          “refId”: “E”<br>        },<br>        {<br>          “expr”: “npu_chip_info_power{id&#x3D;&quot;5&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片5”,<br>          “refId”: “F”<br>        },<br>        {<br>          “expr”: “npu_chip_info_power{id&#x3D;&quot;6&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片6”,<br>          “refId”: “G”<br>        },<br>        {<br>          “expr”: “npu_chip_info_power{id&#x3D;&quot;7&quot;,job&#x3D;&quot;nodeName&quot;}”,<br>          “interval”: “”,<br>          “legendFormat”: “芯片7”,<br>          “refId”: “H”<br>        }<br>      ],<br>      “thresholds”: [],<br>      “timeFrom”: null,<br>      “timeRegions”: [],<br>      “timeShift”: null,<br>      “title”: “npu使用功耗(nodeName)”,<br>      “tooltip”: {<br>        “shared”: true,<br>        “sort”: 0,<br>        “value_type”: “individual”<br>      },<br>      “type”: “graph”,<br>      “xaxis”: {<br>        “buckets”: null,<br>        “mode”: “time”,<br>        “name”: null,<br>        “show”: true,<br>        “values”: []<br>      },<br>      “yaxes”: [<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        },<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        }<br>      ],<br>      “yaxis”: {<br>        “align”: false,<br>        “alignLevel”: null<br>      }<br>    },<br>    {<br>      “aliasColors”: {},<br>      “bars”: false,<br>      “dashLength”: 10,<br>      “dashes”: false,<br>      “datasource”: null,<br>      “fieldConfig”: {<br>        “defaults”: {<br>          “custom”: {}<br>        },<br>        “overrides”: []<br>      },<br>      “fill”: 1,<br>      “fillGradient”: 0,<br>      “gridPos”: {<br>        “h”: 10,<br>        “w”: 7,<br>        “x”: 0,<br>        “y”: 16<br>      },<br>      “hiddenSeries”: false,<br>      “id”: 20,<br>      “legend”: {<br>        “avg”: false,<br>        “current”: false,<br>        “max”: false,<br>        “min”: false,<br>        “show”: true,<br>        “total”: false,<br>        “values”: false<br>      },<br>      “lines”: true,<br>      “linewidth”: 1,<br>      “nullPointMode”: “null”,<br>      “options”: {<br>        “dataLinks”: []<br>      },<br>      “percentage”: false,<br>      “pointradius”: 2,<br>      “points”: false,<br>      “renderer”: “flot”,<br>      “seriesOverrides”: [],<br>      “spaceLength”: 10,<br>      “stack”: false,<br>      “steppedLine”: false,<br>      “targets”: [<br>        {<br>          “expr”: “container_memory_usage_bytes”,<br>          “interval”: “”,<br>          “legendFormat”: “”,<br>          “refId”: “A”<br>        }<br>      ],<br>      “thresholds”: [],<br>      “timeFrom”: null,<br>      “timeRegions”: [],<br>      “timeShift”: null,<br>      “title”: “容器内存使用量”,<br>      “tooltip”: {<br>        “shared”: true,<br>        “sort”: 0,<br>        “value_type”: “individual”<br>      },<br>      “type”: “graph”,<br>      “xaxis”: {<br>        “buckets”: null,<br>        “mode”: “time”,<br>        “name”: null,<br>        “show”: true,<br>        “values”: []<br>      },<br>      “yaxes”: [<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        },<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        }<br>      ],<br>      “yaxis”: {<br>        “align”: false,<br>        “alignLevel”: null<br>      }<br>    },<br>    {<br>      “aliasColors”: {},<br>      “bars”: false,<br>      “dashLength”: 10,<br>      “dashes”: false,<br>      “datasource”: null,<br>      “fieldConfig”: {<br>        “defaults”: {<br>          “custom”: {}<br>        },<br>        “overrides”: []<br>      },<br>      “fill”: 1,<br>      “fillGradient”: 0,<br>      “gridPos”: {<br>        “h”: 10,<br>        “w”: 7,<br>        “x”: 7,<br>        “y”: 16<br>      },<br>      “hiddenSeries”: false,<br>      “id”: 18,<br>      “legend”: {<br>        “avg”: false,<br>        “current”: false,<br>        “max”: false,<br>        “min”: false,<br>        “show”: true,<br>        “total”: false,<br>        “values”: false<br>      },<br>      “lines”: true,<br>      “linewidth”: 1,<br>      “nullPointMode”: “null”,<br>      “options”: {<br>        “dataLinks”: []<br>      },<br>      “percentage”: false,<br>      “pointradius”: 2,<br>      “points”: false,<br>      “renderer”: “flot”,<br>      “seriesOverrides”: [],<br>      “spaceLength”: 10,<br>      “stack”: false,<br>      “steppedLine”: false,<br>      “targets”: [<br>        {<br>          “expr”: “sum(rate(container_network_receive_bytes_total{image!&#x3D;&quot;&quot;}[1m])) without (interface)”,<br>          “interval”: “”,<br>          “legendFormat”: “”,<br>          “refId”: “A”<br>        }<br>      ],<br>      “thresholds”: [],<br>      “timeFrom”: null,<br>      “timeRegions”: [],<br>      “timeShift”: null,<br>      “title”: “容器网络接收量速率”,<br>      “tooltip”: {<br>        “shared”: true,<br>        “sort”: 0,<br>        “value_type”: “individual”<br>      },<br>      “type”: “graph”,<br>      “xaxis”: {<br>        “buckets”: null,<br>        “mode”: “time”,<br>        “name”: null,<br>        “show”: true,<br>        “values”: []<br>      },<br>      “yaxes”: [<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        },<br>        {<br>          “format”: “short”,<br>          “label”: null,<br>          “logBase”: 1,<br>          “max”: null,<br>          “min”: null,<br>          “show”: true<br>        }<br>      ],<br>      “yaxis”: {<br>        “align”: false,<br>        “alignLevel”: null<br>      }<br>    }<br>  ],<br>  “refresh”: “5s”,<br>  “schemaVersion”: 25,<br>  “style”: “dark”,<br>  “tags”: [],<br>  “templating”: {<br>    “list”: []<br>  },<br>  “time”: {<br>    “from”: “now-15m”,<br>    “to”: “now”<br>  },<br>  “timepicker”: {<br>    “refresh_intervals”: [<br>      “10s”,<br>      “30s”,<br>      “1m”,<br>      “5m”,<br>      “15m”,<br>      “30m”,<br>      “1h”,<br>      “2h”,<br>      “1d”<br>    ]<br>  },<br>  “timezone”: “”,<br>  “title”: “nodeName”,<br>  “uid”: “2kWOIniGz”,<br>  “version”: 7<br>}</p>
<p>&#96;&#96;&#96;shell</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f035f0db96145b89d31fca711d3b0c2~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<p>查看pod：  </p>
<p>&#96;&#96;&#96;shell<br>root@ubuntu:<del># kubectl get pod -A<br>NAMESPACE        NAME                                       READY   STATUS      RESTARTS   AGE<br>cadvisor         cadvisor-phj6x                             1&#x2F;1     Running     1          17h<br>default          dls-cec-deploy-686bd4d6cd-gtrqb            1&#x2F;1     Running     2          15h<br>default          dls-mms-deploy-6fd697754f-8xkkv            1&#x2F;1     Running     2          15h<br>default          hccl-controller-645bb466f-lw9b4            1&#x2F;1     Running     1          17h<br>default          tjm-77f784dcf-6s2f4                        1&#x2F;1     Running     2          15h<br>kube-system      ascend-device-plugin-daemonset-qrfbx       1&#x2F;1     Running     1          17h<br>kube-system      calico-kube-controllers-8464785d6b-tl44n   1&#x2F;1     Running     1          17h<br>kube-system      calico-node-lm7x5                          1&#x2F;1     Running     1          17h<br>kube-system      coredns-6955765f44-czzws                   1&#x2F;1     Running     1          17h<br>kube-system      coredns-6955765f44-t2n4z                   1&#x2F;1     Running     1          17h<br>kube-system      dls-apigw-deploy-9f58f549-sklgc            1&#x2F;1     Running     2          15h<br>kube-system      dls-dms-deploy-76b79854cc-6m54s            1&#x2F;1     Running     2          15h<br>kube-system      dls-ims-deploy-5445d6cc9d-96chh            1&#x2F;1     Running     2          15h<br>kube-system      dls-nginx-deploy-7c9d889998-84956          1&#x2F;1     Running     0          15h<br>kube-system      etcd-ubuntu                                1&#x2F;1     Running     1          17h<br>kube-system      grafana-core-f97475d78-b74ww               1&#x2F;1     Running     0          15h<br>kube-system      kube-apiserver-ubuntu                      1&#x2F;1     Running     1          17h<br>kube-system      kube-controller-manager-ubuntu             1&#x2F;1     Running     1          17h<br>kube-system      kube-proxy-rljv7                           1&#x2F;1     Running     1          17h<br>kube-system      kube-scheduler-ubuntu                      1&#x2F;1     Running     1          17h<br>kube-system      mysql-5cccdd88bd-mqv27                     1&#x2F;1     Running     0          15h<br>kube-system      prometheus-58c69548b4-bgw4h                1&#x2F;1     Running     0          15h<br>kube-system      redis-deploy-7fbc4fb97d-bkkmb              1&#x2F;1     Running     0          15h<br>volcano-system   volcano-admission-74776688c8-45mr8         1&#x2F;1     Running     1          17h<br>volcano-system   volcano-admission-init-zgr5t               0&#x2F;1     Completed   0          17h<br>volcano-system   volcano-controllers-6786db54f-nwnfw        1&#x2F;1     Running     1          17h<br>volcano-system   volcano-scheduler-844f9b547b-qkxgt         1&#x2F;1     Running     1          17h<br>root@ubuntu:</del>#</p>
<p>&#96;&#96;&#96;shell</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d199d3e1d1394b5dbd58a122f0fe2e7d~tplv-k3u1fbpfcp-zoom-1.image" alt="Linux运维交流社区"></p>
<p><strong>Linux运维交流社区</strong></p>
<p>Linux运维交流社区，互联网新闻以及技术交流。</p>
<p>33篇原创内容</p>
<p>公众号</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4594e4602896453c8f70b562634a32ec~tplv-k3u1fbpfcp-zoom-1.image" alt="图片"></p>
<blockquote>
<p>本文使用 <a target="_blank" rel="noopener" href="https://juejin.cn/post/6940875049587097631">文章同步助手</a> 同步</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://www.chenby.cn">chenby</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.chenby.cn/2021/12/30/530edba3f150/">http://www.chenby.cn/2021/12/30/530edba3f150/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.chenby.cn" target="_blank">小陈运维</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://www.oiox.cn/images/wallhaven-72g2qo.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/12/30/fdd885c81e9f/"><img class="prev-cover" src="https://www.oiox.cn/images/wallhaven-e79v1r.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">使用frp进行内网穿透</div></div></a></div><div class="next-post pull-right"><a href="/2021/12/30/3f162f708ca5/"><img class="next-cover" src="https://www.oiox.cn/images/wallhaven-8o3g1y.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CentOS8删除boot目录恢复</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://www.oiox.cn/1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">chenby</div><div class="author-info__description">小陈运维，致力于Kubernetes（k8s）与传统运维技术博客文档分享。互相学习，互相进步。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">167</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/cby-chen"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#NFS-service-IP"><span class="toc-number">1.</span> <span class="toc-text">NFS service IP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Master-IP"><span class="toc-number">2.</span> <span class="toc-text">Master IP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%96%E6%B6%88%E4%BB%A5%E4%B8%8B%E4%B8%A4%E8%A1%8C%E5%86%85%E5%AE%B9%E7%9A%84%E6%B3%A8%E9%87%8A%E5%B9%B6%E6%9B%B4%E6%94%B9deprecation-warnings%E4%B8%BA%E2%80%9CFalse%E2%80%9D%E3%80%82"><span class="toc-number">3.</span> <span class="toc-text">取消以下两行内容的注释并更改deprecation_warnings为“False”。</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ENV-http-proxy-http-x2F-x2F-username-password-IP-port"><span class="toc-number">4.</span> <span class="toc-text">ENV http_proxy http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ENV-https-proxy-http-x2F-x2F-username-password-IP-port"><span class="toc-number">5.</span> <span class="toc-text">ENV https_proxy http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#RUN-echo-%E2%80%98Acquire-http-Proxy-%E2%80%9Chttp-x2F-x2F-username-password-IP-port-%E2%80%9D-Acquire-https-Proxy-%E2%80%9Chttp-x2F-x2F-username-password-IP-port-%E2%80%9D-%E2%80%99-gt-x2F-etc-x2F-apt-x2F-apt-conf-d-x2F-80proxy"><span class="toc-number">6.</span> <span class="toc-text">RUN echo ‘Acquire::http::Proxy “http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}”; Acquire::https::Proxy “http:&#x2F;&#x2F;{username}:{password}@{IP}:{port}”;’ &gt; &#x2F;etc&#x2F;apt&#x2F;apt.conf.d&#x2F;80proxy</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#rm-nginx-1-17-3-tar-gz-amp-amp"><span class="toc-number">7.</span> <span class="toc-text">rm nginx-1.17.3.tar.gz &amp;&amp; \</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#rm-rf-nginx-1-17-3-nginx-upload-module-nginx-upload-progress-module"><span class="toc-number">8.</span> <span class="toc-text">rm -rf nginx-1.17.3 nginx-upload-module nginx-upload-progress-module</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94-Optional-Configure-the-proxy-and-source-%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%93"><span class="toc-number">9.</span> <span class="toc-text">————————-(Optional) Configure the proxy and source.———————–</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94-Optional-Configure-the-pip-source-%E2%80%93-l-1-%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94"><span class="toc-number">10.</span> <span class="toc-text">————————-(Optional) Configure the pip source.–[l(1] ———————</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94-Optional-Configure-the-pip-source-%E2%80%93-l-1-%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E2%80%94-1"><span class="toc-number">11.</span> <span class="toc-text">————————-(Optional) Configure the pip source.–[l(1] ———————</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/08/19/831016d20ae3/" title="二进制安装Kubernetes（k8s） v1.28.0 IPv4/IPv6双栈 可脱离互联网"><img src="https://www.oiox.cn/images/wallhaven-xlo73z.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="二进制安装Kubernetes（k8s） v1.28.0 IPv4/IPv6双栈 可脱离互联网"/></a><div class="content"><a class="title" href="/2023/08/19/831016d20ae3/" title="二进制安装Kubernetes（k8s） v1.28.0 IPv4/IPv6双栈 可脱离互联网">二进制安装Kubernetes（k8s） v1.28.0 IPv4/IPv6双栈 可脱离互联网</a><time datetime="2023-08-19T12:05:11.000Z" title="发表于 2023-08-19 20:05:11">2023-08-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/10/f73f1ebb7550/" title="小版本更新kubernetes"><img src="https://www.oiox.cn/images/wallhaven-l3xoor.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="小版本更新kubernetes"/></a><div class="content"><a class="title" href="/2023/08/10/f73f1ebb7550/" title="小版本更新kubernetes">小版本更新kubernetes</a><time datetime="2023-08-10T09:16:00.000Z" title="发表于 2023-08-10 17:16:00">2023-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/01/17596ad548ec/" title="Linux配置clash客户端"><img src="https://www.oiox.cn/images/wallhaven-6o7md7.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux配置clash客户端"/></a><div class="content"><a class="title" href="/2023/07/01/17596ad548ec/" title="Linux配置clash客户端">Linux配置clash客户端</a><time datetime="2023-07-01T06:02:01.000Z" title="发表于 2023-07-01 14:02:01">2023-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/27/92f698a70dff/" title="二进制安装Kubernetes（k8s） v1.27.3 IPv4/IPv6双栈 可脱离互联网"><img src="https://www.oiox.cn/images/wallhaven-l3dd1r.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="二进制安装Kubernetes（k8s） v1.27.3 IPv4/IPv6双栈 可脱离互联网"/></a><div class="content"><a class="title" href="/2023/06/27/92f698a70dff/" title="二进制安装Kubernetes（k8s） v1.27.3 IPv4/IPv6双栈 可脱离互联网">二进制安装Kubernetes（k8s） v1.27.3 IPv4/IPv6双栈 可脱离互联网</a><time datetime="2023-06-27T14:14:53.000Z" title="发表于 2023-06-27 22:14:53">2023-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/24/6e0f0190f0ff/" title="未命名文档"><img src="https://www.oiox.cn/images/wallhaven-72gzz3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="未命名文档"/></a><div class="content"><a class="title" href="/2023/05/24/6e0f0190f0ff/" title="未命名文档">未命名文档</a><time datetime="2023-05-24T03:34:00.000Z" title="发表于 2023-05-24 11:34:00">2023-05-24</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By chenby</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>